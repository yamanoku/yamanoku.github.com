__NUXT_JSONP__("/archive/practice-hubot-to-slack", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z){return {data:[{page:{title:"Hubot弄ってみる 準備編",description:"Slackでbotを動かすためのHubotを触ってみる話",date:"2016-01-17T00:00:00.000Z",author:"yamanoku",toc:[{id:C,depth:r,text:C},{id:X,depth:r,text:U},{id:R,depth:r,text:Q},{id:N,depth:r,text:J},{id:I,depth:r,text:O},{id:P,depth:r,text:K},{id:A,depth:r,text:A}],body:{type:"root",children:[{type:a,tag:p,props:{id:C},children:[{type:a,tag:f,props:{href:"#%E7%B5%8C%E7%B7%AF",ariaHidden:o,tabIndex:l},children:[{type:a,tag:d,props:{className:[m,n]},children:[]}]},{type:b,value:C}]},{type:a,tag:c,props:{},children:[{type:a,tag:f,props:{href:"https:\u002F\u002Fblog.8arrow.org\u002Fentry\u002F2016\u002F01\u002F13\u002F183349",rel:[j,i,h],target:g},children:[{type:b,value:"割と本気で家庭用Slack Botを作ってみた - 八発白中"}]}]},{type:a,tag:c,props:{},children:[{type:a,tag:f,props:{href:"https:\u002F\u002Ftwitter.com\u002Fyamanoku\u002Fstatus\u002F687067575998525440",rel:[j,i,h],target:g},children:[{type:b,value:"slackで残業申告時間前になったら残業するやつは申告しろって通知するbot作りたいんだけど、通知されたところで自分たちが申告するのを仕事一旦止めてすぐやれるかという人間性の問題について考えてる。"}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"勉強がてら色々と弄ってみたい。とりあえず環境構築してみる。"}]},{type:a,tag:p,props:{id:X},children:[{type:a,tag:f,props:{href:"#hubot%E5%B0%8E%E5%85%A5%E5%89%8D",ariaHidden:o,tabIndex:l},children:[{type:a,tag:d,props:{className:[m,n]},children:[]}]},{type:b,value:U}]},{type:a,tag:c,props:{},children:[{type:b,value:"そもそもnodeのバージョンとかが古いんじゃないのかと思って-vしてみたら3.0くらいのやつだったので、アップデートしたい、というか環境周り色々と整えたいと思ったので自分の中でHubot入れる以前の話になった。"}]},{type:a,tag:c,props:{},children:[{type:a,tag:f,props:{href:"https:\u002F\u002Fakiyoko.hatenablog.jp\u002Fentry\u002F2015\u002F06\u002F20\u002F132239",rel:[j,i,h],target:g},children:[{type:b,value:"nodebrew で Mac の Node.js 環境をスッキリさせた - akiyoko blog"}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"nodebrew入れた方がよさそう、とのことだったので上記参考にnodeとかnpmとかアンインストールして再度インストールした。"}]},{type:a,tag:c,props:{},children:[{type:b,value:"個人的に"},{type:a,tag:k,props:{},children:[{type:b,value:"~\u002F.bash_profile"}]},{type:b,value:"に追加するので躓きかけた。vimで直接入力してやった。"}]},{type:a,tag:c,props:{},children:[{type:b,value:"その後、動かすサーバーとテスト環境が欲しかったのでHerokuとslackを登録した。特に課金とかしなくていいです。"}]},{type:a,tag:p,props:{id:R},children:[{type:a,tag:f,props:{href:"#hubot%E5%B0%8E%E5%85%A5",ariaHidden:o,tabIndex:l},children:[{type:a,tag:d,props:{className:[m,n]},children:[]}]},{type:b,value:Q}]},{type:a,tag:c,props:{},children:[{type:b,value:"導入に先駆けてとりあえずググってみた。以下のが色々と参考になった。"}]},{type:a,tag:c,props:{},children:[{type:a,tag:f,props:{href:"https:\u002F\u002Fbitwave.showcase-tv.com\u002Fslack%e3%81%a8%e9%80%a3%e6%90%ba%e3%81%99%e3%82%8bhubot%e3%82%923%e5%88%86%e3%81%a7%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab\u002F",rel:[j,i,h],target:g},children:[{type:b,value:"slackと連携するhubotを3分でインストールする（動画付き）"}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"まずHubotのジェネレーターをインストール"}]},{type:a,tag:v,props:{className:[t]},children:[{type:a,tag:w,props:{className:[u,s]},children:[{type:a,tag:k,props:{},children:[{type:b,value:H},{type:a,tag:d,props:{className:[e,q]},children:[{type:b,value:"npm"}]},{type:b,value:E},{type:a,tag:d,props:{className:[e,q]},children:[{type:b,value:"install"}]},{type:b,value:" -g generator-hubot\n"}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"そのあとHubotを動かすためのディレクトリを作成。yamabotというのを作ります。"}]},{type:a,tag:v,props:{className:[t]},children:[{type:a,tag:w,props:{className:[u,s]},children:[{type:a,tag:k,props:{},children:[{type:b,value:H},{type:a,tag:d,props:{className:[e,q]},children:[{type:b,value:"mkdir"}]},{type:b,value:" yamabot\n$ "},{type:a,tag:d,props:{className:[e,L,M]},children:[{type:b,value:"cd"}]},{type:b,value:" yamabot\n$ yo hubot\n"}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"そんでこのHubotを定義するために以下のが尋ねられます"}]},{type:a,tag:"ul",props:{},children:[{type:a,tag:B,props:{},children:[{type:b,value:"Owner（管理者）"}]},{type:a,tag:B,props:{},children:[{type:b,value:"Bot name（Hubotの名前）"}]},{type:a,tag:B,props:{},children:[{type:b,value:"Description（Hubotの内容）"}]},{type:a,tag:B,props:{},children:[{type:b,value:"Bot adapter（Hubotと連携させるWebサービス）"}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"Bot adapterの箇所にはslackと入力しましょう。"}]},{type:a,tag:c,props:{},children:[{type:b,value:"動作確認としてローカルで動くかどうかを確認。 自分がつけたBot名が表示されてたらOK"}]},{type:a,tag:v,props:{className:[t]},children:[{type:a,tag:w,props:{className:[u,s]},children:[{type:a,tag:k,props:{},children:[{type:b,value:"$ bin\u002Fhubot\n"}]}]}]},{type:a,tag:p,props:{id:N},children:[{type:a,tag:f,props:{href:"#heroku%E3%81%AB%E3%83%AD%E3%82%B0%E3%82%A4%E3%83%B3%E3%80%81%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E7%99%BB%E9%8C%B2",ariaHidden:o,tabIndex:l},children:[{type:a,tag:d,props:{className:[m,n]},children:[]}]},{type:b,value:J}]},{type:a,tag:c,props:{},children:[{type:b,value:"ここまでの状態でHerokuにアップしてみたいのでまずはログイン。 そのあとHubot用のプロジェクトを作ります。 作った後はGitでadd、commit、pushしちゃいます。"}]},{type:a,tag:v,props:{className:[t]},children:[{type:a,tag:w,props:{className:[u,s]},children:[{type:a,tag:k,props:{},children:[{type:b,value:"$ heroku login\n$ heroku create yamabot\n$ "},{type:a,tag:d,props:{className:[e,q]},children:[{type:b,value:F}]},{type:b,value:E},{type:a,tag:d,props:{className:[e,q]},children:[{type:b,value:"add"}]},{type:b,value:" -A\n$ "},{type:a,tag:d,props:{className:[e,q]},children:[{type:b,value:F}]},{type:b,value:" commit -am "},{type:a,tag:d,props:{className:[e,"string"]},children:[{type:b,value:"\"first commit\""}]},{type:b,value:"\n$ "},{type:a,tag:d,props:{className:[e,q]},children:[{type:b,value:F}]},{type:b,value:" push heroku master\n"}]}]}]},{type:a,tag:p,props:{id:I},children:[{type:a,tag:f,props:{href:"#slack-api-%E6%89%80%E5%BE%97",ariaHidden:o,tabIndex:l},children:[{type:a,tag:d,props:{className:[m,n]},children:[]}]},{type:b,value:O}]},{type:a,tag:c,props:{},children:[{type:b,value:"次にslackに移動してAPIを取得してきます。"}]},{type:a,tag:c,props:{},children:[{type:a,tag:f,props:{href:G,rel:[j,i,h],target:g},children:[{type:b,value:G}]}]},{type:a,tag:c,props:{},children:[{type:a,tag:f,props:{href:"https:\u002F\u002Fgyazo.com\u002F10c5e0bcff205475bac1a3e7142025b8",rel:[j,i,h],target:g},children:[{type:a,tag:z,props:{alt:y,src:"https:\u002F\u002Fi.gyazo.com\u002F10c5e0bcff205475bac1a3e7142025b8.png"},children:[]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"名前を入力して決定を押すとAPIが表示されますのでコピーします。"}]},{type:a,tag:c,props:{},children:[{type:a,tag:f,props:{href:"https:\u002F\u002Fgyazo.com\u002F323ce8c5a952d8090a05a53b4b665c26",rel:[j,i,h],target:g},children:[{type:a,tag:z,props:{alt:y,src:"https:\u002F\u002Fi.gyazo.com\u002F323ce8c5a952d8090a05a53b4b665c26.png"},children:[]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"コピーしたAPIを以下"},{type:a,tag:k,props:{},children:[{type:b,value:"\u003CYour token\u003E"}]},{type:b,value:"に入力して登録します"}]},{type:a,tag:v,props:{className:[t]},children:[{type:a,tag:w,props:{className:[u,s]},children:[{type:a,tag:k,props:{},children:[{type:b,value:"heroku config:set "},{type:a,tag:d,props:{className:[e,L,M]},children:[{type:b,value:"export"}]},{type:b,value:E},{type:a,tag:d,props:{className:[e,S,T]},children:[{type:b,value:"HUBOT_SLACK_TOKEN"}]},{type:a,tag:d,props:{className:[e,x]},children:[{type:b,value:V}]},{type:a,tag:d,props:{className:[e,x]},children:[{type:b,value:"\u003C"}]},{type:b,value:"Your token"},{type:a,tag:d,props:{className:[e,x]},children:[{type:b,value:"\u003E"}]},{type:b,value:W}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"あとhubotのHerokuに登録したapp urlを以下で入力、確認して HUBOT_HEROKU_KEEPALIVE_URLに[your bot app url]に入力、登録。"}]},{type:a,tag:v,props:{className:[t]},children:[{type:a,tag:w,props:{className:[u,s]},children:[{type:a,tag:k,props:{},children:[{type:b,value:"$ heroku apps:info\n"},{type:a,tag:d,props:{className:[e,D]},children:[{type:b,value:Y}]},{type:b,value:".\nWeb URL: https:\u002F\u002Fyamabot.herokuapp.com\u002F\n"},{type:a,tag:d,props:{className:[e,D]},children:[{type:b,value:Y}]},{type:b,value:".\n$ heroku config:set "},{type:a,tag:d,props:{className:[e,S,T]},children:[{type:b,value:"HUBOT_HEROKU_KEEPALIVE_URL"}]},{type:a,tag:d,props:{className:[e,x]},children:[{type:b,value:V}]},{type:a,tag:d,props:{className:[e,D]},children:[{type:b,value:"["}]},{type:b,value:"your bot app url"},{type:a,tag:d,props:{className:[e,D]},children:[{type:b,value:"]"}]},{type:b,value:W}]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"Herokuのダッシュボードに入って登録したプロジェクトのSettings→Domainsでも確認できます。"}]},{type:a,tag:p,props:{id:P},children:[{type:a,tag:f,props:{href:"#slack%E3%82%92%E8%A6%8B%E3%82%8B",ariaHidden:o,tabIndex:l},children:[{type:a,tag:d,props:{className:[m,n]},children:[]}]},{type:b,value:K}]},{type:a,tag:c,props:{},children:[{type:a,tag:f,props:{href:"https:\u002F\u002Fgyazo.com\u002F6e2b8677ec2aa84f9291027947e6b42f",rel:[j,i,h],target:g},children:[{type:a,tag:z,props:{alt:y,src:"https:\u002F\u002Fi.gyazo.com\u002F6e2b8677ec2aa84f9291027947e6b42f.png"},children:[]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"登録したslackを見るとslack bot以外にも自分が登録したHubotが居るかと思われるので ひとまず適当なチャンネルを作ってInviteします。"}]},{type:a,tag:c,props:{},children:[{type:b,value:"そこでbot名を入力した後pingと入力。 直後にbotがPONGと返せたらたぶん設定完了。"}]},{type:a,tag:c,props:{},children:[{type:a,tag:f,props:{href:"https:\u002F\u002Fgyazo.com\u002Fd347e4c0add0fb1e3e4408e875061132",rel:[j,i,h],target:g},children:[{type:a,tag:z,props:{alt:y,src:"https:\u002F\u002Fi.gyazo.com\u002Fd347e4c0add0fb1e3e4408e875061132.png"},children:[]}]}]},{type:a,tag:c,props:{},children:[{type:b,value:"自分は色々右往左往しながらやったのでちゃんと設定がキレイにできてるか怪しいのですが botが登録されてPONG言ってるしまあ良いか的な感じです。"}]},{type:a,tag:c,props:{},children:[{type:b,value:"もちろん、あっさり行く人はそれでいいです。いかなくても大体なんとかなります。"}]},{type:a,tag:p,props:{id:A},children:[{type:a,tag:f,props:{href:"#%E6%AC%A1%E5%9B%9E%E3%81%AE%E4%BA%88%E5%AE%9A",ariaHidden:o,tabIndex:l},children:[{type:a,tag:d,props:{className:[m,n]},children:[]}]},{type:b,value:A}]},{type:a,tag:c,props:{},children:[{type:b,value:"CoffeeScriptいじって色々発言させるのとか。一応の最終目標としては定時に何かしらの報告をしてくれるようにしたい。"}]},{type:a,tag:c,props:{},children:[{type:b,value:"進捗あったらまた書きます。"}]}]},dir:"\u002Farchive",path:"\u002Farchive\u002Fpractice-hubot-to-slack",extension:".md",slug:"practice-hubot-to-slack",createdAt:Z,updatedAt:Z}}],fetch:[],mutations:[]}}("element","text","p","span","token","a","_blank","noreferrer","noopener","nofollow","code",-1,"icon","icon-link","true","h2","function",2,"line-numbers","nuxt-content-highlight","language-bash","div","pre","operator","Image from Gyazo","img","次回の予定","li","経緯","punctuation"," ","git","http:\u002F\u002Fmy.slack.com\u002Fservices\u002Fnew\u002Fhubot","$ ","slack-api-所得","Herokuにログイン、プロジェクト登録","Slackを見る","builtin","class-name","herokuにログイン、プロジェクト登録","Slack API 所得","slackを見る","Hubot導入","hubot導入","assign-left","variable","Hubot導入前","=","\n","hubot導入前","..","2020-06-25T00:19:46.573Z")));