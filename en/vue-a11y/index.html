<!doctype html>
<html data-n-head-ssr prefix="og: http://ogp.me/ns#" lang="en-US" data-n-head="%7B%22prefix%22:%7B%22ssr%22:%22og:%20http://ogp.me/ns#%22%7D,%22lang%22:%7B%22ssr%22:%22en-US%22%7D%7D">
  <head>
    <title>Vue.jsから考えるアクセシビリティ - yamanoku.net</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" name="twitter:card" content="summary_large_image"><meta data-n-head="ssr" name="twitter:site" content="@yamanoku"><meta data-n-head="ssr" name="og:title" content="yamanoku.net"><meta data-n-head="ssr" name="og:description" content="Okuto Oyama Portfolio Site"><meta data-n-head="ssr" name="og:image" content="https://yamanoku.net/ogp/ogp@2x.png"><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="yamanoku.net"><meta data-n-head="ssr" data-hid="author" name="author" content="yamanoku"><meta data-n-head="ssr" data-hid="theme-color" name="theme-color" content="#36465d"><meta data-n-head="ssr" data-hid="og:type" name="og:type" property="og:type" content="website"><meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" property="og:site_name" content="yamanoku.net"><meta data-n-head="ssr" data-hid="og:locale" property="og:locale" content="en_US"><meta data-n-head="ssr" data-hid="og:locale:alternate-ja" property="og:locale:alternate" content="ja"><meta data-n-head="ssr" data-hid="og:locale:alternate-fre" property="og:locale:alternate" content="fre"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="Vue.jsから考えるアクセシビリティ - yamanoku.net"><meta data-n-head="ssr" data-hid="description" name="description" content="こちらは、Webアクセシビリティ Advent Calendar 2019の21日目の記事です。この記事ではVue.js開発におけるWebアクセシビリティ対応にまつわる内容となっております。"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="こちらは、Webアクセシビリティ Advent Calendar 2019の21日目の記事です。この記事ではVue.js開発におけるWebアクセシビリティ対応にまつわる内容となっております。"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://yamanoku.net/ogp/ogp-vue-a11y@2x.png"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+JP:400,700&amp;amp;display=optional"><link data-n-head="ssr" rel="manifest" href="/_nuxt/manifest.5933ce3b.json"><link data-n-head="ssr" rel="shortcut icon" href="/_nuxt/icons/icon_64.8sxq1EOx956.png"><link data-n-head="ssr" rel="apple-touch-icon" href="/_nuxt/icons/icon_512.8sxq1EOx956.png" sizes="512x512"><link data-n-head="ssr" data-hid="alternate-hreflang-ja" rel="alternate" href="https://yamanoku.net/vue-a11y" hreflang="ja"><link data-n-head="ssr" data-hid="alternate-hreflang-en-US" rel="alternate" href="https://yamanoku.net/en/vue-a11y" hreflang="en-US"><link data-n-head="ssr" data-hid="alternate-hreflang-fre" rel="alternate" href="https://yamanoku.net/fr/vue-a11y" hreflang="fre"><script data-n-head="ssr" src="https://www.googletagmanager.com/gtag/js?id=UA-146072150-1" async></script><link rel="preload" href="/_nuxt/9dbdaf4407eb16bf7d8b.js" as="script"><link rel="preload" href="/_nuxt/9e483913e16aa09abd89.js" as="script"><link rel="preload" href="/_nuxt/87fc5b7c29185149d06e.js" as="script"><link rel="preload" href="/_nuxt/de9c2398c7b166c86371.js" as="script"><link rel="preload" href="/_nuxt/2ff0f76c47b9d694d699.js" as="script"><style data-vue-ssr-id="7372a3d1:0 b1ef8cd8:0 4d3eea98:0 3191d5ad:0 932a8f60:0 db359be8:0 114d0b91:0 08492463:0 597cfb5b:0 20812ae4:0">/*! modern-normalize | MIT License | https://github.com/sindresorhus/modern-normalize */html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol}hr{height:0}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{padding:0}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}:root{--black:#15202b;--white:#d2d2d2;--gray:rgba(70,70,70,0.5);--blue:#5abeff;--purple:#dc64dc;--linkBlue:#127ac8;--linkVisited:rgba(70,70,70,0.5);--rhythm:24px}html{color:#15202b;color:var(--black);font:inherit;font-size:100%;line-height:24px;line-height:var(--rhythm);word-wrap:break-word;-webkit-font-smoothing:antialiased;font-family:Arial,Helvetica,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-weight:400}*,:after,:before{box-sizing:border-box}:focus{outline:2px solid #5abeff;outline:2px solid var(--blue);outline-offset:2px}a{color:#127ac8;color:var(--linkBlue)}a:visited{color:rgba(70,70,70,.5);color:var(--linkVisited)}@media (prefers-color-scheme:dark){html{background-color:#15202b;background-color:var(--black);color:#d2d2d2;color:var(--white)}a{color:#5abeff;color:var(--blue);text-shadow:1px 1px 0 #15202b,0 1px 0 #15202b;text-shadow:1px 1px 0 var(--black),0 1px 0 var(--black)}a:visited{color:#dc64dc;color:var(--purple)}}main{max-width:80ch;margin:auto;padding:0 24px;padding:0 var(--rhythm)}h1{margin:24px 0;margin:var(--rhythm) 0;font-size:2rem;line-height:48px;line-height:calc(var(--rhythm)*2)}h2{font-size:1.4rem}h2,h3{margin:24px 0;margin:var(--rhythm) 0;line-height:24px;line-height:var(--rhythm);position:relative}h3{font-size:1.2rem}h4{font-size:1.2rem;font-weight:400;line-height:24px;line-height:var(--rhythm);position:relative}h4,section{margin:48px 0;margin:calc(var(--rhythm)*2) 0}section{display:block}article{position:relative;padding:24px 0;padding:var(--rhythm) 0}article:before{content:"";width:100%;height:1px;background-color:rgba(70,70,70,.5);background-color:var(--gray);position:absolute;bottom:0;left:0}@media (prefers-color-scheme:dark){article:before{background-color:#d2d2d2;background-color:var(--white)}}p{margin:24px 0;margin:var(--rhythm) 0;font-size:1rem;line-height:24px;line-height:var(--rhythm)}img{max-width:100%;vertical-align:bottom}figure{margin:24px 0;margin:var(--rhythm) 0}figcaption{margin-top:24px;margin-top:var(--rhythm);font-size:1rem}small{line-height:1}ul:not([class]){margin:24px 0;margin:var(--rhythm) 0;line-height:1;padding-left:24px;padding-left:var(--rhythm);list-style-type:none;position:relative}ul:not([class]) ul{margin:0}ul:not([class]) li{line-height:24px;line-height:var(--rhythm);font-size:1rem}ul:not([class]) li:before{background-color:#15202b;background-color:var(--black);border-radius:50%;color:#fff;content:"";width:6px;height:6px;margin:9px 0 0;position:absolute;left:0}@media (prefers-color-scheme:dark){ul:not([class]) li:before{background-color:#d2d2d2;background-color:var(--white)}}address,pre{margin:24px 0;margin:var(--rhythm) 0}code{padding:24px;padding:var(--rhythm)}.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.hljs{display:block;overflow-x:auto;background:#2b2b2b;color:#f8f8f2;padding:.5em}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;-webkit-transition:width .1s,opacity .4s;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{-webkit-transition:none;transition:none}.nuxt-progress-failed{background-color:red}html[lang=ja] body{font-family:Noto Sans,Noto Sans CJK JP,Noto Sans JP,sans-serif}html[lang=ja] footer,html[lang=ja] header,html[lang=ja] main,html[lang=ja] nav{max-width:45rem}body.is-rhythm{position:relative}body.is-rhythm:active:after{display:none}body.is-rhythm:after{background:linear-gradient(180deg,rgba(200,225,255,.6) 1px,transparent 0);background-size:17px 24px;bottom:0;margin-top:0;content:"";display:block;height:auto;left:0;pointer-events:none;position:absolute;right:0;top:0;width:auto;z-index:9999}ul:not([class]) li svg{width:12px;height:12px;margin:0 0 -1px 4px}ul:not([class]) li svg path{fill:var(--black)}@media (prefers-color-scheme:dark){ul:not([class]) li svg path{fill:var(--white)}}ul:not([class]) li svg .npm-1{fill:#c12127}ul:not([class]) li svg .npm-2{fill:#fff}ul:not([class]) li svg .edit-2,ul:not([class]) li svg .image-1,ul:not([class]) li svg .open_new-1,ul:not([class]) li svg .product-2,ul:not([class]) li svg .shopping-2{fill:none}address svg{width:12px;height:12px;margin:0 0 -1px 4px}address svg path{fill:var(--black)}@media (prefers-color-scheme:dark){address svg path{fill:var(--white)}}address svg .mail-2{fill:none}code.hljs{padding:var(--rhythm)}blockquote{border-left:6px solid var(--blue);margin:var(--rhythm) 0 var(--rhythm) var(--rhythm);padding:0 var(--rhythm)}a.vue-skip-to{color:#fff;text-decoration:none}a.vue-skip-to:focus{background-color:var(--black)}@media (prefers-color-scheme:dark){a.vue-skip-to{text-shadow:none}a.vue-skip-to:focus{background-color:var(--linkBlue)}}header[data-v-62c2b1e1]{max-width:80ch;margin:auto;padding:0 var(--rhythm)}a[data-v-62c2b1e1]{display:block;margin:var(--rhythm) 0;width:48px;height:48px}svg[data-v-62c2b1e1]{width:100%;height:100%;vertical-align:middle}.cls-1[data-v-62c2b1e1]{fill:#36465d;fill-rule:evenodd}@media (prefers-color-scheme:dark){.cls-1[data-v-62c2b1e1]{fill:var(--white)}}nav[data-v-fa620ce0]{max-width:80ch;margin:auto;padding:0 var(--rhythm)}nav ul.global[data-v-fa620ce0]{display:-webkit-box;display:flex;list-style-type:none;margin:var(--rhythm) 0;padding:0}nav ul.global li[data-v-fa620ce0]{margin-right:12px}nav ul.global li a.nuxt-link-exact-active[data-v-fa620ce0]{text-decoration:none;color:var(--linkBlue)}@media (prefers-color-scheme:dark){nav ul.global li a.nuxt-link-exact-active[data-v-fa620ce0]{color:var(--blue)}}img{max-width:100%;height:auto}code:not(.hljs){line-height:1;padding:0}footer[data-v-10e2d1b3]{max-width:80ch;margin:auto;padding:var(--rhythm);text-align:center}footer p[data-v-10e2d1b3]{font-size:1rem;line-height:var(--rhythm)}</style>
  </head>
  <body data-n-head="%7B%22class%22:%7B%22ssr%22:%22%22%7D%7D">
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div><!----><!----><!----> <header data-v-62c2b1e1><a href="/en" class="nuxt-link-active" data-v-62c2b1e1><svg xmlns="http://www.w3.org/2000/svg" width="246" height="242" viewBox="0 0 246 242" role="img" aria-labelledby="title" data-v-62c2b1e1><title id="title" data-v-62c2b1e1>yamanoku.net</title> <path d="M64,67v54l82,82-46,46v60h56L310,155V96H230l-21,20L160,67H64ZM176,203l-45,46h25L293,113H230l-39,39-31-31H94Z" transform="translate(-64 -67)" class="cls-1" data-v-62c2b1e1></path></svg></a></header> <nav aria-label="global-navigation" data-v-fa620ce0><ul role="list" class="global" data-v-fa620ce0><li role="listitem" data-v-fa620ce0><a href="/en" class="nuxt-link-active" data-v-fa620ce0>Home</a></li> <li role="listitem" data-v-fa620ce0><a href="/en/about" data-v-fa620ce0>About yamanoku.net</a></li></ul></nav> <main role="main" id="main"><section id="title"><h1>Vue.js から考えるアクセシビリティについて</h1> <p>
    こちらは、<a href="https://adventar.org/calendars/3994" target="_blank" rel="noopener">Webアクセシビリティ Advent Calendar 2019</a>の21日目の記事です。
  </p> <p>この記事はVue.js開発におけるWebアクセシビリティ対応にまつわる内容となっております。</p></section> <section id="bio"><h2>自己紹介</h2> <p>
    大山奥人
    <small>（おおやまおくと）</small>と申します。ネット上では、おおやまみちのく、yamanokuと名乗って活動しています。
  </p> <p>制作会社のウェブデザイナーとして働き出し、株式会社GEEKでマークアップ・フロントエンドエンジニアとして従事した後、2019年10月から株式会社クラウドワークスに在籍しております。</p> <p>役職はUXエンジニアです。個人ではアクセシビリティ啓蒙も行っています。</p></section> <section id="book"><h2>著書</h2> <h3>これからはじめるwebアクセシビリティ</h3> <figure><img src="/_nuxt/img/06e9f6f.jpg" alt="Photo: Web Accessibility for Beginners."> <figcaption><p>技術書典で「これからはじめるwebアクセシビリティ」という技術同人誌を発表しました。Webアクセシビリティをはじめる方向けの導入として知ってもらいたいのがきっかけでした。</p> <p>現在BOOTHやNoteでもPDFファイルにて販売しております。</p> <ul><li><a href="https://booth.pm/ja/items/1044446">これからはじめるwebアクセシビリティ - こんのいぬ - BOOTH</a></li> <li><a href="https://note.mu/yamanoku/n/n3487a344ff84">「これからはじめるwebアクセシビリティ」をnoteにて販売します｜Okuto Oyama｜note</a></li></ul> <p>またGitHubのフィードバック用のリポジトリのIssueにて修正や改善、提案を受け入れています。</p> <a href="https://github.com/yamanoku/accessibility_book-issues">yamanoku/accessibility_book-issues: 「これからはじめるwebアクセシビリティ」へのFB専用リポジトリ</a></figcaption></figure></section> <section id="web-accessibility"><h2>アクセシビリティとは何か</h2> <h3>アクセシビリティの定義</h3> <p>
    まず <span lang="en">Accessibility</span>
    は「アクセスできる・アクセスしやすさ」と翻訳されます。Webアクセシビリティはウェブにある情報やコンテンツに、あらゆる人がアクセスできようにすることを指します。
  </p> <p>
    あらゆる人がアクセスできるようにするとはどういうことかというと、デバイス操作に慣れない人でも簡単に閲覧できるようにしたり、難しい言い回しを避けて理解しやすくしたり、コントラストを調整して閲覧しやすいデザインにしたり、音声読み上げをしてくれるスクリーンリーダーといった支援技術を使うために考慮するといったことです。
  </p> <blockquote><p>
      世界には10億人、言い換えると、人口の15から20％の割合で障害を持つ人がいます。国連は障害者の権利条約を定めており、人権としてウェブを含んだ情報へのアクセスはほとんどの国で国連条約として批准されています。また数カ国では政策として義務付けられています。法律や規制にも関わらずアクセシビリティ標準を実行するのは、障害を持つ人たちにも、全ての人達にも不可欠なことです。
    </p> <a href="https://www.w3.org/WAI/videos/standards-and-benefits/ja" target="_blank" rel="noopener">W3Cのアクセシビリティと標準技術 | Web Accessibility Initiative (WAI) |
      W3C</a></blockquote> <h3>アクセシビリティ対応とは障害者対応なのか</h3> <p>
    よくある誤解なのですが、アクセシビリティ対応をすることは障害者対応だと捉えられていることがあります。
  </p> <p>
    たしかにアクセシビリティ対応は障害者が使えるようにする目的もあるのですが、それ自体が目的なのではなく「あらゆる人が使えるようにする」ことが目的なので、障害者対応だけが先鋭化されて誤解につながっているように思います。
  </p> <p>
    Google
    I/Oでは音声認識においてリアルタイムで字幕がつけられるライブキャプション機能がつけられました。聴覚障害の方はもちろん、ミュートにした状態でビデオを見たり、文章を書き起こして内容の理解につなげたりなど、あらゆる状況においてどんな人でも使えるようなものを生み出しています。
  </p> <figure><img src="https://o.aolcdn.com/dims-global/dims3/GLOB/resize/1200x577/quality/80/https://techcrunch.com/wp-content/uploads/2019/05/live-caption.jpg" height="480" alt="Live Caption機能の紹介サムネイル"> <figcaption><a href="https://jp.techcrunch.com/2019/05/08/2019-05-07-live-transcription-and-captioning-in-android-are-a-boon-to-the-hearing-impaired/" target="_blank" rel="noopener">Google
        I/Oはアクセシビリティ強化に全力、聴覚障害者にも電車でYouTubeを見るにも便利</a></figcaption></figure> <p>
    スクリーンリーダーも視覚障害者のためだけではなく、読字障害といった長文を読むのが困難な人を手助けしたり、文章の確認を目視だけで行うよりも読み上げてもらうことで間違いに気づきやすくなります。
  </p> <h3>皆が参加できるためのアクセシビリティ対応</h3> <p>
    アクセシビリティは使いやすさを重視する「ユーザビリティ」と混同されがちですが、使いやすいかどうか以前に使えるかどうかを考えることが目的です。そして、使えるということは、参加できるかどうかということにも繋がります。
  </p> <p>
    海外では法律でアクセシビリティを確保する決まりを定めていますが、これはアクセシビリティを手段として考えているより、アクセシビリティ自体を人権として捉えている部分があるからです。
  </p></section> <section id="vuejs-and-web-accessibility"><h2>Vue.jsとWebアクセシビリティ</h2> <p>アクセシビリティについて何かを知っていただいたとことで、本題でもあるVue.jsとアクセシビリティにまつわる話をしていきたいと思います。</p> <h3>アクセシビリティのドキュメントがない</h3> <p>
    Vue.jsが日本で爆発的な人気を誇った要因の１つとして公式ドキュメントが日本語訳されていたことがあると思っています。私自身、ドキュメントの日本語訳があることで非常に取り組みやすかったです。
  </p> <p>
    ところでそんなVue.jsの公式ドキュメントでアクセシビリティについてどれだけ言及されているか皆さんはご存知でしょうか。
  </p> <p>
    実はアクセシビリティに言及されたドキュメントはなく、一部のドキュメント内で軽く触れているだけなのです。
  </p> <blockquote><p>
      As we develop our &lt;blog-post> component, some features may require
      communicating back up to the parent. For example, we may decide to
      include an
      <b>accessibility</b> feature to enlarge the text of blog posts, while
      leaving the rest of the page its default size:
    </p> <a href="https://vuejs.org/v2/guide/components.html#Listening-to-Child-Components-Events" target="_blank" rel="noopener">Components Basics — Listening-to-Child-Components-Events — Vue.js</a></blockquote> <blockquote><p>
      You can use this base icon as is- the only thing you might need to
      update is the viewBox depending on the viewBox of your icons. In the
      base, we’re making the width, height, iconColor, and name of the icon
      props so that it can be dynamically updated with props. The name will be
      used for both the &lt;title> content and its id for
      <b>accessibility</b>.
    </p> <a href="https://vuejs.org/v2/cookbook/editable-svg-icons.html#Base-Example" target="_blank" rel="noopener">Editable SVG Icon Systems — Base Example — Vue.js</a></blockquote> <p>
    ReactとAngularは公式ドキュメントにアクセシビリティの項目があり、開発における留意点などをまとめています。
  </p> <ul><li><a href="https://ja.reactjs.org/docs/accessibility.html" target="_blank" rel="noopener">アクセシビリティ – React</a></li> <li><a href="https://angular.io/guide/accessibility" target="_blank" rel="noopener">Angular - Accessibility in Angular</a></li></ul> <p>
    私はReactやAngularと同様にアクセシビリティの項目を設けても良いと感じています。Vue.jsのIssueを調べてみたところCallum
    Macra氏がドキュメントを作成を進めていたようなのですが、現在Pull
    Requestは止まっている状態です。
  </p> <ul><li><a href="https://github.com/vuejs/vuejs.org/issues/974" target="_blank" rel="noopener">Accessibility docs · Issue #974 · vuejs/vuejs.org</a></li> <li><a href="https://github.com/callumacrae/vuejs.org/blob/a11y-docs/src/v2/guide/accessibility.md" target="_blank" rel="noopener">vuejs.org/accessibility.md at a11y-docs · callumacrae/vuejs.org</a></li></ul> <p>
    私はこの内容についてを理解したいと思い、現在編集が進んでいるドキュメントを翻訳をしてみました。まだ途中ではありますがWebアクセシビリティを理解するにとても良くまとまっている内容でしたので、皆さんにも見ていただきたいです。
  </p> <a href="https://gist.github.com/yamanoku/73176671e3d7d093b1635f37e0776fe8" target="_blank" rel="noopener">vuejs.org アクセシビリティに関するドキュメント（作業途中） の日本語訳</a> <h3>Vue a11y</h3> <p>
    公式ドキュメントでのアクセシビリティ項目の作成はまだですが、代わりにVue.jsのアクセシビリティコミュニティは作られています。
  </p> <figure><img src="/_nuxt/img/a1d0c1a.png" height="360" alt="Vue a11yサイトのスクリーンショット"> <figcaption><a href="https://vue-a11y.com/" target="_blank" rel="noopener">Vue a11y</a></figcaption></figure> <p>
    まだ作られて間もないコミュニティですが、さきほど紹介したvue-announcerのようなアクセシビリティライブラリもいくつか作成しており、私も何かしら寄与できたらいいなと思っております。
  </p></section> <section id="web-accessibility-notes"><h2>Vue.jsにおける実装の留意点</h2> <p>次にウェブアクセシビリティを考慮する上でVue.jsの実装で留意しておくべきことについて紹介します。</p> <h3>
    何でも
    <code>div</code>で実装しない
  </h3> <p>
    ウェブアクセシビリティをつくるには、
    <strong>セマンティクスな実装を心がける</strong>、というのが基本です。これは <code>div</code>タグ（または
    <code>span</code>タグ）自体が悪いのではなく、そのコンポーネントの見た目以外で必要に応じたタグを使うべきということです。
  </p> <blockquote><p>
      すべてのユーザインタフェースコンポーネントに、役割、状態、及び値の情報を提供することで、例えば、スクリーンリーダー、画面拡大ソフトウェア、及び音声認識ソフトウェアなどの、障害のある利用者が使用する支援技術との互換性を保つことが可能になる。
    </p> <a href="https://waic.jp/docs/UNDERSTANDING-WCAG20/ensure-compat-rsv.html" target="_blank" rel="noopener">達成基準 4.1.2 を理解する | WCAG 2.0解説書</a></blockquote> <p>
    たとえばボタンを実装するとき、
    <code>div</code>タグから実装するとしたら様々な考慮が必要となります。
  </p> <pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>></span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">tabindex</span>=<span class="hljs-string">"0"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleClick"</span> @<span class="hljs-attr">keyup</span>=<span class="hljs-string">"handleKeyUp"</span>></span>button<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>></span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>></span></code></pre> <p>
    これがセマンティクスな実装をすれば
    <code>button</code>タグ１つで済みます。セマンティクスでないことは本来もつ機能を損なってしまいかねません。
  </p> <pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>></span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>></span>button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>></span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>></span></code></pre> <h3>キーボードで操作できるようにする</h3> <p>
    スクリーンリーダーを利用する人はキーボードを使って情報にアクセスします。なのでキーボードであらゆる情報へアクセスできるかを意識する必要はあります。
  </p> <p>
    また、スクリーンリーダーを使用しなくとも、パソコンの操作に慣れてきた人であれば、フォームの送信でエンターキーを押したり、ダイアログを閉じる際にESCキーを押したり、マウス操作ではなくキーボード操作で行うことがあると思います。
  </p> <p>
    キーボード操作の考慮に併せて、フォーカスのためのアウトラインも意識する必要があります。アウトラインを除去することで現在位置を把握しづらくなってしまうためです。
  </p> <iframe src="https://codesandbox.io/embed/vue-accessible-modal-9m474?fontsize=14&hidenavigation=1&theme=dark" title="vue-accessible-modal" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin" style="width:100%;height:500px;border:0;border-radius:4px;overflow:hidden"></iframe> <h3>SPA開発</h3> <p>
    モダンなフロントエンド開発において、SPA
    <abbr>（Single Page Application）</abbr>での実装は増えてきています。SPAは1つのHTMLとJavaScriptを使用した動的なコンテンツとして扱うため、ページ内で何がどう変わったのかを判定できないことがあります。
  </p> <p>
    ページの変更や状態の更新ではaria-live属性を使用した実装が必要となります。ただし属性値の扱いを理解する必要があるため、はじめは
    <a href="https://github.com/vue-a11y/vue-announcer" target="_blank" rel="noopener">vue-announcer</a>というライブラリを利用してみても良いかも知れません。routerでのページ移動の読み上げや、コンポーネント内での状態変化の読み上げも簡単に設定できるようになります。
  </p> <h3>Nuxt.jsの設定</h3> <p>
    盲点な部分かもしれませんが、
    <code>nuxt.config.js</code>での
    <code>htmlAttrs</code>で言語設定は必要です。
  </p> <pre><code class="hljs js"><span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-attr">head</span>: {
      <span class="hljs-attr">htmlAttrs</span>: {
        <span class="hljs-attr">lang</span>: <span class="hljs-string">'ja'</span>
      }
    }
}</code></pre> <p>
    何も設定されていない場合、言語指定は
    <code>en</code>、つまり英語になっています。このままだとアプリケーションやサイトの見た目が日本語だとしても、ブラウザの判定では「英語の」アプリケーションやサイトとなってしまいます。
  </p> <p>
    未設定だとスクリーンリーダーによっては英語以外の部分を読み上げてくれない事態が起きます。
    <small>（これはAndroidのTalkback機能にて確認できました）。</small>国際化対応をしていなくとも言語設定は気をつけなければなりません。
  </p> <h3>テスト・チェック</h3> <h4>vue-axe</h4> <p><a href="https://github.com/dequelabs/axe-core" target="_blank" rel="noopener">axe-core</a>というdeque
    systemsという会社が開発しているアクセシビリティチェックをするライブラリがあります。これはChromeの<a href="https://developers.google.com/web/tools/lighthouse/" target="_blank" rel="noopener">Lighthouse</a>のアクセシビリティ項目チェックでも使用されているものです。
  </p> <figure><img src="/_nuxt/img/deb8d6a.png" height="96" alt="vue-axeの動作イメージ。Chromeのコンソール上にアラート結果が出ている"></figure> <p>
    こちらは組み込むことでコンソール上でアクセシビリティチェックを通してくれます。
  </p> <h4>Storybook</h4> <p>
    自社のコンポーネントライブラリ、デザインシステムで利用されている方もいるかもしれません。こちらは単体ではチェックできませんが、アドオンに<a href="https://www.npmjs.com/package/@storybook/addon-a11y" target="_blank" rel="noopener">storybook-addon-a11y</a>があり、これを使うことでコンポーネントやストーリーに対してアクセシビリティチェックを通すことが出来ます。
  </p> <figure><img src="https://raw.githubusercontent.com/storybookjs/storybook/HEAD/addons/a11y/docs/screenshot.png" height="360" alt="storybook-addon-a11y スクリーンショット"></figure> <h4>eslint-plugin-vue-a11y</h4> <p>
    JavaScriptの静的検証ツールとして使われるeslintにはプラグインでアクセシビリティチェックができるものもあります。CI/CDに組み込むことでビルド時にエラーを発見することも可能です。
  </p> <p>
    チェック内容の例を上げると、
    <code>img</code>の
    <code>alt</code>属性に値が入っているか、フォーム要素にはラベル（
    <code>label</code>）が付与されているか、絵文字をアクセシブルに実装できているか、などがあります。
  </p> <pre><code class="hljs html"><span class="hljs-comment">&lt;!-- Fail --></span>
<span class="hljs-tag">&lt;<span class="hljs-name">span</span>></span>🐼<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span>
<span class="hljs-comment">&lt;!-- Good --></span>
<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"img"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Panda"</span>></span>🐼<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>></span></code></pre> <p>
    ただしLintはあくまでコード規約をチェックするものなので、エラー判定のみに頼りきらないようにしましょう。
  </p> <h4>ユーザテスト</h4> <p>
    機械的なテストについて紹介しましたが、自動化によるチェックやテストではすべてのアクセシビリティの問題のうちたった30%しか確認できないという研究結果が出ています。
  </p> <a href="https://accessibility.blog.gov.uk/2017/02/24/what-we-found-when-we-tested-tools-on-the-worlds-least-accessible-webpage/" target="_blank" rel="noopener">What we found when we tested tools on the world’s least-accessible
    webpage - Accessibility in government</a> <p>
    そのため、ユーザテストを通したチェックも必要となります。ブラウザチェックやスクリーンリーダーテスト、キーボードテストといった実際に見てみる、触ってみるのを試した上で問題ないかをテストしていきます。
  </p> <p>
    どういったテストをすべきかは、WCAG
    <abbr>（Web Content Accessibility Guidelines）</abbr>を参考にしましょう。これはW3C勧告として公開されたwebコンテンツをアクセシブルにするためのガイドラインで、どうすることでアクセシブルになるか、技術に依存しない検証方法も提示されています。
  </p> <a href="https://waic.jp/docs/WCAG21/" target="_blank" rel="noopener">Web Content Accessibility Guidelines (WCAG) 2.1</a> <p>
    しかし毎回WCAGの仕様を参照しにいくことも大変なので、必要な要素を参考にした上で独自のガイドラインを作成できると良さそうです。
  </p> <a href="https://openameba.github.io/a11y-guidelines/" target="_blank" rel="noopener">Ameba Accessibility Guidelines</a></section> <section id="deeper-understand"><h3>アクセシビリティをより理解するには</h3> <p>
    Vue.js
    実装における留意点について紹介させていただきました。更にここからアクセシビリティを理解するための方法についてを紹介します。
  </p> <h4>参加する</h4> <p>
    アクセシビリティをやっていくにあたり1人で1から初めていくことは非常に困難なことです。まずは日本のアクセシビリティグループのA11YJの
    Slack Team に入ってみることをオススメします。
  </p> <p>
    アクセシビリティ初心者の方から、Webアクセシビリティを高めていくために必要な基盤構築の活動をするWebアクセシビリティ基盤委員会のメンバー、web
    以外でアクセシビリティにまつわる取り組みをされている方たちが居ます。アクセシビリティにまつわる情報共有、実装で困ったことやどういう解決策が良いのか質問することができます。
  </p> <a href="https://a11yj.herokuapp.com/" target="_blank" rel="noopener">a11yj-slack-team</a> <p>
    そのほか、渋谷を中心としたアクセシビリティ勉強会グループの CA11Y
    、神戸市で2015年から毎年開催されているアクセシビリティの祭典、今年の7月に開催された
    Japan Accessibility Conference
    などアクセシビリティにまつわるイベントも開催されています。
  </p> <ul><li><a href="https://ca11y.connpass.com/" target="_blank" rel="noopener">CA11Y</a></li> <li><a href="https://accfes.com/" target="_blank" rel="noopener">アクセシビリティの祭典</a></li> <li><a href="https://japan-a11y-conf.com/" target="_blank" rel="noopener">Japan Accessibility Conference</a></li></ul> <h4>知る</h4> <p>
    Webアクセシビリティを知っていくにあたり、参考文献が必要になると思います。まずはデザイニングWebアクセシビリティを読んでみることをおすすめします。技術的なことよりかは、アクセシビリティの概念を理解するために最適な一冊です。
  </p> <a href="https://www.amazon.co.jp/dp/4862462650/" target="_blank" rel="noopener">デザイニングWebアクセシビリティ:
    アクセシブルな設計やコンテンツ制作のアプローチ</a> <p>
    そのほか、 A11YJ の有志によって作り上げた
    Webアクセシビリティ参考資料まとめサイトの
    accrefs、Webアクセシビリティの「すべき/すべからず」を参照できるポスターの
    Access Needs Posters
    、公的機関でのWebアクセシビリティ方針策定と試験結果表示の実態調査まとめも参考になります。
  </p> <ul><li><a href="https://accrefs.jp/" target="_blank" rel="noopener">accrefs - Webアクセシビリティの参考資料まとめ</a></li> <li><a href="https://github.com/UKHomeOffice/posters/blob/master/accessibility/dos-donts/posters_ja/PDF/accessibility-posters-set_ja.pdf" target="_blank" rel="noopener">Access Needs Posters（日本語版）</a></li> <li><a href="https://waic.jp/resource/report/" target="_blank" rel="noopener">実態調査 | ウェブアクセシビリティ基盤委員会（WAIC）</a></li></ul></section> <section id="in-conclusion"><h2>おわりに</h2> <p>
    1989年3月12日、欧州原子核研究機構 (CERN)
    のティム・バーナーズ＝リーは「Information Management: A
    Proposal」（情報管理:
    提案）を執筆し、さらに進んだ情報管理システムを描きました。これによってWWW（World
    Wide Web）が発明されました。
  </p> <figure><img src="https://live.staticflickr.com/8221/8314288381_ebc4c1b074_c.jpg" width="220" height="240" alt="写真：ティム・バーナーズ＝リー" style="max-width:220px"> <figcaption><a href="https://www.w3.org/History/1989/proposal.html" target="_blank" rel="noopener">The original proposal of the WWW, HTMLized</a></figcaption></figure> <blockquote><p>
      The power of the Web is in its universality. Access by everyone
      regardless of disability is an essential aspect.
    </p> <a href="https://www.w3.org/People/Berners-Lee/" target="_blank" rel="noopener">Tim Berners-Lee, W3C Director and inventor of the World Wide Web</a></blockquote> <p>
    ティム・バーナーズ＝リーは「Webのパワーは、その普遍性にある。障害の有無に関係なく、誰もが使えることが、その本質である」と説きました。
  </p> <blockquote><p>
      Whatever the device you use for getting your information out, it should
      be the same information.
    </p> <a href="https://www.wired.com/1999/10/interview-with-the-webs-creator/" target="_blank" rel="noopener">Interview with the Web’s Creator | WIRED</a></blockquote> <p>
    そして「情報を取得するためにどんなデバイスを使用していたとしても、取得できる情報は同じであるべきだ。」ともインタビューで答えていました。これこそまさにWebがアクセシビリティを実現するソリューションであることを示しています。
  </p> <p>
    その証拠にこの記事を読んでいるあなたは、インターネットを使うことができれば、場所や時間を問わずにこの情報にアクセスすることができています。Webにまつわる業務をしているだけでもアクセシブルなことを実現できている、ということは認識しておいても良いかもしれません。
  </p> <p>
    そしてあれから30年経った現在、<a href="https://www.digima-japan.com/knowhow/world/15167.php" target="_blank" rel="noopener">世界人口におけるインターネット利用者の数は50%のハーフラインを超えました</a>。
  </p> <p>この数が大きくなることで、よりインターネットに触れられないことの格差というものも大きくなるように感じられます。Webというものを取り扱う人たちであればアクセシブルにしていくということは、より命題となってくることでしょう。</p> <blockquote><p>
      ウェブのための戦いは、我々の時代におけるもっとも重要な大義の一つである。今日、世界の半分がネットにつながっている。その残り半分がネットにつながらないまま取り残されることなく、皆が平等、機会、創造性を推進するウェブに貢献できるようにすることは、かつてないほど差し迫った課題なのだ。
    </p> <p>（中略）</p> <p>
      ウェブは皆のためにあり、我々が力を合わせれば、ウェブを変える力を持つ。それは簡単ではないだろう。けれども、大きな夢を見ずにたくさん働ければ、我々は自分たちが望むウェブを手にできるのだ。
    </p> <a href="https://www.yamdas.org/column/technique/web-birthday-30j.html" target="_blank" rel="noopener">30 years on, what’s next #ForTheWeb? 日本語訳</a></blockquote> <h3>Vue.js を通じて、Webを活かして、アクセシビリティに取り組もう</h3> <p>
    アクセシビリティなものを生み出すのに特定のフレームワークじゃないとできないということはありません。ですが
    Vue.js は親しみやすく門戸が広いフレームワークだと感じています。
  </p> <p>
    アクセシブルにしていくことは「やっておしまい」「0か100か」という話でもなく、プロダクトを作りながら継続的に見直し試行錯誤していく部分もあるので、「いずれやる」ものとして捉えず、じっくりゆっくりと一つずつ進めていければと考えています。
  </p> <blockquote><p>
      “Start Small, Start
      Now（小さく初めていこう、でも、できることから今やりましょう）”と呼びかけていきたいし、自分自身も肝に銘じておきたい。
    </p> <a href="https://code.kzakza.com/2019/03/start-small-start-now/" target="_blank" rel="noopener">アクセシビリティは "Start Small, Start Now" でいこう | kzakza</a></blockquote> <p>
    本記事を通じて、開発者やデザイナー、Vue.js
    に関わる人たちが少しでもアクセシビリティに興味をもち、これからアクセシビリティ対応をしてゆくためのエンパワーとなれることを願っています。
  </p> <p>
    まだまだやることが多く、進めづらい分野ではありますが、少しずつでもこの輪が広がればいいなと思っています。アクセシビリティとはいかなる人も受け入れてくれるものなのだから。
  </p></section> <a href="/en" class="nuxt-link-active">Return to the top page</a></main> <footer data-v-10e2d1b3><p data-v-10e2d1b3>
    Created at:
    <time datetime="2013-01-12T10:25:42Z" data-v-10e2d1b3>2013-01-12T10:25:42Z</time>,
    Updated at:
    <time datetime="2019-12-21T12:47:49Z" data-v-10e2d1b3>2019-12-21T12:47:49Z</time></p> <a href="/en/privacy" data-v-10e2d1b3>Privacy Policy</a> <p data-v-10e2d1b3>© Copyright 2019, Okuto Oyama</p></footer></div></div></div><script>window.__NUXT__=function(a,s,n,e,p,t,l,c,o,i,r,d,m,u,f,g,h,b,v,_,y,E,k,x,w,A,F,z,j,C,B,S,q,D,T,P,W,N,G,L,I,R,O,M,H,U,V,$,J,Q,X,Z,Y,K,aa,sa,na,ea,pa,ta,la,ca,oa,ia,ra,da,ma,ua,fa){return{layout:"default",data:[{baseName:"yamanoku.net",baseDesc:"Okuto Oyama Portfolio Site",baseUrl:"https://yamanaoku.net",baseOgp:"https://yamanoku.net/ogp/ogp@2x.png"}],error:n,state:{day:{currentYear:2019,pushTime:"2019-12-21T12:47:49Z",createTime:"2013-01-12T10:25:42Z"},github:{a11y_issues:[{url:"https://api.github.com/repos/yamanoku/accessibility_book-issues/issues/3",repository_url:sa,labels_url:"https://api.github.com/repos/yamanoku/accessibility_book-issues/issues/3/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/accessibility_book-issues/issues/3/comments",events_url:"https://api.github.com/repos/yamanoku/accessibility_book-issues/issues/3/events",html_url:"https://github.com/yamanoku/accessibility_book-issues/issues/3",id:372997647,node_id:"MDU6SXNzdWUzNzI5OTc2NDc=",number:3,title:"Section of WAI-ARIA - Chapter 6",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:la,node_id:ta,url:pa,name:ea,color:"f4cf46",default:a,description:$}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:0,created_at:"2018-10-23T13:23:14Z",updated_at:"2019-08-18T13:16:43Z",closed_at:n,author_association:y,body:"- [ ] WAI-ARIAについての誕生・歴史 についてを深掘りする\r\n  - そもそも(WAI-)ARIAって何なんだ？が言及されていないため\r\n- [ ] WAI-ARIA仕様より使える組み合わせについて言及\r\n  - https://momdo.github.io/html-aria/\r\n  - 全部がいつでも使えるわけではない、という注意\r\n- [ ] 具体的なARIAの使い方について言及\r\n  - http://imagedrive.github.io/spec/using_wai-aria_in_html.xhtml\r\n  - バッドパターンは「過剰なマークアップ」例か新規枠に追記\r\n- [ ] W3C以外のARIAに関する参考例\r\n  - MDNなりGoogle Developersなりの説明も載せてみる\r\n"},{url:"https://api.github.com/repos/yamanoku/accessibility_book-issues/issues/2",repository_url:sa,labels_url:"https://api.github.com/repos/yamanoku/accessibility_book-issues/issues/2/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/accessibility_book-issues/issues/2/comments",events_url:"https://api.github.com/repos/yamanoku/accessibility_book-issues/issues/2/events",html_url:"https://github.com/yamanoku/accessibility_book-issues/issues/2",id:372993884,node_id:"MDU6SXNzdWUzNzI5OTM4ODQ=",number:2,title:"Section of WCAG - Chapter 4",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:la,node_id:ta,url:pa,name:ea,color:"f4cf46",default:a,description:$}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:0,created_at:"2018-10-23T13:15:07Z",updated_at:"2019-08-18T13:17:06Z",closed_at:n,author_association:y,body:"- [ ] WCAG 2.0とWCAG 2.1を混同している内容となっている\r\n  - WCAG 2.0を前提として説明するように修正する\r\n  - WCAG 2.1はWCAG 2.0を発展させたものという説明\r\n  - WCAG 2.1 ≠ ISO\r\n- [x] ISOとJISの説明の件は省く\r\n  -  初心者向けの内容としては複雑\r\n"}],read_issues:[{url:"https://api.github.com/repos/yamanoku/reading/issues/208",repository_url:q,labels_url:"https://api.github.com/repos/yamanoku/reading/issues/208/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/reading/issues/208/comments",events_url:"https://api.github.com/repos/yamanoku/reading/issues/208/events",html_url:"https://github.com/yamanoku/reading/issues/208",id:521287229,node_id:"MDU6SXNzdWU1MjEyODcyMjk=",number:208,title:"Using Web Share API",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:P,node_id:W,url:N,name:S,color:M,default:B,description:T}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:0,created_at:aa,updated_at:aa,closed_at:n,author_association:y,body:e},{url:"https://api.github.com/repos/yamanoku/reading/issues/140",repository_url:q,labels_url:"https://api.github.com/repos/yamanoku/reading/issues/140/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/reading/issues/140/comments",events_url:"https://api.github.com/repos/yamanoku/reading/issues/140/events",html_url:"https://github.com/yamanoku/reading/issues/140",id:482188286,node_id:"MDU6SXNzdWU0ODIxODgyODY=",number:140,title:"Passing WCAG（WebAccessibility Guidelines）2.0 Level A",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:0,created_at:K,updated_at:K,closed_at:n,author_association:y,body:"- https://www.w3.org/TR/WCAG20/\r\n- https://www.w3.org/TR/WCAG20-TECHS/"},{url:"https://api.github.com/repos/yamanoku/reading/issues/137",repository_url:q,labels_url:"https://api.github.com/repos/yamanoku/reading/issues/137/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/reading/issues/137/comments",events_url:"https://api.github.com/repos/yamanoku/reading/issues/137/events",html_url:"https://github.com/yamanoku/reading/issues/137",id:481057033,node_id:"MDU6SXNzdWU0ODEwNTcwMzM=",number:137,title:"Add Search Action",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:P,node_id:W,url:N,name:S,color:M,default:B,description:T}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:0,created_at:Y,updated_at:Y,closed_at:n,author_association:y,body:"WIP"},{url:"https://api.github.com/repos/yamanoku/reading/issues/136",repository_url:q,labels_url:"https://api.github.com/repos/yamanoku/reading/issues/136/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/reading/issues/136/comments",events_url:"https://api.github.com/repos/yamanoku/reading/issues/136/events",html_url:"https://github.com/yamanoku/reading/issues/136",id:481029799,node_id:"MDU6SXNzdWU0ODEwMjk3OTk=",number:136,title:"Remake App Name & Icon",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:ma,node_id:ca,url:na,name:U,color:"f2de09",default:a,description:e}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:2,created_at:"2019-08-15T07:28:21Z",updated_at:"2019-11-05T14:53:34Z",closed_at:n,author_association:y,body:'<img src="https://gyazo.com/60ae2a3a628a1c6b7ed77bc356fbaeab/raw" width="200">\r\n\r\nFile data\r\n- [ ] png\r\n- [ ] svg'},{url:"https://api.github.com/repos/yamanoku/reading/issues/135",repository_url:q,labels_url:"https://api.github.com/repos/yamanoku/reading/issues/135/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/reading/issues/135/comments",events_url:"https://api.github.com/repos/yamanoku/reading/issues/135/events",html_url:"https://github.com/yamanoku/reading/issues/135",id:479571550,node_id:"MDU6SXNzdWU0Nzk1NzE1NTA=",number:135,title:"Add App Description",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:P,node_id:W,url:N,name:S,color:M,default:B,description:T}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:2,created_at:"2019-08-12T10:25:29Z",updated_at:"2019-11-05T14:50:21Z",closed_at:n,author_association:y,body:"# Overview\r\nI don't need it because it's my app.\r\nI thought it was good to have an explanation of how this happened.\r\n\r\n- Describing my portfolio\r\n  - I don't know the intention just by accessing.\r\n    - https://scrapbox.io/yamanoku/Reading%E2%80%A6\r\n- Place the Info button in the same position as the pagination and guide."},{url:"https://api.github.com/repos/yamanoku/reading/issues/100",repository_url:q,labels_url:"https://api.github.com/repos/yamanoku/reading/issues/100/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/reading/issues/100/comments",events_url:"https://api.github.com/repos/yamanoku/reading/issues/100/events",html_url:"https://github.com/yamanoku/reading/issues/100",id:441573154,node_id:"MDU6SXNzdWU0NDE1NzMxNTQ=",number:100,title:"Reimplement dark mode ",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:ma,node_id:ca,url:na,name:U,color:"f2de09",default:a,description:e},{id:P,node_id:W,url:N,name:S,color:M,default:B,description:T}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:3,created_at:"2019-05-08T06:32:42Z",updated_at:"2019-11-05T14:42:43Z",closed_at:n,author_association:y,body:"## Overview\r\n- Dark mode gradually became available to the OS and applications, felt that it is necessary to redefine again\r\n- Automatically switched to the dark mode from 9 pm to 6 am the next day.\r\n  - Color is only inverted by `filter:invert(100);`\r\n  - ref: https://scrapbox.io/yamanoku/Reading%E2%80%A6#5b8e9817c2cd3f0000d9c879\r\n\r\n## Featuring\r\n- [ ] Switching color mode\r\n- [x] Delete auto color switching\r\n- [x] Redefine dark color\r\n  - [x] Use CSS variables\r\n\r\n## Mock -- Figma\r\n- https://www.figma.com/file/IHsJKRaJXepsqcbX91iQ6YNV/Components\r\n\r\n## Ref\r\n- https://material.io/design/color/dark-theme.html\r\n- https://developer.apple.com/design/human-interface-guidelines/macos/visual-design/dark-mode/\r\n- https://darkmodelist.com/\r\n- https://speakerdeck.com/jxck/dark-side-of-the-web"}],vue_issues:[{url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/405",repository_url:D,labels_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/405/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/405/comments",events_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/405/events",html_url:"https://github.com/yamanoku/vue_portfolio_template/issues/405",id:482597889,node_id:"MDU6SXNzdWU0ODI1OTc4ODk=",number:405,title:"Add TypeScript",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:O,node_id:R,url:I,name:S,color:L,default:B,description:n}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:0,created_at:J,updated_at:J,closed_at:n,author_association:y,body:"rel: #384 "},{url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/404",repository_url:D,labels_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/404/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/404/comments",events_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/404/events",html_url:"https://github.com/yamanoku/vue_portfolio_template/issues/404",id:482597670,node_id:"MDU6SXNzdWU0ODI1OTc2NzA=",number:404,title:"PWA Setting",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:O,node_id:R,url:I,name:S,color:L,default:B,description:n}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:0,created_at:Q,updated_at:Q,closed_at:n,author_association:y,body:e},{url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/403",repository_url:D,labels_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/403/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/403/comments",events_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/403/events",html_url:"https://github.com/yamanoku/vue_portfolio_template/issues/403",id:482597581,node_id:"MDU6SXNzdWU0ODI1OTc1ODE=",number:403,title:"Remake Layout",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:1508923828,node_id:"MDU6TGFiZWwxNTA4OTIzODI4",url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/labels/design",name:U,color:"fff59b",default:a,description:e}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:0,created_at:X,updated_at:X,closed_at:n,author_association:y,body:e},{url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/402",repository_url:D,labels_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/402/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/402/comments",events_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/402/events",html_url:"https://github.com/yamanoku/vue_portfolio_template/issues/402",id:482597387,node_id:"MDU6SXNzdWU0ODI1OTczODc=",number:402,title:"Add vue-head & Set meta information",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:O,node_id:R,url:I,name:S,color:L,default:B,description:n}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:0,created_at:Z,updated_at:Z,closed_at:n,author_association:y,body:e},{url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/384",repository_url:D,labels_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/384/labels{/name}",comments_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/384/comments",events_url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/issues/384/events",html_url:"https://github.com/yamanoku/vue_portfolio_template/issues/384",id:479370288,node_id:"MDU6SXNzdWU0NzkzNzAyODg=",number:384,title:"Refactoring Template by vue-cli 4.0",user:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},labels:[{id:O,node_id:R,url:I,name:S,color:L,default:B,description:n},{id:1049890356,node_id:"MDU6TGFiZWwxMDQ5ODkwMzU2",url:"https://api.github.com/repos/yamanoku/vue_portfolio_template/labels/update-dependencies",name:"update-dependencies",color:"47B784",default:a,description:e}],state:_,locked:a,assignee:{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a},assignees:[{login:s,id:b,node_id:m,avatar_url:v,gravatar_id:e,url:t,html_url:l,followers_url:c,following_url:o,gists_url:i,starred_url:r,subscriptions_url:d,organizations_url:p,repos_url:u,events_url:f,received_events_url:g,type:h,site_admin:a}],milestone:n,comments:2,created_at:"2019-08-11T13:30:03Z",updated_at:"2019-10-20T11:43:20Z",closed_at:n,author_association:y,body:"## OverView\r\n- 2.0で作成したものと3.0で作成したものとでソースの種類が大きく変わってる\r\n  - `package.json` などのdependenceの種類が段違い\r\n- https://github.com/yamanoku/vue_portfolio_templete/pull/381 周りの更新がしんどくなる\r\n"}]},rhythm:{toggleRhythm:a},slide:{qiita:[{rendered_body:'<p>この記事は<a href="https://qiita.com/advent-calendar/2018/pwa">PWA Advent Calendar 2018</a>の6日目の記事になります。<br>\n既視感のあるタイトルですが気にしないでください。</p>\n\n<p>毎年何かしら自分のレベルに合わせて新技術に触れてみる・作ってみるみたいなのを課してるのですが、<br>\n今年個人的にチャレンジしてみようと思ったものの１つにPWAがあります。</p>\n\n<p>そこで今回は大した知識が無くともPWAを作ることができた話をしようと思います。<br>\n内容として他の皆様と大したことやってないかもですが、こんなんでも形になったぞというのを知ってもらいたいのもあるので温かい目で見てくださいませ。</p>\n\n<h1>\n<span id="reading" class="fragment"></span><a href="#reading"><i class="fa fa-link"></i></a>Reading…</h1>\n\n<p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F60ae2a3a628a1c6b7ed77bc356fbaeab%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=141ff8f3799dc13fdef3dac660f64a96" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F60ae2a3a628a1c6b7ed77bc356fbaeab%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=141ff8f3799dc13fdef3dac660f64a96" alt="Reading… Logo" width="320" data-canonical-src="https://gyazo.com/60ae2a3a628a1c6b7ed77bc356fbaeab/thumb/1000" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F60ae2a3a628a1c6b7ed77bc356fbaeab%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=25e2b28f7fd476f2a244879daeb169e8 1x" loading="lazy"></a></p>\n\n<p>Link: <a href="https://reading.yamanoku.net/" rel="nofollow noopener" target="_blank">https://reading.yamanoku.net</a><br>\nGitHub:  <a href="https://github.com/yamanoku/reading/" rel="nofollow noopener" target="_blank">https://github.com/yamanoku/reading/</a></p>\n\n<p>日頃自分が見ているニュースを集約してまとめてみたらどうなるだろうか、情報の蓄積・可視化みたいなのを考えておりそういうのができないかなと思ってそれを題材にPWAにしてみようと思いました。以下は経緯みたいなやつです。</p>\n\n<blockquote>\n<p><a href="https://yamanoku.net/LT/lt04/" rel="nofollow noopener" target="_blank">情報収集ってどうしてる？ - YAMALT vol.04</a></p>\n</blockquote>\n\n<h2>\n<span id="動作イメージ" class="fragment"></span><a href="#%E5%8B%95%E4%BD%9C%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8"><i class="fa fa-link"></i></a>動作イメージ</h2>\n\n<p><a href="https://gyazo.com/8418eadc1713fd8f083a625706757786" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F8418eadc1713fd8f083a625706757786%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=679bb91e08fb45db630c686cff5cdb84" alt="Reading… iPhoneシュミレーターによる実動作イメージ図" data-canonical-src="https://gyazo.com/8418eadc1713fd8f083a625706757786/thumb/1000" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F8418eadc1713fd8f083a625706757786%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=5511c7bbce415747c3c1ca11bb5a88d4 1x" loading="lazy"></a><br></p>\n\n<p>自分が最近見た20件のニュース×５ページ分にした計100件を表示。<br>\nページ間はページネーションで動きます。</p>\n\n<h2>\n<span id="使用技術" class="fragment"></span><a href="#%E4%BD%BF%E7%94%A8%E6%8A%80%E8%A1%93"><i class="fa fa-link"></i></a>使用技術</h2>\n\n<table>\n<thead>\n<tr>\n<th style="text-align: left">API</th>\n<th style="text-align: left">ホスティング</th>\n<th style="text-align: left">フレームワーク</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style="text-align: left">Slack API <br> AWS API GateWay</td>\n<td style="text-align: left">Netlify</td>\n<td style="text-align: left">Nuxt.js</td>\n</tr>\n</tbody>\n</table>\n\n<p>Nuxt.jsのプラグイン・モジュールは以下を使用</p>\n\n<ul>\n<li>\n<a href="https://github.com/TahaSh/vue-paginate" rel="nofollow noopener" target="_blank">vue-paginate</a>\n\n<ul>\n<li>ページネーション。asyncもあって複数で連携できたり、</li>\n<li>個人的には色々あるページネーションの中で導入が簡単（な印象）</li>\n</ul>\n</li>\n<li>\n<a href="https://github.com/nuxt-community/pwa-module" rel="nofollow noopener" target="_blank">nuxt-community/pwa-module</a>\n\n<ul>\n<li>皆様ご存知のNuxt.jsでPWAにするなら必要になる</li>\n<li>PWAにしなくともキャッシュ高速化にも使える</li>\n</ul>\n</li>\n</ul>\n\n<p>あと当初はNuxt1.0で作成していましたが、今年の2.0の発表に合わせて<a href="https://github.com/yamanoku/reading/commit/6124198e300dc1f8ccc74e14c6b9118e09f36a5d" rel="nofollow noopener" target="_blank">アップデートしました</a>。</p>\n\n<blockquote>\n<p>Nuxt 2でgenerateしたPWAサイトです<br>\n<a href="https://twitter.com/yamanoku/status/1043119076489318401" class="autolink" rel="nofollow noopener" target="_blank">https://twitter.com/yamanoku/status/1043119076489318401</a></p>\n</blockquote>\n\n<h2>\n<span id="フローチャート" class="fragment"></span><a href="#%E3%83%95%E3%83%AD%E3%83%BC%E3%83%81%E3%83%A3%E3%83%BC%E3%83%88"><i class="fa fa-link"></i></a>フローチャート</h2>\n\n<p>図です。</p>\n\n<p><a href="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F49004%2Fea48ecc5-31b0-cce3-601c-7cdbbee215b8.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=9cadc1901b853275181b617f9312dd8d" target="_blank" rel="nofollow noopener"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F49004%2Fea48ecc5-31b0-cce3-601c-7cdbbee215b8.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=9cadc1901b853275181b617f9312dd8d" alt="フローチャート 以下説明" data-canonical-src="https://qiita-image-store.s3.amazonaws.com/0/49004/ea48ecc5-31b0-cce3-601c-7cdbbee215b8.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F49004%2Fea48ecc5-31b0-cce3-601c-7cdbbee215b8.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=950670919f3000643b1861f9314ce9f7 1x" loading="lazy"></a></p>\n\n<ul>\n<li>\n<p>投稿自体はTwitter</p>\n\n<ul>\n<li>シェアする内容の文頭に<code>Reading...</code>とつけてツイート\n\n<ul>\n<li>例：<a href="https://twitter.com/yamanoku/status/998900479487692800" rel="nofollow noopener" target="_blank">https://twitter.com/yamanoku/status/998900479487692800</a>\n</li>\n</ul>\n</li>\n<li>別に「Reading」じゃなくてもいいけど、昔使ってた<a href="http://fladdict.net/blog/2012/10/news-storm.html" rel="nofollow noopener" target="_blank">ニュースアプリ</a>の名残で自発的にやってる</li>\n<li>主な発言地帯がTwitterなだけなので、別にIFTTTと連携できるならなんでもいい</li>\n</ul>\n</li>\n<li>\n<p>DBは個人用Slack</p>\n\n<ul>\n<li>IFTTTで投稿連携\n\n<ul>\n<li>Twitterから「Reading...」と紐づけた特定のものを拾ってくる</li>\n<li>連携して個人Slackに投稿されて全件検索される</li>\n<li><a href="https://gyazo.com/1948eaf267fa165a4b4b1fef5afff211" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F1948eaf267fa165a4b4b1fef5afff211%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=f20754ffdd3ba45af80042db093b9372" alt="Image" data-canonical-src="https://gyazo.com/1948eaf267fa165a4b4b1fef5afff211/thumb/1000" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F1948eaf267fa165a4b4b1fef5afff211%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=b103d720af7b04663e91c658532df24b 1x" loading="lazy"></a></li>\n</ul>\n</li>\n<li>Slack APIの制約もあり100件までを抽出。古いものは取得内から消えていく。</li>\n<li>なぜSlackをデータベースにしたのか？\n\n<ul>\n<li>お手軽サーバーレス体験</li>\n<li>Slack側のメッセージの修正や消去で即JSONに反映してくれる</li>\n<li>無料で作れて垢バンの心配がない\n\n<ul>\n<li>Twitter単体だと心配</li>\n</ul>\n</li>\n<li>日経の米朝首脳会談の速報ページで前例あり\n\n<ul>\n<li><a href="https://twitter.com/koni/status/1006452321583271936" rel="nofollow noopener" target="_blank">こに@SocialDog/whotwiさんのツイート: 日経の米朝首脳会談の速報ページ、気味の悪い拡張子のファイルによるとSlackが使われているっぽい。現地からSlackに投稿するとそのまま公開される仕組みっぽい。すごい今風。</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>AWSでAPI GatewayとLambda FunctionにてAPI変換</p>\n\n<ul>\n<li>Slack APIから直接経由だと制約があってしんどかった\n\n<ul>\n<li>devtools使うとどのslackから持ってきてるのかとかがわかっちゃう</li>\n<li>tokenを隠蔽しても<code>nuxt generate</code>しビルドしたJS内にtokenとかが見えると警告メールが来てAPI止められる（計4敗）</li>\n<li><a href="https://gyazo.com/22343b9c3de68ed9a44d24d81064bc6b" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F22343b9c3de68ed9a44d24d81064bc6b%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=df56f77ed716a764685b653a1c618132" alt="Image" data-canonical-src="https://gyazo.com/22343b9c3de68ed9a44d24d81064bc6b/thumb/1000" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F22343b9c3de68ed9a44d24d81064bc6b%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=eb0d63650badeaaee37e86c77a49719e 1x" loading="lazy"></a></li>\n</ul>\n</li>\n<li>変えてよかったこと\n\n<ul>\n<li>tokenを完全隠蔽した</li>\n<li>CORS対応したのでどこでも取得できる</li>\n<li>gzip配信もできる</li>\n<li>今のところは自分用なのもあって無料枠で収まる内容になってる</li>\n</ul>\n</li>\n<li>\n<a href="https://netlify-meetup-tokyo.connpass.com/event/100705/" rel="nofollow noopener" target="_blank">Netlify Meetup Tokyo #2</a>で<code>Netlify Functions</code>でもいけそうって話を<a href="/mottox2" class="user-mention js-hovercard" title="mottox2" data-hovercard-target-type="user" data-hovercard-target-name="mottox2">@mottox2</a>さんから聞けたのでNetlify内で完結できる方向に変えようかと考え中</li>\n</ul>\n</li>\n<li>\n<p><a href="https://scrapbox.io/yamanoku/Netlify" rel="nofollow noopener" target="_blank">Netlify</a>でホスティング</p>\n\n<ul>\n<li>\n<a href="https://scrapbox.io/yamanoku/GitHub" rel="nofollow noopener" target="_blank">GitHub</a>リポジトリと紐づけてる</li>\n<li>\n<code>nuxt generate</code> &amp;  <code>push-dir --dir=dist --branch=master --cleanup</code>\n</li>\n<li>静的書き出しした<code>dist</code>を<code>master</code>ブランチにプッシュ</li>\n<li>\n<code>master</code>ブランチをホスティング\n\n<ul>\n<li><a href="https://gyazo.com/89e1780586aa0aee4322c9a1cdee3fed" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F89e1780586aa0aee4322c9a1cdee3fed.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=7c191de11201e6a0de3d9b80bd51fc99" alt="Image from Gyazo" data-canonical-src="https://i.gyazo.com/89e1780586aa0aee4322c9a1cdee3fed.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F89e1780586aa0aee4322c9a1cdee3fed.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=eb22baa38957db74fb6a9b4487d50234 1x" loading="lazy"></a></li>\n</ul>\n</li>\n<li>SSL化やらカスタムドメイン可やらプレレンダリング（今回は未使用）やら無料でやってくれてすごい。</li>\n<li>あとプライベートリポジトリも使える。</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id="パフォーマンス" class="fragment"></span><a href="#%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9"><i class="fa fa-link"></i></a>パフォーマンス</h2>\n\n<h3>\n<span id="lighthouse" class="fragment"></span><a href="#lighthouse"><i class="fa fa-link"></i></a>lighthouse</h3>\n\n<ul>\n<li>Device: Emulated Nexus 5X</li>\n<li>Network throttling: 150 ms TCP RTT, 1,638.4 Kbps throughput (Simulated)</li>\n<li>CPU throttling: 4x slowdown (Simulated)</li>\n</ul>\n\n<p>上記設定で計測。Perfomance部分は変動ある感じですがだいたいこんな感じ</p>\n\n<h4>\n<span id="201896-計測" class="fragment"></span><a href="#201896-%E8%A8%88%E6%B8%AC"><i class="fa fa-link"></i></a>2018/9/6 計測</h4>\n\n<p><a href="https://gyazo.com/798f53d86ca89daf3d3d2c02187c44c2" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F798f53d86ca89daf3d3d2c02187c44c2%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=9c50f9d93f48f61b4c382c1536c575c5" alt="Perfomance 91, PWA 96, Accessibility 88, Best Practice 100, SEO 100" data-canonical-src="https://gyazo.com/798f53d86ca89daf3d3d2c02187c44c2/thumb/1000" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F798f53d86ca89daf3d3d2c02187c44c2%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=899e03611947b9a3f57d141928d4dc81 1x" loading="lazy"></a></p>\n\n<h4>\n<span id="2018122-計測" class="fragment"></span><a href="#2018122-%E8%A8%88%E6%B8%AC"><i class="fa fa-link"></i></a>2018/12/2 計測</h4>\n\n<p><a href="https://gyazo.com/62f8aebc83ef63c8637401dca55fa6bd" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F62f8aebc83ef63c8637401dca55fa6bd%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=24def5d98c84fdb5e36a7db8abca4261" alt="Perfomance 95, PWA 96, Accessibility 90, Best Practice 100, SEO 100" data-canonical-src="https://gyazo.com/62f8aebc83ef63c8637401dca55fa6bd/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F62f8aebc83ef63c8637401dca55fa6bd%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=1c3c85e67a29452f99f1bd29e4f2616e 1x" loading="lazy"></a></p>\n\n<h3>\n<span id="webpagetest" class="fragment"></span><a href="#webpagetest"><i class="fa fa-link"></i></a>WebPageTest</h3>\n\n<ul>\n<li>From: Tokyo, Japan - EC2 - Chrome - Cable</li>\n</ul>\n\n<p>上記設定で計測。</p>\n\n<h4>\n<span id="201896-計測-1" class="fragment"></span><a href="#201896-%E8%A8%88%E6%B8%AC-1"><i class="fa fa-link"></i></a>2018/9/6 計測</h4>\n\n<p><a href="https://www.webpagetest.org/result/180905_90_60fd3b52c101b6aaeb61fda8ac192468/" rel="nofollow noopener" target="_blank">https://www.webpagetest.org/result/180905_90_60fd3b52c101b6aaeb61fda8ac192468/</a></p>\n\n<h4>\n<span id="2018122-計測-1" class="fragment"></span><a href="#2018122-%E8%A8%88%E6%B8%AC-1"><i class="fa fa-link"></i></a>2018/12/2 計測</h4>\n\n<p><a href="https://www.webpagetest.org/result/181202_Q9_0b087ea9b135cf3ee5e8c790e07853a7/" rel="nofollow noopener" target="_blank">https://www.webpagetest.org/result/181202_Q9_0b087ea9b135cf3ee5e8c790e07853a7/</a></p>\n\n<h2>\n<span id="fixed--updates" class="fragment"></span><a href="#fixed--updates"><i class="fa fa-link"></i></a>Fixed &amp; Updates</h2>\n\n<p>あんまりPWA要素と関係ないかもですが、更新したことなど。</p>\n\n<h3>\n<span id="ページネーションをクリックするとスクロール位置が保存されたままになってる" class="fragment"></span><a href="#%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%8D%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E3%82%AF%E3%83%AA%E3%83%83%E3%82%AF%E3%81%99%E3%82%8B%E3%81%A8%E3%82%B9%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%AB%E4%BD%8D%E7%BD%AE%E3%81%8C%E4%BF%9D%E5%AD%98%E3%81%95%E3%82%8C%E3%81%9F%E3%81%BE%E3%81%BE%E3%81%AB%E3%81%AA%E3%81%A3%E3%81%A6%E3%82%8B"><i class="fa fa-link"></i></a>ページネーションをクリックするとスクロール位置が保存されたままになってる</h3>\n\n<ul>\n<li>中間くらいまでスクロールした状態で移動するとページ間でその位置のまま\n\n<ul>\n<li>\n<code>position: fixed</code>と<code>vh</code>を使っているせい</li>\n</ul>\n</li>\n<li>ページが切り替わったときの制御に<code>scrollTop</code>をかませた</li>\n</ul>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">NewsList.vue</span></div>\n<div class="highlight"><pre><span class="nx">methods</span><span class="p">:</span> <span class="p">{</span>\n  <span class="nx">onPageChange</span><span class="p">()</span> <span class="p">{</span>\n    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="dl">\'</span><span class="s1">news-list</span><span class="dl">\'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">NewsList.vue</span></div>\n<div class="highlight"><pre><span class="nt">&lt;paginate-links</span>\n  <span class="na">for=</span><span class="s">"lists"</span>\n  <span class="err">@</span><span class="na">change=</span><span class="s">"onPageChange"</span> <span class="err">&lt;!</span><span class="na">--</span> <span class="err">ここ</span> <span class="na">--</span><span class="nt">&gt;</span>\n  :show-step-links="true"\n  :limit="2"&gt;\n<span class="nt">&lt;/paginate-links&gt;</span>\n</pre></div>\n</div>\n\n<h3>\n<span id="絵文字がパースされていない" class="fragment"></span><a href="#%E7%B5%B5%E6%96%87%E5%AD%97%E3%81%8C%E3%83%91%E3%83%BC%E3%82%B9%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84"><i class="fa fa-link"></i></a>絵文字がパースされていない</h3>\n\n<p><a href="https://gyazo.com/515ea122571f395b03d8be35b82e4469" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F515ea122571f395b03d8be35b82e4469%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=71ce1daa79c4c5957c05dd93c6b420b3" alt="🔥の絵文字が :fire: として出力されている" data-canonical-src="https://gyazo.com/515ea122571f395b03d8be35b82e4469/thumb/1000" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F515ea122571f395b03d8be35b82e4469%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=c2b2f0031cddf9d130ac1de10817f325 1x" loading="lazy"></a></p>\n\n<p>単純にパースしてあげればいいのかなと思ったので、<br>\n<a href="https://www.npmjs.com/package/node-emoji" rel="nofollow noopener" target="_blank">node-emoji</a> を使いました。</p>\n\n<p><a href="https://gyazo.com/6586344df213347f483f99f7ea95c014" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F6586344df213347f483f99f7ea95c014%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=56e9ec1df4ed0aec9620202856637d8d" alt="🔥絵文字が適応された" data-canonical-src="https://gyazo.com/6586344df213347f483f99f7ea95c014/thumb/1000" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F6586344df213347f483f99f7ea95c014%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=c2c6fa0f4b7e2d71016246ae984e4cea 1x" loading="lazy"></a></p>\n\n<p>👍👍👍👍👍</p>\n\n<h3>\n<span id="ナイトモード実装" class="fragment"></span><a href="#%E3%83%8A%E3%82%A4%E3%83%88%E3%83%A2%E3%83%BC%E3%83%89%E5%AE%9F%E8%A3%85"><i class="fa fa-link"></i></a>ナイトモード実装</h3>\n\n<p>21時〜翌6時までの間は自動的に適応するようにしています。<br>\nただカラーをナイトモード用に自制したというよりかは <code>filter: invert(100);</code> を使って<br>\n色反転させただけという超シンプルナイトモードです。</p>\n\n<p><a href="https://gyazo.com/b93728512267de56f767bdd13f119781" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb93728512267de56f767bdd13f119781%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=772cc80f38f43cef2f91600a417036a8" alt="ナイトモード適応イメージ：アニメーションで白から黒に色反転されている" data-canonical-src="https://gyazo.com/b93728512267de56f767bdd13f119781/thumb/1000" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb93728512267de56f767bdd13f119781%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=09a31393a2ee33b9fc9ac6c453017828 1x" loading="lazy"></a></p>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">defalut.vue</span></div>\n<div class="highlight"><pre><span class="k">export</span> <span class="k">default</span> <span class="p">{</span>\n  <span class="nx">mounted</span><span class="p">()</span> <span class="p">{</span>\n    <span class="k">if</span><span class="p">((</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()).</span><span class="nx">getHours</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">21</span> <span class="o">||</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()).</span><span class="nx">getHours</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">6</span> <span class="p">)</span> <span class="p">{</span>\n      <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">className</span> <span class="o">+=</span> <span class="dl">"</span><span class="s2">night-mode</span><span class="dl">"</span><span class="p">;</span>\n    <span class="p">}</span>\n  <span class="p">},</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="css">\n<div class="code-lang"><span class="bold">defalut.vue</span></div>\n<div class="highlight"><pre><span class="nc">.night-mode</span> <span class="p">{</span>\n  <span class="nl">animation</span><span class="p">:</span> <span class="n">night</span> <span class="m">2s</span> <span class="n">ease</span> <span class="m">0s</span> <span class="m">1</span> <span class="nb">normal</span><span class="p">;</span>\n  <span class="nl">animation-fill-mode</span><span class="p">:</span> <span class="n">forwards</span><span class="p">;</span>\n  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="k">@keyframes</span> <span class="n">night</span> <span class="p">{</span>\n  <span class="nt">0</span><span class="o">%</span> <span class="p">{</span><span class="nl">filter</span><span class="p">:</span><span class="nb">invert</span><span class="p">(</span><span class="m">0</span><span class="p">);}</span>\n  <span class="nt">100</span><span class="o">%</span> <span class="p">{</span><span class="nl">filter</span><span class="p">:</span><span class="nb">invert</span><span class="p">(</span><span class="m">100</span><span class="p">);}</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<p>ちなみに、Vue.jsで<code>html</code>とか<code>body</code>をマウントするのよくないらしいです。</p>\n\n<blockquote>\n<p>与えられた要素は単にマウントするポイントとして機能します。Vue 1.x とは異なり、マウントされた要素は、全てのケースで Vue によって生成された DOM に置き換えられます。<br>\n従って、ルートインスタンスを<code>&lt;html&gt;</code>または<code>&lt;body&gt;</code>にマウントすることは推奨されません。<br>\n<a href="https://jp.vuejs.org/v2/api/index.html#el" rel="nofollow noopener" target="_blank">https://jp.vuejs.org/v2/api/index.html#el</a></p>\n</blockquote>\n\n<h3>\n<span id="ページネーションのボタンアクセシビリティ対応" class="fragment"></span><a href="#%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%8D%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B7%E3%83%93%E3%83%AA%E3%83%86%E3%82%A3%E5%AF%BE%E5%BF%9C"><i class="fa fa-link"></i></a>ページネーションのボタンアクセシビリティ対応</h3>\n\n<p>今回ページネーションのライブラリで使用した<a href="https://github.com/TahaSh/vue-paginate" rel="nofollow noopener" target="_blank">vue-paginate</a>ですが、<code>&lt;a&gt;</code>タグのみで<code>href</code>で明確なリンク遷移が明示されていない、リンクとして未完成な状態のままでした。<br>\nまた、<code>tabindex</code>指定もないのでタブキーでのフォーカスも効かない状態でした。</p>\n\n<p>そこでページネーションのボタン部分をリンク要素としてではなく<code>button</code>タグに変更して、意味あるタグを設置・タブにおけるフォーカスの両方を解消しようと思いました。</p>\n\n<p>ただ、この内容についてIssueで報告する・プルリクエストを提出することを考えた時、個人での運用なのでいつ見てもらえるか・かつ受け入れられるかもわからないという不安がありました。</p>\n\n<p>そこで、リポジトリをforkして自分専用用のモジュールを作ったほうが早いと感じたので、早速対応しました。</p>\n\n<p><a href="https://github.com/yamanoku/vue-paginate" rel="nofollow noopener" target="_blank">https://github.com/yamanoku/vue-paginate</a></p>\n\n<p><a href="https://gyazo.com/42475acc4d4f26575615095b57d77a70" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F42475acc4d4f26575615095b57d77a70%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=932c94d302bc6fee15efe9e80a1e1b27" alt="aタグからbuttonタグに変更してタブキーのフォーカスが効くようになった" data-canonical-src="https://gyazo.com/42475acc4d4f26575615095b57d77a70/thumb/1000" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F42475acc4d4f26575615095b57d77a70%2Fthumb%2F1000?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=8e77d85377a2bc02111df0a82104057b 1x" loading="lazy"></a></p>\n\n<p>ただ、開閉時の<code>aria-expanded</code>ほかWAI-ARIA部分などはまだまだ対応しきれていないので、今後も改良する余地はありそうです（自前実装になる？）。</p>\n\n<h3>\n<span id="今後の更新todoなど" class="fragment"></span><a href="#%E4%BB%8A%E5%BE%8C%E3%81%AE%E6%9B%B4%E6%96%B0todo%E3%81%AA%E3%81%A9"><i class="fa fa-link"></i></a>今後の更新・TODOなど</h3>\n\n<p>以下Scrapboxのページにて順次手作業で更新予定です</p>\n\n<p><a href="https://scrapbox.io/yamanoku/Reading%E2%80%A6" rel="nofollow noopener" target="_blank">https://scrapbox.io/yamanoku/Reading…</a></p>\n\n<h2>\n<span id="pwaを作ってみての感想" class="fragment"></span><a href="#pwa%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%A6%E3%81%AE%E6%84%9F%E6%83%B3"><i class="fa fa-link"></i></a>PWAを作ってみての感想</h2>\n\n<ul>\n<li>Nuxt.jsにおけるPWA導入が圧倒的にやりやすい・分かりやすいかなと思いました\n\n<ul>\n<li>Vue.js依存ですが…</li>\n</ul>\n</li>\n<li>PWAだけに限らないですが、何かしら動くものを作ってみると、新しいものがきたらそこから派生してみる・検証することができる</li>\n<li>まだまだ改善の余地は大きい部分はあるが試行錯誤していろんなことが検証できるのが楽しい\n\n<ul>\n<li>こうしたらいいよ的なアドバイスお待ちしております（コメントでもTwitterでも）</li>\n</ul>\n</li>\n<li>今後の派生として、妻を個人Slackに招待して、家族間でのURL共有みたいなのがやれたらいいかなと思っている\n\n<ul>\n<li>妻が結構検索しまくって共有してくれる（育児・買い物・行きたいところ 等）</li>\n<li>夫婦間での共有を簡易・履歴として残すようにしたい</li>\n</ul>\n</li>\n<li>自分でPWAを実装してみてAndroid実機で動かせるのがこれまでにない感覚で面白かった\n\n<ul>\n<li>ちなみに<a href="https://yamanoku.net" rel="nofollow noopener" target="_blank">ポートフォリオサイト</a>もPWA化しています</li>\n<li>GitHub Pagesと紐づけているので、配下のページ（リポジトリ）も自動的にPWA判定になっている？\n\n<ul>\n<li>\n<a href="https://yamanoku.net/birthday-countdown-js/" rel="nofollow noopener" target="_blank">Birthday-Countdown.js</a> など</li>\n<li>Service Workerがルートディレクトリで設定されているから？</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>実際にPWAとして使えるものを使ってみたり検証したりしてみる\n\n<ul>\n<li>Service Workerがどういう感じで使われているか とか</li>\n<li>自分はTwitterはネイティブではなく<a href="https://mobile.twitter.com" rel="nofollow noopener" target="_blank">Twitter Lite</a>（PWA版）のを使うようにしています。</li>\n</ul>\n</li>\n<li>企業の制作実体験記みたいなのが気になりだす（業務内でのノウハウや失敗など）\n\n<ul>\n<li>最近だとHTML5カンファレンスや7月のHTML5 APP CONFERENCE 2018でその辺が聞けました\n\n<ul>\n<li><a href="https://speakerdeck.com/sisidovski/nikkei-pwa-html5conf2018" rel="nofollow noopener" target="_blank">PWAの導入で得られた成果と見えてきた課題</a></li>\n<li><a href="https://scrapbox.io/yamanoku/Web_%E3%83%97%E3%83%A9%E3%83%83%E3%83%88%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%E5%86%8D%E8%80%83_%EF%BD%9EPWA_%E3%81%AE%E3%82%82%E3%81%9F%E3%82%89%E3%81%99%E6%9C%AA%E6%9D%A5%E3%81%AE%E5%85%89%E3%81%A8%E5%BD%B1_%EF%BD%9E" rel="nofollow noopener" target="_blank">Web プラットフォーム再考 ～PWA のもたらす未来の光と影 ～</a></li>\n<li><a href="https://speakerdeck.com/ikasoumen/pixiv-chatstory-false-pwa-tositefalsequ-rizu-mi" rel="nofollow noopener" target="_blank">pixiv chatstory の\u2028 PWA としての取り組み</a></li>\n<li><a href="https://speakerdeck.com/kasanomo/mobairuneiteibuapurinidai-warucun-zai-chu-metefalsepwa" rel="nofollow noopener" target="_blank">モバイルネイティブアプリに代わる存在！？初めてのPWA</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>iOSマジお前．．．</strong>となる気持ちがよくわかる</li>\n</ul>\n\n<p>以上になります。ご覧いただきありがとうございました。<br>\n明日（12/7）は<a href="/_lemon2003_" class="user-mention js-hovercard" title="_lemon2003_" data-hovercard-target-type="user" data-hovercard-target-name="_lemon2003_">@_lemon2003_</a>さんになります。</p>\n\n<h2>\n<span id="弊社アドベントカレンダーpr" class="fragment"></span><a href="#%E5%BC%8A%E7%A4%BE%E3%82%A2%E3%83%89%E3%83%99%E3%83%B3%E3%83%88%E3%82%AB%E3%83%AC%E3%83%B3%E3%83%80%E3%83%BCpr"><i class="fa fa-link"></i></a>【弊社アドベントカレンダーPR】</h2>\n\n<p><a href="https://gyazo.com/a2ce676febed730106792e210ad75eba" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fa2ce676febed730106792e210ad75eba.jpg?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=c2e185c22706ff21c876f092fe3f1631" alt="株式会社GEEK ロゴ" data-canonical-src="https://i.gyazo.com/a2ce676febed730106792e210ad75eba.jpg" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fa2ce676febed730106792e210ad75eba.jpg?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=783431053548340a6eae95b2ed2444c8 1x" loading="lazy"></a></p>\n\n<p>最後に宣伝になりますが、私が所属している<a href="https://qiita.com/organizations/geekinc">株式会社GEEK</a>でもアドベントカレンダーをやっております。良ければご覧になってみてください。<br>\n自分はこのアドベントカレンダーほか色んな所に出張執筆予定です。</p>\n\n<ul>\n<li><a href="https://adventar.org/calendars/3108" rel="nofollow noopener" target="_blank">GEEK Inc. Advent Calendar 2018</a></li>\n<li>去年 → <a href="https://adventar.org/calendars/2422" rel="nofollow noopener" target="_blank">GEEK Inc. Advent Calendar 2017</a>\n</li>\n</ul>\n\n<p>GEEKアドベントカレンダーの次回担当はマークアップエンジニアの大房さんになります。</p>\n',body:'この記事は[PWA Advent Calendar 2018](https://qiita.com/advent-calendar/2018/pwa)の6日目の記事になります。\n既視感のあるタイトルですが気にしないでください。\n\n毎年何かしら自分のレベルに合わせて新技術に触れてみる・作ってみるみたいなのを課してるのですが、\n今年個人的にチャレンジしてみようと思ったものの１つにPWAがあります。\n\nそこで今回は大した知識が無くともPWAを作ることができた話をしようと思います。\n内容として他の皆様と大したことやってないかもですが、こんなんでも形になったぞというのを知ってもらいたいのもあるので温かい目で見てくださいませ。\n\n# Reading…\n\n<img src="https://gyazo.com/60ae2a3a628a1c6b7ed77bc356fbaeab/thumb/1000" alt="Reading… Logo" width="320">\n\nLink: [https://reading.yamanoku.net](https://reading.yamanoku.net/)\nGitHub:  [https://github.com/yamanoku/reading/](https://github.com/yamanoku/reading/)\n\n日頃自分が見ているニュースを集約してまとめてみたらどうなるだろうか、情報の蓄積・可視化みたいなのを考えておりそういうのができないかなと思ってそれを題材にPWAにしてみようと思いました。以下は経緯みたいなやつです。\n\n> [情報収集ってどうしてる？ - YAMALT vol.04](https://yamanoku.net/LT/lt04/)\n\n## 動作イメージ\n\n[![Reading… iPhoneシュミレーターによる実動作イメージ図](https://gyazo.com/8418eadc1713fd8f083a625706757786/thumb/1000)](https://gyazo.com/8418eadc1713fd8f083a625706757786)<br>\n\n自分が最近見た20件のニュース×５ページ分にした計100件を表示。\nページ間はページネーションで動きます。\n\n## 使用技術\n\n| API      | ホスティング | フレームワーク |\n|:-----------------|:------------------|:------------------|\n| Slack API <br> AWS API GateWay | Netlify | Nuxt.js |\n\nNuxt.jsのプラグイン・モジュールは以下を使用\n\n- [vue-paginate](https://github.com/TahaSh/vue-paginate)\n    - ページネーション。asyncもあって複数で連携できたり、\n    - 個人的には色々あるページネーションの中で導入が簡単（な印象）\n- [nuxt-community/pwa-module](https://github.com/nuxt-community/pwa-module)\n    - 皆様ご存知のNuxt.jsでPWAにするなら必要になる\n    - PWAにしなくともキャッシュ高速化にも使える\n\nあと当初はNuxt1.0で作成していましたが、今年の2.0の発表に合わせて[アップデートしました](https://github.com/yamanoku/reading/commit/6124198e300dc1f8ccc74e14c6b9118e09f36a5d)。\n\n> Nuxt 2でgenerateしたPWAサイトです\n> https://twitter.com/yamanoku/status/1043119076489318401\n\n## フローチャート\n\n図です。\n\n![フローチャート 以下説明](https://qiita-image-store.s3.amazonaws.com/0/49004/ea48ecc5-31b0-cce3-601c-7cdbbee215b8.png)\n\n\n- 投稿自体はTwitter\n    - シェアする内容の文頭に`Reading...`とつけてツイート\n        - 例：[https://twitter.com/yamanoku/status/998900479487692800](https://twitter.com/yamanoku/status/998900479487692800)\n    - 別に「Reading」じゃなくてもいいけど、昔使ってた[ニュースアプリ](http://fladdict.net/blog/2012/10/news-storm.html)の名残で自発的にやってる\n    - 主な発言地帯がTwitterなだけなので、別にIFTTTと連携できるならなんでもいい\n\n\n- DBは個人用Slack\n    - IFTTTで投稿連携\n        - Twitterから「Reading...」と紐づけた特定のものを拾ってくる\n        - 連携して個人Slackに投稿されて全件検索される\n        - [![Image](https://gyazo.com/1948eaf267fa165a4b4b1fef5afff211/thumb/1000)](https://gyazo.com/1948eaf267fa165a4b4b1fef5afff211)\n    - Slack APIの制約もあり100件までを抽出。古いものは取得内から消えていく。\n    - なぜSlackをデータベースにしたのか？\n        - お手軽サーバーレス体験\n        - Slack側のメッセージの修正や消去で即JSONに反映してくれる\n        - 無料で作れて垢バンの心配がない\n            - Twitter単体だと心配\n        - 日経の米朝首脳会談の速報ページで前例あり\n            - [こに@SocialDog/whotwiさんのツイート: 日経の米朝首脳会談の速報ページ、気味の悪い拡張子のファイルによるとSlackが使われているっぽい。現地からSlackに投稿するとそのまま公開される仕組みっぽい。すごい今風。](https://twitter.com/koni/status/1006452321583271936)\n\n- AWSでAPI GatewayとLambda FunctionにてAPI変換\n    - Slack APIから直接経由だと制約があってしんどかった\n        - devtools使うとどのslackから持ってきてるのかとかがわかっちゃう\n        - tokenを隠蔽しても`nuxt generate`しビルドしたJS内にtokenとかが見えると警告メールが来てAPI止められる（計4敗）\n        - [![Image](https://gyazo.com/22343b9c3de68ed9a44d24d81064bc6b/thumb/1000)](https://gyazo.com/22343b9c3de68ed9a44d24d81064bc6b)\n    - 変えてよかったこと\n        - tokenを完全隠蔽した\n        - CORS対応したのでどこでも取得できる\n        - gzip配信もできる\n        - 今のところは自分用なのもあって無料枠で収まる内容になってる\n    - [Netlify Meetup Tokyo #2](https://netlify-meetup-tokyo.connpass.com/event/100705/)で`Netlify Functions`でもいけそうって話を@mottox2さんから聞けたのでNetlify内で完結できる方向に変えようかと考え中\n\n- [Netlify](https://scrapbox.io/yamanoku/Netlify)でホスティング\n    - [GitHub](https://scrapbox.io/yamanoku/GitHub)リポジトリと紐づけてる\n    - `nuxt generate` &  `push-dir --dir=dist --branch=master --cleanup`\n    - 静的書き出しした`dist`を`master`ブランチにプッシュ\n    - `master`ブランチをホスティング\n        - [![Image from Gyazo](https://i.gyazo.com/89e1780586aa0aee4322c9a1cdee3fed.png)](https://gyazo.com/89e1780586aa0aee4322c9a1cdee3fed)\n    - SSL化やらカスタムドメイン可やらプレレンダリング（今回は未使用）やら無料でやってくれてすごい。\n    - あとプライベートリポジトリも使える。\n\n\n## パフォーマンス\n\n### lighthouse\n\n- Device: Emulated Nexus 5X\n- Network throttling: 150 ms TCP RTT, 1,638.4 Kbps throughput (Simulated)\n- CPU throttling: 4x slowdown (Simulated)\n\n上記設定で計測。Perfomance部分は変動ある感じですがだいたいこんな感じ\n\n#### 2018/9/6 計測\n[![Perfomance 91, PWA 96, Accessibility 88, Best Practice 100, SEO 100](https://gyazo.com/798f53d86ca89daf3d3d2c02187c44c2/thumb/1000)](https://gyazo.com/798f53d86ca89daf3d3d2c02187c44c2)\n\n#### 2018/12/2 計測\n[![Perfomance 95, PWA 96, Accessibility 90, Best Practice 100, SEO 100](https://gyazo.com/62f8aebc83ef63c8637401dca55fa6bd/raw)](https://gyazo.com/62f8aebc83ef63c8637401dca55fa6bd)\n\n### WebPageTest\n\n- From: Tokyo, Japan - EC2 - Chrome - Cable\n\n上記設定で計測。\n\n#### 2018/9/6 計測\n[https://www.webpagetest.org/result/180905_90_60fd3b52c101b6aaeb61fda8ac192468/](https://www.webpagetest.org/result/180905_90_60fd3b52c101b6aaeb61fda8ac192468/)\n\n#### 2018/12/2 計測\n[https://www.webpagetest.org/result/181202_Q9_0b087ea9b135cf3ee5e8c790e07853a7/](https://www.webpagetest.org/result/181202_Q9_0b087ea9b135cf3ee5e8c790e07853a7/)\n\n## Fixed & Updates\n\nあんまりPWA要素と関係ないかもですが、更新したことなど。\n\n### ページネーションをクリックするとスクロール位置が保存されたままになってる\n- 中間くらいまでスクロールした状態で移動するとページ間でその位置のまま\n    - `position: fixed`と`vh`を使っているせい\n- ページが切り替わったときの制御に`scrollTop`をかませた\n\n```javascript:NewsList.vue\nmethods: {\n  onPageChange() {\n    document.getElementsByClassName(\'news-list\')[0].scrollTop = 0;\n  }\n}\n```\n\n```html:NewsList.vue\n<paginate-links\n  for="lists"\n  @change="onPageChange" \x3c!-- ここ --\x3e\n  :show-step-links="true"\n  :limit="2">\n</paginate-links>\n```\n\n### 絵文字がパースされていない\n[![🔥の絵文字が :fire: として出力されている](https://gyazo.com/515ea122571f395b03d8be35b82e4469/thumb/1000)](https://gyazo.com/515ea122571f395b03d8be35b82e4469)\n\n単純にパースしてあげればいいのかなと思ったので、\n[node-emoji](https://www.npmjs.com/package/node-emoji) を使いました。\n\n[![🔥絵文字が適応された](https://gyazo.com/6586344df213347f483f99f7ea95c014/thumb/1000)](https://gyazo.com/6586344df213347f483f99f7ea95c014)\n\n👍👍👍👍👍\n\n### ナイトモード実装\n\n21時〜翌6時までの間は自動的に適応するようにしています。\nただカラーをナイトモード用に自制したというよりかは `filter: invert(100);` を使って\n色反転させただけという超シンプルナイトモードです。\n\n[![ナイトモード適応イメージ：アニメーションで白から黒に色反転されている](https://gyazo.com/b93728512267de56f767bdd13f119781/thumb/1000)](https://gyazo.com/b93728512267de56f767bdd13f119781)\n\n```javascript:defalut.vue\nexport default {\n  mounted() {\n    if((new Date()).getHours() >= 21 || (new Date()).getHours() < 6 ) {\n      document.body.className += "night-mode";\n    }\n  },\n}\n```\n\n```css:defalut.vue\n.night-mode {\n  animation: night 2s ease 0s 1 normal;\n  animation-fill-mode: forwards;\n  background-color: #fff;\n}\n@keyframes night {\n  0% {filter:invert(0);}\n  100% {filter:invert(100);}\n}\n```\n\nちなみに、Vue.jsで`html`とか`body`をマウントするのよくないらしいです。\n\n> 与えられた要素は単にマウントするポイントとして機能します。Vue 1.x とは異なり、マウントされた要素は、全てのケースで Vue によって生成された DOM に置き換えられます。\n> 従って、ルートインスタンスを`<html>`または`<body>`にマウントすることは推奨されません。\n> [https://jp.vuejs.org/v2/api/index.html#el](https://jp.vuejs.org/v2/api/index.html#el)\n\n### ページネーションのボタンアクセシビリティ対応\n今回ページネーションのライブラリで使用した[vue-paginate](https://github.com/TahaSh/vue-paginate)ですが、`<a>`タグのみで`href`で明確なリンク遷移が明示されていない、リンクとして未完成な状態のままでした。\nまた、`tabindex`指定もないのでタブキーでのフォーカスも効かない状態でした。\n\nそこでページネーションのボタン部分をリンク要素としてではなく`button`タグに変更して、意味あるタグを設置・タブにおけるフォーカスの両方を解消しようと思いました。\n\nただ、この内容についてIssueで報告する・プルリクエストを提出することを考えた時、個人での運用なのでいつ見てもらえるか・かつ受け入れられるかもわからないという不安がありました。\n\nそこで、リポジトリをforkして自分専用用のモジュールを作ったほうが早いと感じたので、早速対応しました。\n\n[https://github.com/yamanoku/vue-paginate](https://github.com/yamanoku/vue-paginate)\n\n[![aタグからbuttonタグに変更してタブキーのフォーカスが効くようになった](https://gyazo.com/42475acc4d4f26575615095b57d77a70/thumb/1000)](https://gyazo.com/42475acc4d4f26575615095b57d77a70)\n\nただ、開閉時の`aria-expanded`ほかWAI-ARIA部分などはまだまだ対応しきれていないので、今後も改良する余地はありそうです（自前実装になる？）。\n\n### 今後の更新・TODOなど\n\n以下Scrapboxのページにて順次手作業で更新予定です\n\n[https://scrapbox.io/yamanoku/Reading…](https://scrapbox.io/yamanoku/Reading%E2%80%A6)\n\n## PWAを作ってみての感想\n\n- Nuxt.js\bにおけるPWA導入が圧倒的にやりやすい・分かりやすいかなと思いました\n    - Vue.js依存ですが…\n- PWAだけに限らないですが、何かしら動くものを作ってみると、新しいものがきたらそこから派生してみる・検証することができる\n- まだまだ改善の余地は大きい部分はあるが試行錯誤していろんなことが検証できるのが楽しい\n    - こうしたらいいよ的なアドバイスお待ちしております（コメントでもTwitterでも）\n- 今後の派生として、妻を個人Slackに招待して、家族間でのURL共有みたいなのがやれたらいいかなと思っている\n    - 妻が結構検索しまくって共有してくれる（育児・買い物・行きたいところ 等）\n    - 夫婦間での共有を簡易・履歴として残すようにしたい\n- 自分でPWAを実装してみてAndroid実機で動かせるのがこれまでにない感覚で面白かった\n    - ちなみに[ポートフォリオサイト](https://yamanoku.net)もPWA化しています\n    - GitHub Pagesと紐づけているので、配下のページ（リポジトリ）も自動的にPWA判定になっている？\n        - [Birthday-Countdown.js](https://yamanoku.net/birthday-countdown-js/) など\n        - Service Workerがルートディレクトリで設定されているから？\n- 実際にPWAとして使えるものを使ってみたり検証したりしてみる\n    - Service Workerがどういう感じで使われているか とか\n    - 自分はTwitterはネイティブではなく[Twitter Lite](https://mobile.twitter.com)（PWA版）のを使うようにしています。\n- 企業の制作実体験記みたいなのが気になりだす（業務内でのノウハウや失敗など）\n    - 最近だとHTML5カンファレンスや7月のHTML5 APP CONFERENCE 2018でその辺が聞けました\n        - [PWAの導入で得られた成果と見えてきた課題](https://speakerdeck.com/sisidovski/nikkei-pwa-html5conf2018)\n        - [Web プラットフォーム再考 ～PWA のもたらす未来の光と影 ～]( https://scrapbox.io/yamanoku/Web_%E3%83%97%E3%83%A9%E3%83%83%E3%83%88%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%E5%86%8D%E8%80%83_%EF%BD%9EPWA_%E3%81%AE%E3%82%82%E3%81%9F%E3%82%89%E3%81%99%E6%9C%AA%E6%9D%A5%E3%81%AE%E5%85%89%E3%81%A8%E5%BD%B1_%EF%BD%9E)\n        - [pixiv chatstory の\u2028 PWA としての取り組み](https://speakerdeck.com/ikasoumen/pixiv-chatstory-false-pwa-tositefalsequ-rizu-mi)\n        - [モバイルネイティブアプリに代わる存在！？初めてのPWA](https://speakerdeck.com/kasanomo/mobairuneiteibuapurinidai-warucun-zai-chu-metefalsepwa)\n- **iOSマジお前．．．**となる気持ちがよくわかる\n \n以上になります。ご覧いただきありがとうございました。\n明日（12/7）は@_lemon2003_さんになります。\n\n## 【弊社アドベントカレンダーPR】\n\n[![株式会社GEEK ロゴ](https://i.gyazo.com/a2ce676febed730106792e210ad75eba.jpg)](https://gyazo.com/a2ce676febed730106792e210ad75eba)\n\n最後に宣伝になりますが、私が所属している[株式会社GEEK](https://qiita.com/organizations/geekinc)でもアドベントカレンダーをやっております。良ければご覧になってみてください。\n自分はこのアドベントカレンダーほか色んな所に出張執筆予定です。\n\n- [GEEK Inc. Advent Calendar 2018](https://adventar.org/calendars/3108)\n- 去年 → [GEEK Inc. Advent Calendar 2017](https://adventar.org/calendars/2422)\n\nGEEKアドベントカレンダーの次回担当はマークアップエンジニアの大房さんになります。\n',coediting:a,comments_count:0,created_at:"2018-12-01T22:31:54+09:00",group:n,id:"19825228f2629dedd024",likes_count:17,private:a,reactions_count:0,tags:[{name:"Slack",versions:[]},{name:"AWSLambda",versions:[]},{name:"PWA",versions:[]},{name:"Netlify",versions:[]},{name:H,versions:[]}],title:"よく分かってなくてもNuxt.jsでPWAが作れた話",updated_at:"2018-12-06T00:15:50+09:00",url:"https://qiita.com/yamanoku/items/19825228f2629dedd024",user:{description:z,facebook_id:s,followees_count:5,followers_count:j,github_login_name:s,id:s,items_count:C,linkedin_id:s,location:x,name:k,organization:E,permanent_id:F,profile_image_url:A,team_only:a,twitter_screen_name:s,website_url:w},page_views_count:n},{rendered_body:'\n<h1>\n<span id="追記20181026" class="fragment"></span><a href="#%E8%BF%BD%E8%A8%9820181026"><i class="fa fa-link"></i></a>追記（2018/10/26）</h1>\n\n<p><a href="https://gyazo.com/e91df68c9bb73a2637ad2fb09da78d64" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fe91df68c9bb73a2637ad2fb09da78d64.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=7a808fd992b78d3887ec0d22c7e1777f" alt="Image from Gyazo" data-canonical-src="https://i.gyazo.com/e91df68c9bb73a2637ad2fb09da78d64.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fe91df68c9bb73a2637ad2fb09da78d64.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=f8582b4d1a5887fa4d395c4e72314031 1x" loading="lazy"></a></p>\n\n<p><code>vue init nuxt-community/starter-template</code> が公式発表10/14で<strong>deprecated</strong>になったようです。</p>\n\n<p><a href="https://github.com/nuxt-community/starter-template/commit/82513c7306563b2dd42c7da3efed57803d25aea2" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/nuxt-community/starter-template/commit/82513c7306563b2dd42c7da3efed57803d25aea2</a></p>\n\n<p>今後はこんな記事なんぞ参照せず<strong>create-nuxt-app</strong>を使うようにしましょう👋👋👋</p>\n\n<h1>\n<span id="nuxtjs-20-release-" class="fragment"></span><a href="#nuxtjs-20-release-"><i class="fa fa-link"></i></a>Nuxt.js 2.0 Release !</h1>\n\n<p><a href="https://gyazo.com/f8a82a7c384f33360aed3884a2fbdba8" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Ff8a82a7c384f33360aed3884a2fbdba8.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=90ec81345a850649c2b5fa5aefb9bfa4" alt="Image from Gyazo" data-canonical-src="https://i.gyazo.com/f8a82a7c384f33360aed3884a2fbdba8.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Ff8a82a7c384f33360aed3884a2fbdba8.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=8d2f943af27393d49e34f119d82d83b7 1x" loading="lazy"></a></p>\n\n<p><a href="https://medium.com/@nuxt_js/nuxt-js-2-0-webpack-4-esm-modules-create-nuxt-app-and-more-6936ce80d94c" rel="nofollow noopener" target="_blank">Nuxt.js 2.0: Webpack 4, ESM Modules, create-nuxt-app and more! 💫<br>\n</a></p>\n\n<p>ついに来ました Nuxt2.0。ということで初心者でもすぐ体験できるNuxt2の世界の話をします。</p>\n\n<p>たぶんこのあと<code>vue-cli</code>がちゃんとアップデートしてくれると思いますが、それまでの僅かな命だと思ってご覧ください。</p>\n\n<h1>\n<span id="install" class="fragment"></span><a href="#install"><i class="fa fa-link"></i></a>install</h1>\n\n<p>npm 5.2.0以上だったら<code>npx</code>使うとラクチンです。</p>\n\n<div class="code-frame" data-lang="bash"><div class="highlight"><pre>npx vue-cli init nuxt-community/starter-template nuxt2\n? Project name nuxt2\n? Project description Nuxt.js project\n? Author yamanoku &lt;0910yama@gmail.com&gt;\n\n   vue-cli · Generated <span class="s2">"nuxt2"</span><span class="nb">.</span>\n\n   To get started:\n\n     <span class="nb">cd </span>nuxt2\n     npm <span class="nb">install</span> <span class="c"># Or yarn</span>\n     npm run dev\n</pre></div></div>\n\n<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nb">cd </span>nuxt2\nyarn\n</pre></div></div>\n\n<p>宗教上の都合で<code>yarn</code>を使ってますが別に<code>npm</code>でも問題ないです</p>\n\n<h1>\n<span id="packagejson" class="fragment"></span><a href="#packagejson"><i class="fa fa-link"></i></a>package.json</h1>\n\n<p>現時点（9/21）ではこうなってると思います</p>\n\n<div class="code-frame" data-lang="json"><div class="highlight"><pre><span class="w">  </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">\n    </span><span class="nl">"nuxt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^1.0.0"</span><span class="w">\n  </span><span class="p">}</span><span class="err">,</span><span class="w">\n</span></pre></div></div>\n\n<p>ここから２にあげる</p>\n\n<div class="code-frame" data-lang="bash"><div class="highlight"><pre>yarn add nuxt\n</pre></div></div>\n\n<div class="code-frame" data-lang="json"><div class="highlight"><pre><span class="w">  </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">\n    </span><span class="nl">"nuxt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^2.0.0"</span><span class="w">\n  </span><span class="p">}</span><span class="err">,</span><span class="w">\n</span></pre></div></div>\n\n<h1>\n<span id="run" class="fragment"></span><a href="#run"><i class="fa fa-link"></i></a>run</h1>\n\n<p>とりあえず動かしてみましょう</p>\n\n<div class="code-frame" data-lang="bash"><div class="highlight"><pre>yarn dev\nyarn run v1.9.4\n<span class="nv">$ </span>nuxt\n</pre></div></div>\n\n<p><a href="https://gyazo.com/d790ef2cbcef0071a90531d7cbe157e2" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fd790ef2cbcef0071a90531d7cbe157e2.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=85aca56991842f2576770f08c9e84a26" alt="Image from Gyazo" data-canonical-src="https://i.gyazo.com/d790ef2cbcef0071a90531d7cbe157e2.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fd790ef2cbcef0071a90531d7cbe157e2.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=bcb4fc17fabd3a806887ba5834df7d0e 1x" loading="lazy"></a></p>\n\n<p>おっ動いてる</p>\n\n<p><a href="https://gyazo.com/22a2bd507b01a49725c8221be7b93a88" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F22a2bd507b01a49725c8221be7b93a88.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=c7535efe05d7b69d8358fddfec686077" alt="Image from Gyazo" data-canonical-src="https://i.gyazo.com/22a2bd507b01a49725c8221be7b93a88.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F22a2bd507b01a49725c8221be7b93a88.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=4b50321c0eafc3e96410f3c5e8d4ca21 1x" loading="lazy"></a></p>\n\n<p>と思いきや<code>eslint</code>でなにやらコケてる</p>\n\n<h1>\n<span id="fix" class="fragment"></span><a href="#fix"><i class="fa fa-link"></i></a>fix</h1>\n\n<p>以前<a href="/potate4d" class="user-mention js-hovercard" title="potate4d" data-hovercard-target-type="user" data-hovercard-target-name="potate4d">@potate4d</a>さんの記事で拝見した<a href="https://qiita.com/potato4d/items/7b3119c88869d7622a7d#migrate-from-isserver-to-processserver" id="reference-6dc688710595cb625d9e">Migrate from isServer to process.server</a>で該当箇所を修正してみる。</p>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">before/nuxt.config.js</span></div>\n<div class="highlight"><pre>  <span class="nx">build</span><span class="p">:</span> <span class="p">{</span>\n    <span class="cm">/*\n    ** Run ESLint on save\n    */</span>\n    <span class="nx">extend</span> <span class="p">(</span><span class="nx">config</span><span class="p">,</span> <span class="p">{</span> <span class="nx">isDev</span><span class="p">,</span> <span class="nx">isClient</span> <span class="p">})</span> <span class="p">{</span>\n      <span class="k">if</span> <span class="p">(</span><span class="nx">isDev</span> <span class="o">&amp;&amp;</span> <span class="nx">isClient</span><span class="p">)</span> <span class="p">{</span>\n        <span class="nx">config</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>\n          <span class="na">enforce</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">pre</span><span class="dl">\'</span><span class="p">,</span>\n          <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.(</span><span class="sr">js|vue</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>\n          <span class="na">loader</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">eslint-loader</span><span class="dl">\'</span><span class="p">,</span>\n          <span class="na">exclude</span><span class="p">:</span> <span class="sr">/</span><span class="se">(</span><span class="sr">node_modules</span><span class="se">)</span><span class="sr">/</span>\n        <span class="p">})</span>\n      <span class="p">}</span>\n    <span class="p">}</span>\n  <span class="p">}</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">after/nuxt.config.js</span></div>\n<div class="highlight"><pre>  <span class="nx">build</span><span class="p">:</span> <span class="p">{</span>\n    <span class="cm">/*\n    ** Run ESLint on save\n    */</span>\n    <span class="nx">extend</span> <span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>\n      <span class="k">if</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">server</span> <span class="o">&amp;&amp;</span> <span class="nx">process</span><span class="p">.</span><span class="nx">client</span><span class="p">)</span> <span class="p">{</span>\n        <span class="nx">config</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="nx">rules</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>\n          <span class="na">enforce</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">pre</span><span class="dl">\'</span><span class="p">,</span>\n          <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.(</span><span class="sr">js|vue</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>\n          <span class="na">loader</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">eslint-loader</span><span class="dl">\'</span><span class="p">,</span>\n          <span class="na">exclude</span><span class="p">:</span> <span class="sr">/</span><span class="se">(</span><span class="sr">node_modules</span><span class="se">)</span><span class="sr">/</span>\n        <span class="p">})</span>\n      <span class="p">}</span>\n    <span class="p">}</span>\n  <span class="p">}</span>\n</pre></div>\n</div>\n\n<p><a href="https://gyazo.com/b0864a60c02e61e7e90d58f43887f7ac" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fb0864a60c02e61e7e90d58f43887f7ac.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=0dd2a5656552fd82ef68b0c58e9645a9" alt="Image from Gyazo" data-canonical-src="https://i.gyazo.com/b0864a60c02e61e7e90d58f43887f7ac.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fb0864a60c02e61e7e90d58f43887f7ac.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=171e162f3401e05abb1fa36a4fc29d0b 1x" loading="lazy"></a></p>\n\n<p>エラー消えた！</p>\n\n<p><a href="https://gyazo.com/c0cc3fead577df1aa4edcabc985866a7" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fc0cc3fead577df1aa4edcabc985866a7.gif?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=5a494652186dd7dd05e1fc70f66f8d3a" alt="Image from Gyazo" data-canonical-src="https://i.gyazo.com/c0cc3fead577df1aa4edcabc985866a7.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fc0cc3fead577df1aa4edcabc985866a7.gif?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=2efea9324f9a3be36dbfe46f18b6b97c 1x" loading="lazy"></a></p>\n\n<p><code>build</code>も動く</p>\n\n<p><a href="https://gyazo.com/394756cc959d76f9ccfa09fd63bfd1ac" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F394756cc959d76f9ccfa09fd63bfd1ac.gif?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=d514b772eb97292565b515499afbe38e" alt="Image from Gyazo" data-canonical-src="https://i.gyazo.com/394756cc959d76f9ccfa09fd63bfd1ac.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F394756cc959d76f9ccfa09fd63bfd1ac.gif?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=b25381f595fe0b21d73dfab8671b0bfb 1x" loading="lazy"></a></p>\n\n<p><code>generate</code>も動く</p>\n\n<p>以上！！！！！！！！！！！！！！！！！！</p>\n\n<h1>\n<span id="etc" class="fragment"></span><a href="#etc"><i class="fa fa-link"></i></a>etc</h1>\n\n<p>他なにかわかったら追記します。</p>\n\n<h2>\n<span id="vendorがあると警告が出る" class="fragment"></span><a href="#vendor%E3%81%8C%E3%81%82%E3%82%8B%E3%81%A8%E8%AD%A6%E5%91%8A%E3%81%8C%E5%87%BA%E3%82%8B"><i class="fa fa-link"></i></a>vendorがあると警告が出る</h2>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">nuxt.config.js</span></div>\n<div class="highlight"><pre>  <span class="nx">build</span><span class="p">:</span> <span class="p">{</span>\n    <span class="nl">vendor</span><span class="p">:</span> <span class="p">[</span>\n      <span class="dl">\'</span><span class="s1">axios</span><span class="dl">\'</span><span class="p">,</span>\n    <span class="p">]</span>\n  <span class="p">},</span>\n</pre></div>\n</div>\n\n<p>こういうのがあったと思うんですが、Nuxt2にアプデしてこのまま動かすと警告が出ます。</p>\n\n<div class="code-frame" data-lang="text"><div class="highlight"><pre>⚠ warn vendor has been deprecated due to webpack4 optimization\n</pre></div></div>\n\n<p>webpack4の最適化による非推奨になったためだそうです。</p>\n',body:'# 追記（2018/10/26）\n\n[![Image from Gyazo](https://i.gyazo.com/e91df68c9bb73a2637ad2fb09da78d64.png)](https://gyazo.com/e91df68c9bb73a2637ad2fb09da78d64)\n\n`vue init nuxt-community/starter-template` が公式発表10/14で**deprecated**になったようです。\n\nhttps://github.com/nuxt-community/starter-template/commit/82513c7306563b2dd42c7da3efed57803d25aea2\n\n今後はこんな記事なんぞ参照せず**create-nuxt-app**を使うようにしましょう👋👋👋\n\n# Nuxt.js 2.0 Release !\n\n[![Image from Gyazo](https://i.gyazo.com/f8a82a7c384f33360aed3884a2fbdba8.png)](https://gyazo.com/f8a82a7c384f33360aed3884a2fbdba8)\n\n[Nuxt.js 2.0: Webpack 4, ESM Modules, create-nuxt-app and more! 💫\n](https://medium.com/@nuxt_js/nuxt-js-2-0-webpack-4-esm-modules-create-nuxt-app-and-more-6936ce80d94c)\n\nついに来ました Nuxt2.0。ということで初心者でもすぐ体験できるNuxt2の世界の話をします。\n\nたぶんこのあと`vue-cli`がちゃんとアップデートしてくれると思いますが、それまでの僅かな命だと思ってご覧ください。\n\n# install\nnpm 5.2.0以上だったら`npx`使うとラクチンです。\n\n```bash\nnpx vue-cli init nuxt-community/starter-template nuxt2\n? Project name nuxt2\n? Project description Nuxt.js project\n? Author yamanoku <0910yama@gmail.com>\n\n   vue-cli · Generated "nuxt2".\n\n   To get started:\n\n     cd nuxt2\n     npm install # Or yarn\n     npm run dev\n```\n\n```bash\ncd nuxt2\nyarn\n```\n\n宗教上の都合で`yarn`を使ってますが別に`npm`でも問題ないです\n\n# package.json\n\n現時点（9/21）ではこうなってると思います\n\n```json\n  "dependencies": {\n    "nuxt": "^1.0.0"\n  },\n```\n\nここから２にあげる\n\n```bash\nyarn add nuxt\n```\n\n```json\n  "dependencies": {\n    "nuxt": "^2.0.0"\n  },\n```\n\n# run\nとりあえず動かしてみましょう\n\n```bash\nyarn dev\nyarn run v1.9.4\n$ nuxt\n```\n\n[![Image from Gyazo](https://i.gyazo.com/d790ef2cbcef0071a90531d7cbe157e2.png)](https://gyazo.com/d790ef2cbcef0071a90531d7cbe157e2)\n\nおっ動いてる\n\n[![Image from Gyazo](https://i.gyazo.com/22a2bd507b01a49725c8221be7b93a88.png)](https://gyazo.com/22a2bd507b01a49725c8221be7b93a88)\n\nと思いきや`eslint`でなにやらコケてる\n\n# fix\n\n以前@potate4dさんの記事で拝見した[Migrate from isServer to process.server](https://qiita.com/potato4d/items/7b3119c88869d7622a7d#migrate-from-isserver-to-processserver)で該当箇所を修正してみる。\n\n```before/nuxt.config.js\n  build: {\n    /*\n    ** Run ESLint on save\n    */\n    extend (config, { isDev, isClient }) {\n      if (isDev && isClient) {\n        config.module.rules.push({\n          enforce: \'pre\',\n          test: /\\.(js|vue)$/,\n          loader: \'eslint-loader\',\n          exclude: /(node_modules)/\n        })\n      }\n    }\n  }\n```\n\n```after/nuxt.config.js\n  build: {\n    /*\n    ** Run ESLint on save\n    */\n    extend (config) {\n      if (process.server && process.client) {\n        config.module.rules.push({\n          enforce: \'pre\',\n          test: /\\.(js|vue)$/,\n          loader: \'eslint-loader\',\n          exclude: /(node_modules)/\n        })\n      }\n    }\n  }\n```\n\n[![Image from Gyazo](https://i.gyazo.com/b0864a60c02e61e7e90d58f43887f7ac.png)](https://gyazo.com/b0864a60c02e61e7e90d58f43887f7ac)\n\nエラー消えた！\n\n[![Image from Gyazo](https://i.gyazo.com/c0cc3fead577df1aa4edcabc985866a7.gif)](https://gyazo.com/c0cc3fead577df1aa4edcabc985866a7)\n\n`build`も動く\n\n[![Image from Gyazo](https://i.gyazo.com/394756cc959d76f9ccfa09fd63bfd1ac.gif)](https://gyazo.com/394756cc959d76f9ccfa09fd63bfd1ac)\n\n`generate`も動く\n\n以上！！！！！！！！！！！！！！！！！！\n\n# etc\n他なにかわかったら追記します。\n## vendorがあると警告が出る\n```nuxt.config.js\n  build: {\n    vendor: [\n      \'axios\',\n    ]\n  },\n```\nこういうのがあったと思うんですが、Nuxt2にアプデしてこのまま動かすと警告が出ます。\n\n```\n⚠ warn vendor has been deprecated due to webpack4 optimization\n```\n\nwebpack4の最適化による非推奨になったためだそうです。\n',coediting:a,comments_count:0,created_at:"2018-09-21T22:38:53+09:00",group:n,id:"6eb9cf3cd35356ce0ba8",likes_count:3,private:a,reactions_count:0,tags:[{name:"初心者",versions:[]},{name:G,versions:[]},{name:H,versions:[]},{name:oa,versions:[]},{name:"nuxt2",versions:[]}],title:"vue-cliで作ったNuxtスターターキットでNuxt1 => 2に上げるやり方（追記あり）",updated_at:"2018-10-26T20:03:44+09:00",url:"https://qiita.com/yamanoku/items/6eb9cf3cd35356ce0ba8",user:{description:z,facebook_id:s,followees_count:5,followers_count:j,github_login_name:s,id:s,items_count:C,linkedin_id:s,location:x,name:k,organization:E,permanent_id:F,profile_image_url:A,team_only:a,twitter_screen_name:s,website_url:w},page_views_count:n},{rendered_body:'<p>※このスライドは社内勉強会（18/01/30）にて使用した資料です。公開用に一部修正・改訂などしております。</p>\n\n<hr>\n\n<h1>\n<span id="lintとは" class="fragment"></span><a href="#lint%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>Lintとは</h1>\n\n<p>コード検査。これを利用するとコード構造の品質に関する問題を特定して修正することができる。</p>\n\n<hr>\n\n<h1>\n<span id="いろいろあるlintツール" class="fragment"></span><a href="#%E3%81%84%E3%82%8D%E3%81%84%E3%82%8D%E3%81%82%E3%82%8Blint%E3%83%84%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>いろいろあるLintツール</h1>\n\n<ul>\n<li>\n<a href="https://github.com/douglascrockford/JSLint" rel="nofollow noopener" target="_blank">JSLint</a> ... JavaScriptのLintツール（ルールは決まっている）</li>\n<li>\n<a href="https://eslint.org/" rel="nofollow noopener" target="_blank">ESLint</a> ... JSLintよりも汎用性のあるルールの改変ができるLintツール</li>\n<li>\n<a href="https://github.com/htmllint/htmllint" rel="nofollow noopener" target="_blank">htmllint</a> ... HTMLのLintツール</li>\n<li>\n<a href="https://github.com/YusukeHirao/markuplint" rel="nofollow noopener" target="_blank">markuplint</a> ... マークアップに特化したLintツール（開発中）</li>\n<li>\n<a href="http://marionebl.github.io/commitlint/" rel="nofollow noopener" target="_blank">commitlint</a> ... Gitのコミットメッセージにルールをつける（プレフィックスなど）</li>\n<li>\n<a href="https://github.com/textlint/textlint" rel="nofollow noopener" target="_blank">textlint</a> ... 文章やマークダウンの構文チェックツール</li>\n<li>etc...</li>\n</ul>\n\n<hr>\n\n<h1>\n<span id="メリットは" class="fragment"></span><a href="#%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88%E3%81%AF"><i class="fa fa-link"></i></a>メリットは？</h1>\n\n<ul>\n<li>コードの品質維持</li>\n<li>制作ガイドラインを逐一確認しなくてもよくなる\n\n<ul>\n<li>どう守れているか？は最悪ターミナルで確認できる。</li>\n</ul>\n</li>\n<li>ハックを利用しなければいけない書き方を廃絶していける</li>\n<li>「標準的な」コードの書き方が身につく</li>\n</ul>\n\n<hr>\n\n<p>Lintをすることでバグ０が実現できるわけではないが（ブラウザチェック・テストコードも別途必要）</p>\n\n<p>全体で<strong>「見通しの良い」コード</strong>は実現できる。</p>\n\n<p>=&gt; その結果、後天的なバグを回避できる可能性はあがるので多少なりにも貢献はできている。</p>\n\n<hr>\n\n<h1>\n<span id="cliで試してみる" class="fragment"></span><a href="#cli%E3%81%A7%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>CLIで試してみる</h1>\n\n<div class="code-frame" data-lang="bash"><div class="highlight"><pre> yarn add <span class="nt">--global</span> stylelint\n yarn <span class="nb">install</span> <span class="nt">-y</span>\n yarn add @geekcojp/stylelint-config\n stylelint <span class="nt">--config</span> node_modules/@geekcojp/stylelint-config/index.js styles.css\n</pre></div></div>\n\n<p>(npmでも可)</p>\n\n<p>すぐに使える！</p>\n\n<hr>\n\n<h1>\n<span id="公式サイトのデモもあるよ" class="fragment"></span><a href="#%E5%85%AC%E5%BC%8F%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E3%83%87%E3%83%A2%E3%82%82%E3%81%82%E3%82%8B%E3%82%88"><i class="fa fa-link"></i></a>公式サイトのデモもあるよ。</h1>\n\n<p><a href="https://stylelint.io/demo/" class="autolink" rel="nofollow noopener" target="_blank">https://stylelint.io/demo/</a></p>\n\n<hr>\n\n<h1>\n<span id="ルールは色々ある" class="fragment"></span><a href="#%E3%83%AB%E3%83%BC%E3%83%AB%E3%81%AF%E8%89%B2%E3%80%85%E3%81%82%E3%82%8B"><i class="fa fa-link"></i></a>ルールは色々ある。</h1>\n\n<ul>\n<li>「:」の前後にスペースを入れるかどうか</li>\n<li>\n<code>!important</code>を書いていないか</li>\n<li>重複したプロパティは無いか</li>\n<li>詳細度、ネストなどは深くなっていないか（数値で調整可能）</li>\n<li>プロパティや値が空の宣言箇所はないか</li>\n<li>etc...</li>\n</ul>\n\n<p><a href="https://stylelint.io/user-guide/rules/" class="autolink" rel="nofollow noopener" target="_blank">https://stylelint.io/user-guide/rules/</a></p>\n\n<hr>\n\n<p>「クライアントの要望でスタイル上ここのルールは絶対無視しないといけない…！」みたいなことがあった際</p>\n\n<p>=&gt; <strong>disableコメントアウトでルールの無視が可能</strong></p>\n\n<hr>\n\n<h1>\n<span id="disable-使用例" class="fragment"></span><a href="#disable-%E4%BD%BF%E7%94%A8%E4%BE%8B"><i class="fa fa-link"></i></a>disable 使用例</h1>\n\n<div class="code-frame" data-lang="css"><div class="highlight"><pre> <span class="c">/* stylelint-disable */</span>\n <span class="nt">a</span> <span class="p">{}</span>\n <span class="c">/* stylelint-enable */</span>\n</pre></div></div>\n\n<p>もしくは</p>\n\n<div class="code-frame" data-lang="css"><div class="highlight"><pre><span class="nt">a</span> <span class="p">{</span>\n  <span class="c">/* stylelint-disable-next-line declaration-no-important */</span>\n  <span class="nl">color</span><span class="p">:</span> <span class="no">pink</span> <span class="cp">!important</span><span class="p">;</span>\n<span class="p">}</span>\n</pre></div></div>\n\n<hr>\n\n<p>ただし、<code>disable</code>は出来る限り使わないようにする（したい）。</p>\n\n<p>もしくは他プロジェクトでも頻繁にするようであればルール自体を見直す機会が必要かもしれないので考えてみるなど必要。</p>\n\n<hr>\n\n<p>独自でルール設定することも可能（<code>extends</code>で<code>@geekcojp/stylelint-config</code>は読み込むこと）</p>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">config.js</span></div>\n<div class="highlight"><pre> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>\n   <span class="dl">"</span><span class="s2">extends</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">./node_modules/@geekcojp/stylelint-config</span><span class="dl">"</span><span class="p">,</span>\n   <span class="dl">"</span><span class="s2">rules</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>\n    <span class="c1">// ルール追記</span>\n   <span class="p">}</span>\n <span class="p">}</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="bash">\n<div class="code-lang"><span class="bold">zsh</span></div>\n<div class="highlight"><pre>stylelint <span class="nt">--config</span> config.js index.css\n</pre></div>\n</div>\n\n<hr>\n\n<p>ルールは厳しいルールセットみたいなものから、自分で必要箇所を埋めていく緩いものまで必要に応じて設定できる。</p>\n\n<ul>\n<li>\n<a href="https://github.com/stylelint/stylelint-config-standard" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/stylelint/stylelint-config-standard</a>\n\n<ul>\n<li>stylelintの公式推奨ルールセット</li>\n<li>ルール制定が分からなかったらこれ入れてみても良さそう</li>\n</ul>\n</li>\n</ul>\n\n<hr>\n\n<p>ちなみに <code>@geekcojp/stylelint-config</code> で参考にしている<code>.stylelintrc</code>内容は以下参照 </p>\n\n<p><a href="https://github.com/benfrain/ecss-postcss-shell/blob/master/.stylelintrc" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/benfrain/ecss-postcss-shell/blob/master/.stylelintrc</a></p>\n\n<p>※社内では<a href="http://ecss.io/" rel="nofollow noopener" target="_blank">ECSS</a>の設計思想をベースにコーディングしています</p>\n\n<hr>\n\n<p><code>@geekcojp/stylelint-config</code> は絶賛パブリックなので内容に意義があればプルリクバンバン投げてくれ！</p>\n\n<p><a href="https://github.com/geekcojp/config/tree/master/packages/stylelint-config" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/geekcojp/config/tree/master/packages/stylelint-config</a></p>\n\n<p><strong>TODO</strong></p>\n\n<ul>\n<li class="task-list-item">\n<input type="checkbox" class="task-list-item-checkbox" disabled>CHANGE.LOGを書く（どのバージョンで何のルールが追加されたか等）</li>\n</ul>\n\n<hr>\n\n<p>Lintはあくまでも「警告」をするものなので、無視したり気づかなかったりする場合、コードが悪いまま通ってしまう。</p>\n\n<p>=&gt; 警告があるものは絶対にコミットなどを通さないような仕組みも必要。</p>\n\n<hr>\n\n<h1>\n<span id="husky-" class="fragment"></span><a href="#husky-"><i class="fa fa-link"></i></a>husky 🐶</h1>\n\n<hr>\n\n<div class="code-frame" data-lang="json">\n<div class="code-lang"><span class="bold">package.json</span></div>\n<div class="highlight"><pre><span class="w"> </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">\n   </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stylelint"</span><span class="p">,</span><span class="w">\n </span><span class="p">}</span><span class="err">,</span><span class="w">\n </span><span class="nl">"husky"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">\n   </span><span class="nl">"hooks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">\n     </span><span class="nl">"pre-commit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yarn test"</span><span class="w">\n   </span><span class="p">}</span><span class="w">\n </span><span class="p">}</span><span class="w">\n</span></pre></div>\n</div>\n\n<p><a href="https://github.com/typicode/husky" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/typicode/husky</a></p>\n\n<p>コミットした時に<code>test</code> が作動し（stylelintが動く）、Lint警告文を出してくれる（無かったらコミットが通る）</p>\n\n<hr>\n\n<h1>\n<span id="どう動かすのか分からんし時間がない" class="fragment"></span><a href="#%E3%81%A9%E3%81%86%E5%8B%95%E3%81%8B%E3%81%99%E3%81%AE%E3%81%8B%E5%88%86%E3%81%8B%E3%82%89%E3%82%93%E3%81%97%E6%99%82%E9%96%93%E3%81%8C%E3%81%AA%E3%81%84"><i class="fa fa-link"></i></a>どう動かすのか分からんし時間がない…</h1>\n\n<hr>\n\n<h1>\n<span id="試せる下地を作ったよ" class="fragment"></span><a href="#%E8%A9%A6%E3%81%9B%E3%82%8B%E4%B8%8B%E5%9C%B0%E3%82%92%E4%BD%9C%E3%81%A3%E3%81%9F%E3%82%88"><i class="fa fa-link"></i></a>試せる下地を作ったよ！</h1>\n\n<hr>\n\n<h1>\n<span id="httpsgithubcomgeekcojpstylelint-boilerplate" class="fragment"></span><a href="#httpsgithubcomgeekcojpstylelint-boilerplate"><i class="fa fa-link"></i></a><a href="https://github.com/geekcojp/stylelint-boilerplate" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/geekcojp/stylelint-boilerplate</a>\n</h1>\n\n<hr>\n\n<p>使うのはこのコマンドだけ！</p>\n\n<div class="code-frame" data-lang="bash">\n<div class="code-lang"><span class="bold">zsh</span></div>\n<div class="highlight"><pre><span class="c"># リポジトリclone</span>\ngit clone https://github.com/geekcojp/stylelint-boilerplate.git\n\n<span class="c"># 依存パッケージをインストール</span>\nyarn\n\n<span class="c"># developモード(gulpを動かす)</span>\nyarn dev\n<span class="c"># or gulp</span>\n\n<span class="c"># stylelint単体動かす</span>\nyarn lint-styles\n</pre></div>\n</div>\n\n<hr>\n\n<h1>\n<span id="雑感" class="fragment"></span><a href="#%E9%9B%91%E6%84%9F"><i class="fa fa-link"></i></a>雑感</h1>\n\n<ul>\n<li>何事も見るよりやって慣れろ</li>\n<li>問題のある箇所のみチェックしながら書けるのは良い</li>\n<li>\n<code>!important</code> は悪しき存在\n\n<ul>\n<li>これまでの書き方を見直すよいきっかけにもなる。</li>\n</ul>\n</li>\n<li>記述スピードは多少上がった気がする</li>\n<li>ガイドラインはもう必要なさそう？\n\n<ul>\n<li>config自体がガイドラインになる</li>\n</ul>\n</li>\n</ul>\n\n<hr>\n\n<h1>\n<span id="lintやっていきましょうmuscle" class="fragment"></span><a href="#lint%E3%82%84%E3%81%A3%E3%81%A6%E3%81%84%E3%81%8D%E3%81%BE%E3%81%97%E3%82%87%E3%81%86muscle"><i class="fa fa-link"></i></a>Lintやっていきましょう<img alt=":muscle:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f4aa.png" title=":muscle:" width="20" loading="lazy">\n</h1>\n',body:'※このスライドは社内勉強会（18/01/30）にて使用した資料です。公開用に一部修正・改訂などしております。\n\n---\n\n# Lintとは\n\nコード検査。これを利用するとコード構造の品質に関する問題を特定して修正することができる。\n\n---\n\n# いろいろあるLintツール\n\n- [JSLint](https://github.com/douglascrockford/JSLint) ... JavaScriptのLintツール（ルールは決まっている）\n- [ESLint](https://eslint.org/) ... JSLintよりも汎用性のあるルールの改変ができるLintツール\n- [htmllint](https://github.com/htmllint/htmllint) ... HTMLのLintツール\n- [markuplint](https://github.com/YusukeHirao/markuplint) ... マークアップに特化したLintツール（開発中）\n- [commitlint](http://marionebl.github.io/commitlint/) ... Gitのコミットメッセージにルールをつける（プレフィックスなど）\n- [textlint](https://github.com/textlint/textlint) ... 文章やマークダウンの構文チェックツール\n- etc...\n\n---\n\n# メリットは？\n\n- コードの品質維持\n- 制作ガイドラインを逐一確認しなくてもよくなる\n    - どう守れているか？は最悪ターミナルで確認できる。\n- ハックを利用しなければいけない書き方を廃絶していける\n- 「標準的な」コードの書き方が身につく\n\n---\n\nLintをすることでバグ０が実現できるわけではないが（ブラウザチェック・テストコードも別途必要）\n\n全体で**「見通しの良い」コード**は実現できる。\n\n=> その結果、後天的なバグを回避できる可能性はあがるので多少なりにも貢献はできている。\n\n---\n\n# CLIで試してみる\n\n```zsh\n yarn add --global stylelint\n yarn install -y\n yarn add @geekcojp/stylelint-config\n stylelint --config node_modules/@geekcojp/stylelint-config/index.js styles.css\n```\n(npmでも可)\n\nすぐに使える！\n\n---\n\n# 公式サイトのデモもあるよ。\nhttps://stylelint.io/demo/\n\n---\n\n# ルールは色々ある。\n\n- 「:」の前後にスペースを入れるかどうか\n- `!important`を書いていないか\n- 重複したプロパティは無いか\n- 詳細度、ネストなどは深くなっていないか（数値で調整可能）\n- プロパティや値が空の宣言箇所はないか\n- etc...\n\nhttps://stylelint.io/user-guide/rules/\n\n---\n\n「クライアントの要望でスタイル上ここのルールは絶対無視しないといけない…！」みたいなことがあった際\n\n=> **disableコメントアウトでルールの無視が可能**\n\n---\n\n# disable 使用例\n\n```css\n /* stylelint-disable */\n a {}\n /* stylelint-enable */\n```\n\nもしくは\n\n```css\na {\n  /* stylelint-disable-next-line declaration-no-important */\n  color: pink !important;\n}\n```\n\n---\n\nただし、`disable`は出来る限り使わないようにする（したい）。\n\nもしくは他プロジェクトでも頻繁にするようであればルール自体を見直す機会が必要かもしれないので考えてみるなど必要。\n\n---\n\n独自でルール設定することも可能（`extends`で`@geekcojp/stylelint-config`は読み込むこと）\n\n```config.js\n module.exports = {\n   "extends": "./node_modules/@geekcojp/stylelint-config",\n   "rules": {\n   \t// ルール追記\n   }\n }\n```\n\n```zsh:zsh\nstylelint --config config.js index.css\n```\n\n---\n\nルールは厳しいルールセットみたいなものから、自分で必要箇所を埋めていく緩いものまで必要に応じて設定できる。\n\n- https://github.com/stylelint/stylelint-config-standard\n    - stylelintの公式推奨ルールセット\n    - ルール制定が分からなかったらこれ入れてみても良さそう\n\n---\n\nちなみに `@geekcojp/stylelint-config` で参考にしている`.stylelintrc`内容は以下参照 \n\nhttps://github.com/benfrain/ecss-postcss-shell/blob/master/.stylelintrc\n\n※社内では[ECSS](http://ecss.io/)の設計思想をベースにコーディングしています\n\n---\n\n`@geekcojp/stylelint-config` は絶賛パブリックなので内容に意義があればプルリクバンバン投げてくれ！\n\nhttps://github.com/geekcojp/config/tree/master/packages/stylelint-config\n\n**TODO**\n\n- [ ] CHANGE.LOGを書く（どのバージョンで何のルールが追加されたか等）\n\n---\n\nLintはあくまでも「警告」をするものなので、無視したり気づかなかったりする場合、コードが悪いまま通ってしまう。\n\n=> 警告があるものは絶対にコミットなどを通さないような仕組みも必要。\n\n---\n\n# husky 🐶\n\n---\n\n```json:package.json\n "scripts": {\n   "test": "stylelint",\n },\n "husky": {\n   "hooks": {\n     "pre-commit": "yarn test"\n   }\n }\n```\n\nhttps://github.com/typicode/husky\n\nコミットした時に`test` が作動し（stylelintが動く）、Lint警告文を出してくれる（無かったらコミットが通る）\n\n---\n\n# どう動かすのか分からんし時間がない…\n\n---\n\n# 試せる下地を作ったよ！\n\n---\n\n# https://github.com/geekcojp/stylelint-boilerplate\n\n---\n\n使うのはこのコマンドだけ！\n\n```zsh:zsh\n# リポジトリclone\ngit clone https://github.com/geekcojp/stylelint-boilerplate.git\n\n# 依存パッケージをインストール\nyarn\n\n# developモード(gulpを動かす)\nyarn dev\n# or gulp\n\n# stylelint単体動かす\nyarn lint-styles\n```\n\n---\n\n# 雑感\n\n- 何事も見るよりやって慣れろ\n- 問題のある箇所のみチェックしながら書けるのは良い\n- `!important` は悪しき存在\n    - これまでの書き方を見直すよいきっかけにもなる。\n- 記述スピードは多少上がった気がする\n- ガイドラインはもう必要なさそう？\n    - config自体がガイドラインになる\n\n---\n\n# Lintやっていきましょう:muscle:\n',coediting:a,comments_count:0,created_at:"2018-01-29T23:55:09+09:00",group:n,id:"73ffecc8955b1fcbdcc7",likes_count:7,private:a,reactions_count:0,tags:[{name:"勉強会",versions:[]},{name:"stylelint",versions:[]},{name:"lint",versions:[]}],title:ia,updated_at:"2018-12-17T18:59:43+09:00",url:ra,user:{description:z,facebook_id:s,followees_count:5,followers_count:j,github_login_name:s,id:s,items_count:C,linkedin_id:s,location:x,name:k,organization:E,permanent_id:F,profile_image_url:A,team_only:a,twitter_screen_name:s,website_url:w},page_views_count:n},{rendered_body:'<p>前回 =&gt; <a href="https://qiita.com/yamanoku/items/41df5c05c5c89714ea3c" class="autolink" id="reference-c4a4c1abcbe4504551e5">https://qiita.com/yamanoku/items/41df5c05c5c89714ea3c</a></p>\n\n<p>特にきっかけはないのですが、表題のまんまのことやりましたので記録です。</p>\n\n<h1>\n<span id="以前の環境について" class="fragment"></span><a href="#%E4%BB%A5%E5%89%8D%E3%81%AE%E7%92%B0%E5%A2%83%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6"><i class="fa fa-link"></i></a>以前の環境について</h1>\n\n<ul>\n<li>Vue v1.0.0</li>\n<li>vue-cli v2.5.0 （おそらく）</li>\n<li>vue-router v0.7.13</li>\n</ul>\n\n<p>で作ってました。<code>vue-router</code>がまずv2.0.0でもないというのが驚きですが、いかんせんVue.jsどころか諸々のスキルが低すぎたのもあったので、言われるがままなすがままにこの環境のままでつくりました。</p>\n\n<p>使用した<code>vue-cli</code>テンプレートは<code>webpack-simple</code>でした。</p>\n\n<p>一応動きます。<br>\n<a href="https://github.com/yamanoku/vue_portfolio_templete/tree/ver1.0.0" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/yamanoku/vue_portfolio_templete/tree/ver1.0.0</a></p>\n\n<h1>\n<span id="強制アプデして直そうとした" class="fragment"></span><a href="#%E5%BC%B7%E5%88%B6%E3%82%A2%E3%83%97%E3%83%87%E3%81%97%E3%81%A6%E7%9B%B4%E3%81%9D%E3%81%86%E3%81%A8%E3%81%97%E3%81%9F"><i class="fa fa-link"></i></a>強制アプデして直そうとした</h1>\n\n<p>まず以前の内容からブランチを切って<code>npm-check-updates</code>をかけ<code>package.json</code>周りを強制アップデートしてから、諸々インストールして、devを走らせましたが、早速<strong>webpackからぶっ壊れる</strong>。</p>\n\n<h2>\n<span id="webpack" class="fragment"></span><a href="#webpack"><i class="fa fa-link"></i></a>webpack</h2>\n\n<ul>\n<li>\n<code>resolveLoader</code>箇所の<code>root</code>を<code>modules</code>に変更</li>\n</ul>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">before</span></div>\n<div class="highlight"><pre>  <span class="nx">resolveLoader</span><span class="p">:</span> <span class="p">{</span>\n    <span class="nl">root</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">\'</span><span class="s1">node_modules</span><span class="dl">\'</span><span class="p">),</span>\n  <span class="p">},</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">after</span></div>\n<div class="highlight"><pre>  <span class="nx">resolveLoader</span><span class="p">:</span> <span class="p">{</span>\n    <span class="nl">modules</span><span class="p">:</span> <span class="p">[</span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">\'</span><span class="s1">src</span><span class="dl">\'</span><span class="p">),</span> <span class="dl">\'</span><span class="s1">node_modules</span><span class="dl">\'</span><span class="p">],</span>\n  <span class="p">},</span>\n</pre></div>\n</div>\n\n<ul>\n<li>\n<code>module</code>箇所のloader部分に<code>-loader</code>接尾語？が必要</li>\n</ul>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">before</span></div>\n<div class="highlight"><pre>  <span class="nx">module</span><span class="p">:</span> <span class="p">{</span>\n    <span class="nl">loaders</span><span class="p">:</span> <span class="p">[</span>\n      <span class="p">{</span>\n        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.</span><span class="sr">vue$/</span><span class="p">,</span>\n        <span class="na">loader</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">vue-loader</span><span class="dl">\'</span>\n      <span class="p">},</span>\n      <span class="p">{</span>\n        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.</span><span class="sr">js$/</span><span class="p">,</span>\n        <span class="na">loader</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">babel-loader</span><span class="dl">\'</span><span class="p">,</span>\n        <span class="na">exclude</span><span class="p">:</span> <span class="sr">/node_modules/</span>\n      <span class="p">},</span>\n      <span class="p">{</span>\n        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.</span><span class="sr">json$/</span><span class="p">,</span>\n        <span class="na">loader</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">json-loader</span><span class="dl">\'</span>\n      <span class="p">},</span>\n      <span class="p">{</span>\n        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.</span><span class="sr">html$/</span><span class="p">,</span>\n        <span class="na">loader</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">vue-html-loader</span><span class="dl">\'</span>\n      <span class="p">},</span>\n      <span class="p">{</span>\n        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.(</span><span class="sr">png|jpg|gif|svg</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>\n        <span class="na">loader</span><span class="p">:</span> <span class="dl">"</span><span class="s2">file-loader?name=[name].[ext]</span><span class="dl">"</span>\n      <span class="p">}</span>\n    <span class="p">]</span>\n  <span class="p">},</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">after</span></div>\n<div class="highlight"><pre>  <span class="nx">module</span><span class="p">:</span> <span class="p">{</span>\n    <span class="nl">loaders</span><span class="p">:</span> <span class="p">[</span>\n      <span class="p">{</span>\n        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.</span><span class="sr">vue$/</span><span class="p">,</span>\n        <span class="na">loader</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">vue</span><span class="dl">\'</span>\n      <span class="p">},</span>\n      <span class="p">{</span>\n        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.</span><span class="sr">js$/</span><span class="p">,</span>\n        <span class="na">loader</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">babel</span><span class="dl">\'</span><span class="p">,</span>\n        <span class="na">exclude</span><span class="p">:</span> <span class="sr">/node_modules/</span>\n      <span class="p">},</span>\n      <span class="p">{</span>\n        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.</span><span class="sr">json$/</span><span class="p">,</span>\n        <span class="na">loader</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">json</span><span class="dl">\'</span>\n      <span class="p">},</span>\n      <span class="p">{</span>\n        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.</span><span class="sr">html$/</span><span class="p">,</span>\n        <span class="na">loader</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">vue-html</span><span class="dl">\'</span>\n      <span class="p">},</span>\n      <span class="p">{</span>\n        <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\\.(</span><span class="sr">png|jpg|gif|svg</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>\n        <span class="na">loader</span><span class="p">:</span> <span class="dl">"</span><span class="s2">file?name=[name].[ext]</span><span class="dl">"</span>\n      <span class="p">}</span>\n    <span class="p">]</span>\n  <span class="p">},</span>\n</pre></div>\n</div>\n\n<ul>\n<li>\n<code>webpack.optimize.OccurenceOrderPlugin()</code> =&gt; <code>webpack.optimize.OccurrenceOrderPlugin()</code>\n\n<ul>\n<li>一番ひどい</li>\n</ul>\n</li>\n</ul>\n\n<p>１つ１つ調べながら対応していたのもあってなかなか<code>build</code>や<code>dev</code>が通らず苦労しました。</p>\n\n<p>webpackのほうを修正してnpm-scripts周りが動作するようになったので動かし始めたのですが、お次は<strong>Vue1.x =&gt; Vue2.0.0</strong>へのアプデ修正周りです。</p>\n\n<h2>\n<span id="vuejs" class="fragment"></span><a href="#vuejs"><i class="fa fa-link"></i></a>Vue.js</h2>\n\n<p><strong>vue-migration-helper</strong><br>\n<a href="https://github.com/vuejs/vue-migration-helper" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/vuejs/vue-migration-helper</a></p>\n\n<p>世の中にはマイグレーションヘルパーツールなる優れたものがあるのでこちらを使用しました（変更した部分に関しては後述）。<br>\nターミナルで吐かれたエラーを１つずつ治し、ようやく0になってコンソールもエラーなくなったのですが、肝心のvue-router部分が動かず、ここで立ち往生しました。</p>\n\n<p>１つ１つ見直していけば問題判明できそうというのもありましたが、個人のプロダクトで特に機能も複雑化していないものだったので、1つずつ手直しするよりも<strong>vue-cliで１から作り直してやろう</strong>という気持ちが勝ったのでやり直しました。</p>\n\n<p>ちなみにですが立ち往生した作業途中もブランチ切って上げてます。どんなのか気になる人は参考までに見てみてください。<br>\n<a href="https://github.com/yamanoku/vue_portfolio_templete/tree/fail/updates" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/yamanoku/vue_portfolio_templete/tree/fail/updates</a></p>\n\n<h1>\n<span id="vue-cliから作り直し" class="fragment"></span><a href="#vue-cli%E3%81%8B%E3%82%89%E4%BD%9C%E3%82%8A%E7%9B%B4%E3%81%97"><i class="fa fa-link"></i></a>vue-cliから作り直し</h1>\n\n<p>グローバルにある<code>vue-cli</code>をアップデートして、前回は<code>webpack-simple</code>テンプレートだったので今回は<code>webpack</code>を選択しました。余談ですがいつの間にか<code>pwa</code>なるものも追加されていたのですね。</p>\n\n<p>さっそく<code>assets</code>内に必要ファイルを格納しました。以下変更部分</p>\n\n<ul>\n<li>\n<code>src</code>内各コンポーネント =&gt; <code>assets/components</code>\n</li>\n<li>画像各種\n\n<ul>\n<li>ソース内で使うもの =&gt; <code>assets/img</code>\n</li>\n<li>json内で使用する部分 =&gt; <code>static</code>\n</li>\n</ul>\n</li>\n<li>jsonファイル\n\n<ul>\n<li>\n<code>src/data/list.json</code> =&gt; <code>assets/data/list.json</code>\n</li>\n</ul>\n</li>\n</ul>\n\n<p><code>App.vue</code>と <code>main.js</code>は既存のままですが、router部分の記述は<code>src/router/index.js</code>に移動しました。</p>\n\n<h1>\n<span id="vuejs変更箇所" class="fragment"></span><a href="#vuejs%E5%A4%89%E6%9B%B4%E7%AE%87%E6%89%80"><i class="fa fa-link"></i></a>Vue.js変更箇所</h1>\n\n<h2>\n<span id="v-forで回した時にkey指定" class="fragment"></span><a href="#v-for%E3%81%A7%E5%9B%9E%E3%81%97%E3%81%9F%E6%99%82%E3%81%ABkey%E6%8C%87%E5%AE%9A"><i class="fa fa-link"></i></a><code>v-for</code>で回した時に<code>:key</code>指定</h2>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">before</span></div>\n<div class="highlight"><pre><span class="nt">&lt;template</span> <span class="na">v-for=</span><span class="s">"list in lists"</span><span class="nt">&gt;</span>\n  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"detail"</span> <span class="na">v-if=</span><span class="s">"$route.path === \'/work/\' + list.id + \'/detail\'"</span> <span class="na">:style=</span><span class="s">"{ backgroundImage: \'url(\'+ list.image +\')\' }"</span><span class="nt">&gt;</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">after</span></div>\n<div class="highlight"><pre><span class="nt">&lt;template</span> <span class="na">v-for=</span><span class="s">"list in lists"</span><span class="nt">&gt;</span>\n  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"detail"</span> <span class="na">v-if=</span><span class="s">"$route.path === \'/work/\' + list.id + \'/detail\'"</span> <span class="na">:style=</span><span class="s">"{ backgroundImage: \'url(\'+ list.image +\')\' }"</span> <span class="na">:key=</span><span class="s">"list.id"</span><span class="nt">&gt;</span>\n</pre></div>\n</div>\n\n<blockquote>\n<p>2.2.0 以降で、コンポーネントで v-for を使用するとき、key は必須です</p>\n</blockquote>\n\n<p><a href="https://jp.vuejs.org/v2/guide/list.html#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%A8-v-for" class="autolink" rel="nofollow noopener" target="_blank">https://jp.vuejs.org/v2/guide/list.html#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%A8-v-for</a></p>\n\n<h2>\n<span id="v-forで作成したエイリアス値の属性値での設定" class="fragment"></span><a href="#v-for%E3%81%A7%E4%BD%9C%E6%88%90%E3%81%97%E3%81%9F%E3%82%A8%E3%82%A4%E3%83%AA%E3%82%A2%E3%82%B9%E5%80%A4%E3%81%AE%E5%B1%9E%E6%80%A7%E5%80%A4%E3%81%A7%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a><code>v-for</code>で作成したエイリアス値の属性値での設定</h2>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">before</span></div>\n<div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{list.url}}"</span> <span class="na">target=</span><span class="s">"_blank"</span><span class="nt">&gt;</span>{{list.url}}<span class="nt">&lt;/a&gt;</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">after</span></div>\n<div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">:href=</span><span class="s">"list.url"</span> <span class="na">target=</span><span class="s">"_blank"</span><span class="nt">&gt;</span>{{list.url}}<span class="nt">&lt;/a&gt;</span>\n</pre></div>\n</div>\n\n<p><code>{{ xxx }}</code>指定が不要になる。</p>\n\n<h2>\n<span id="thiseval-廃止" class="fragment"></span><a href="#thiseval-%E5%BB%83%E6%AD%A2"><i class="fa fa-link"></i></a><code>this.$eval</code> 廃止</h2>\n\n<p>以下記事参考にしました。ありがとうございます。<br>\n<a href="https://qiita.com/tmiame/items/34823b22cd3829321120#eval" class="autolink" id="reference-19408f35a7eeb6e17b11">https://qiita.com/tmiame/items/34823b22cd3829321120#eval</a><br>\n以前のはjsonの画像URL部分も一緒に引っかかるのをどうにかしたかったんですがこれで解決しました。</p>\n\n<h2>\n<span id="vue-router-設定時" class="fragment"></span><a href="#vue-router-%E8%A8%AD%E5%AE%9A%E6%99%82"><i class="fa fa-link"></i></a><code>vue-router</code> 設定時</h2>\n\n<h3>\n<span id="routerstart" class="fragment"></span><a href="#routerstart"><i class="fa fa-link"></i></a><code>router.start</code>\n</h3>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">before</span></div>\n<div class="highlight"><pre><span class="nx">router</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="nx">App</span><span class="p">,</span> <span class="dl">\'</span><span class="s1">#app</span><span class="dl">\'</span><span class="p">);</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">after</span></div>\n<div class="highlight"><pre><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>\n  <span class="na">el</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">#app</span><span class="dl">\'</span><span class="p">,</span>\n  <span class="nx">router</span><span class="p">,</span>\n  <span class="na">components</span><span class="p">:</span> <span class="p">{</span> <span class="nx">App</span> <span class="p">},</span>\n  <span class="na">template</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">&lt;App/&gt;</span><span class="dl">\'</span><span class="p">,</span>\n<span class="p">})</span>\n</pre></div>\n</div>\n\n<p>Vueインスタンスに<code>router</code>プロパティを渡す。</p>\n\n<p><a href="https://jp.vuejs.org/v2/guide/migration-vue-router.html#router-start-%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88" class="autolink" rel="nofollow noopener" target="_blank">https://jp.vuejs.org/v2/guide/migration-vue-router.html#router-start-%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88</a></p>\n\n<h3>\n<span id="routermap" class="fragment"></span><a href="#routermap"><i class="fa fa-link"></i></a><code>router.map</code>\n</h3>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">before</span></div>\n<div class="highlight"><pre><span class="nx">router</span><span class="p">.</span><span class="nx">map</span><span class="p">({</span>\n  <span class="dl">\'</span><span class="s1">/home</span><span class="dl">\'</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">component</span><span class="p">:</span> <span class="nx">Main</span>\n  <span class="p">},</span>\n  <span class="dl">\'</span><span class="s1">/work/:number/detail</span><span class="dl">\'</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">component</span><span class="p">:</span> <span class="nx">Detail</span>\n  <span class="p">},</span>\n  <span class="dl">\'</span><span class="s1">/profile</span><span class="dl">\'</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">component</span><span class="p">:</span> <span class="nx">Profile</span>\n  <span class="p">},</span>\n  <span class="dl">\'</span><span class="s1">*</span><span class="dl">\'</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">component</span><span class="p">:</span> <span class="nx">NotFound</span>\n  <span class="p">}</span>\n<span class="p">})</span>\n<span class="nx">router</span><span class="p">.</span><span class="nx">redirect</span><span class="p">({</span>\n  <span class="dl">\'</span><span class="s1">/</span><span class="dl">\'</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">/home</span><span class="dl">\'</span>\n<span class="p">})</span>\n\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">after</span></div>\n<div class="highlight"><pre><span class="k">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">Router</span><span class="p">({</span>\n  <span class="na">routes</span><span class="p">:</span> <span class="p">[</span>\n    <span class="p">{</span>\n      <span class="na">path</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">/</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="na">redirect</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">/home</span><span class="dl">\'</span>\n    <span class="p">},</span>\n    <span class="p">{</span>\n      <span class="na">path</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">/home</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="na">name</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">Main</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="na">component</span><span class="p">:</span> <span class="nx">Main</span>\n    <span class="p">},</span>\n    <span class="p">{</span>\n      <span class="na">path</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">/work/:number/detail</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="na">name</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">Works</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="na">component</span><span class="p">:</span> <span class="nx">Detail</span><span class="p">,</span>\n    <span class="p">},</span>\n    <span class="p">{</span>\n      <span class="na">path</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">/profile</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="na">name</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">Profile</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="na">component</span><span class="p">:</span> <span class="nx">Profile</span>\n    <span class="p">},</span>\n    <span class="p">{</span>\n      <span class="na">path</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">*</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="na">name</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">NotFound</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="na">component</span><span class="p">:</span> <span class="nx">NotFound</span>\n    <span class="p">}</span>\n  <span class="p">]</span>\n<span class="p">})</span>\n</pre></div>\n</div>\n\n<p>redirect部分も一緒に配列に追加。</p>\n\n<p><a href="https://jp.vuejs.org/v2/guide/migration-vue-router.html#router-map-%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88" class="autolink" rel="nofollow noopener" target="_blank">https://jp.vuejs.org/v2/guide/migration-vue-router.html#router-map-%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88</a></p>\n\n<h3>\n<span id="hashbang-機能" class="fragment"></span><a href="#hashbang-%E6%A9%9F%E8%83%BD"><i class="fa fa-link"></i></a><code>hashbang</code> 機能</h3>\n\n<p>不要となりましたのでこちらは削除。</p>\n\n<h2>\n<span id="vue-router-コンポーネント使用時" class="fragment"></span><a href="#vue-router-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E4%BD%BF%E7%94%A8%E6%99%82"><i class="fa fa-link"></i></a>vue-router コンポーネント使用時</h2>\n\n<h3>\n<span id="v-link-廃止" class="fragment"></span><a href="#v-link-%E5%BB%83%E6%AD%A2"><i class="fa fa-link"></i></a><code>v-link</code> 廃止</h3>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">before</span></div>\n<div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"detail_btn"</span> <span class="na">v-link=</span><span class="s">"{ path: \'/home\' }"</span><span class="nt">&gt;</span>Back Home<span class="nt">&lt;/a&gt;</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">after</span></div>\n<div class="highlight"><pre><span class="nt">&lt;router-link</span> <span class="na">class=</span><span class="s">"detail_btn"</span> <span class="na">to=</span><span class="s">"/home"</span><span class="nt">&gt;</span>Back Home<span class="nt">&lt;/router-link&gt;</span>\n</pre></div>\n</div>\n\n<p>path指定での記述ではなくなりました。</p>\n\n<h3>\n<span id="名前付きルート指定" class="fragment"></span><a href="#%E5%90%8D%E5%89%8D%E4%BB%98%E3%81%8D%E3%83%AB%E3%83%BC%E3%83%88%E6%8C%87%E5%AE%9A"><i class="fa fa-link"></i></a>名前付きルート指定</h3>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">before</span></div>\n<div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">v-link=</span><span class="s">"\'/work/\' + list.id + \'/detail\'"</span> <span class="na">class=</span><span class="s">"filetype"</span><span class="nt">&gt;</span>[{{ list.type }}]<span class="nt">&lt;/a&gt;</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">after</span></div>\n<div class="highlight"><pre><span class="nt">&lt;router-link</span> <span class="na">:to=</span><span class="s">"{ name: \'Works\', params: { number: list.id }}"</span> <span class="na">class=</span><span class="s">"filetype"</span><span class="nt">&gt;</span>[{{ list.type }}]<span class="nt">&lt;/router-link&gt;</span>\n</pre></div>\n</div>\n\n<p><code>router.map</code>設定時に<code>name</code>を指定しておくと、ここでルートを特定できて非常に楽になりました。<br>\n上記設定でたとえば <code>href="work/001/detail"</code> を書き出してくれます。</p>\n\n<p><a href="https://router.vuejs.org/ja/essentials/named-routes.html" class="autolink" rel="nofollow noopener" target="_blank">https://router.vuejs.org/ja/essentials/named-routes.html</a></p>\n\n<h3>\n<span id="transition-指定" class="fragment"></span><a href="#transition-%E6%8C%87%E5%AE%9A"><i class="fa fa-link"></i></a><code>transition</code> 指定</h3>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">before</span></div>\n<div class="highlight"><pre><span class="nt">&lt;article</span> <span class="na">transition=</span><span class="s">"fade"</span><span class="nt">&gt;</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">after</span></div>\n<div class="highlight"><pre><span class="nt">&lt;transition</span> <span class="na">name=</span><span class="s">"fade"</span><span class="nt">&gt;</span>\n</pre></div>\n</div>\n\n<p>どこかのタグに対して<code>transition</code>属性として付与するのではなく、<code>&lt;transition&gt;</code>タグで独立。</p>\n\n<p>いままで各コンポーネントごとでかけてましたが一括化するために<code>App.vue</code>にのみに変更・設定しておきました。</p>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">App</span></div>\n<div class="highlight"><pre><span class="nt">&lt;template&gt;</span>\n  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>\n      <span class="nt">&lt;transition</span> <span class="na">name=</span><span class="s">"fade"</span><span class="nt">&gt;</span>\n        <span class="nt">&lt;router-view</span> <span class="nt">/&gt;</span>\n      <span class="nt">&lt;/transition&gt;</span>\n  <span class="nt">&lt;/div&gt;</span>\n<span class="nt">&lt;/template&gt;</span>\n</pre></div>\n</div>\n\n<h3>\n<span id="v-transition-廃止" class="fragment"></span><a href="#v-transition-%E5%BB%83%E6%AD%A2"><i class="fa fa-link"></i></a><code>.v-transition</code> 廃止</h3>\n\n<p><code>.v-enter-active</code>や<code>.v-leave-active</code>に変更。</p>\n\n<h1>\n<span id="ほか修正したこととか" class="fragment"></span><a href="#%E3%81%BB%E3%81%8B%E4%BF%AE%E6%AD%A3%E3%81%97%E3%81%9F%E3%81%93%E3%81%A8%E3%81%A8%E3%81%8B"><i class="fa fa-link"></i></a>ほか修正したこととか</h1>\n\n<p>アプデに伴い、webpackやVue.jsと関係なく修正した部分について</p>\n\n<h2>\n<span id="flex-box--grid-layout" class="fragment"></span><a href="#flex-box--grid-layout"><i class="fa fa-link"></i></a><code>flex-box</code> =&gt; <code>grid layout</code>\n</h2>\n\n<div class="code-frame" data-lang="css">\n<div class="code-lang"><span class="bold">before</span></div>\n<div class="highlight"><pre><span class="nc">.container</span> <span class="p">{</span>\n  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>\n  <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>\n  <span class="nl">justify-content</span><span class="p">:</span> <span class="n">space-between</span><span class="p">;</span>\n  <span class="nl">width</span><span class="p">:</span> <span class="m">95%</span><span class="p">;</span>\n  <span class="nl">margin</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nc">.container</span><span class="nd">::before</span> <span class="p">{</span>\n  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>\n  <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>\n  <span class="nl">order</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>\n  <span class="nl">width</span><span class="p">:</span> <span class="m">22.75%</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nc">.container</span><span class="nd">::after</span> <span class="p">{</span>\n  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>\n  <span class="nl">content</span><span class="p">:</span> <span class="s1">""</span><span class="p">;</span>\n  <span class="nl">width</span><span class="p">:</span> <span class="m">22.75%</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nc">.card</span> <span class="p">{</span>\n  <span class="nl">width</span><span class="p">:</span> <span class="m">22.75%</span><span class="p">;</span>\n  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">2.5%</span><span class="p">;</span>\n  <span class="nl">background</span><span class="p">:</span> <span class="m">#456a8e</span><span class="p">;</span>\n  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">3px</span><span class="p">;</span>\n  <span class="nl">box-shadow</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">3px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">100</span><span class="p">,</span> <span class="m">100</span><span class="p">,</span> <span class="m">100</span><span class="p">,</span> <span class="m">0.25</span><span class="p">);</span>\n  <span class="nl">transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">.25s</span> <span class="n">ease-in-out</span><span class="p">;</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="css">\n<div class="code-lang"><span class="bold">after</span></div>\n<div class="highlight"><pre><span class="nc">.container</span> <span class="p">{</span>\n  <span class="nl">width</span><span class="p">:</span> <span class="m">95%</span><span class="p">;</span>\n  <span class="nl">margin</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>\n  <span class="nl">display</span><span class="p">:</span> <span class="n">grid</span><span class="p">;</span>\n  <span class="py">grid-template-columns</span><span class="p">:</span> <span class="nb">repeat</span><span class="p">(</span><span class="m">4</span><span class="p">,</span> <span class="m">1</span><span class="n">fr</span><span class="p">);</span>\n  <span class="py">grid-column-gap</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>\n  <span class="py">grid-row-gap</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>\n  <span class="nl">padding-bottom</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nc">.card</span> <span class="p">{</span>\n  <span class="nl">background</span><span class="p">:</span> <span class="m">#456a8e</span><span class="p">;</span>\n  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">3px</span><span class="p">;</span>\n  <span class="nl">transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">.25s</span> <span class="n">ease-in-out</span><span class="p">;</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<p>IE11は<code>.card</code>が<code>width:100%</code>になるが、コード量的には減ってすっきり。<br>\nただ、<code>grid-row-gap</code>が%指定しても空きができなかった。<code>grid-column-gap</code>はできたけど両方に指定はできないか？</p>\n\n<h2>\n<span id="transition効果" class="fragment"></span><a href="#transition%E5%8A%B9%E6%9E%9C"><i class="fa fa-link"></i></a><code>transition</code>効果</h2>\n\n<p><a href="https://gyazo.com/df45ce6f156ec940727777b982b6bbc7" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fdf45ce6f156ec940727777b982b6bbc7%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=e8ac57e7159bab034c3d597db1a868b1" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/df45ce6f156ec940727777b982b6bbc7/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fdf45ce6f156ec940727777b982b6bbc7%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=c32b09cd2ebc328d242354278bbbe02e 1x" loading="lazy"></a></p>\n\n<p>下から上に切り替わるような効果にしていたが、もうちょっとスムーズになるように調整したのと、タブレット〜スマホサイズ時は左から右に切り替わるようにした。</p>\n\n<p><a href="https://gyazo.com/edd54a09798aee161ecd8895f95b6de5" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fedd54a09798aee161ecd8895f95b6de5%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=fd381440ead31df6bc71f1e209851a60" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/edd54a09798aee161ecd8895f95b6de5/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fedd54a09798aee161ecd8895f95b6de5%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=9d2c7a4e05bf9c22c68823ef5714c437 1x" loading="lazy"></a></p>\n\n<div class="code-frame" data-lang="css"><div class="highlight"><pre><span class="nc">.fade-enter-active</span> <span class="p">{</span>\n  <span class="nl">transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">.75s</span> <span class="n">ease</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nc">.fade-leave-active</span> <span class="p">{</span>\n  <span class="nl">transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">.75s</span> <span class="n">cubic-bezier</span><span class="p">(</span><span class="m">1.0</span><span class="p">,</span> <span class="m">0.5</span><span class="p">,</span> <span class="m">0.8</span><span class="p">,</span> <span class="m">1.0</span><span class="p">);</span>\n<span class="p">}</span>\n<span class="k">@media</span> <span class="n">screen</span> <span class="n">and</span> <span class="p">(</span><span class="n">min-width</span><span class="p">:</span> <span class="m">769px</span><span class="p">)</span> <span class="p">{</span>\n  <span class="nc">.fade-enter</span><span class="o">,</span> <span class="nc">.fade-leave-to</span> <span class="p">{</span>\n    <span class="nl">transform</span><span class="p">:</span> <span class="n">translateY</span><span class="p">(</span><span class="m">100vh</span><span class="p">);</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n<span class="k">@media</span> <span class="n">screen</span> <span class="n">and</span> <span class="p">(</span><span class="n">max-width</span><span class="p">:</span> <span class="m">768px</span><span class="p">)</span> <span class="p">{</span>\n  <span class="nc">.fade-enter</span><span class="o">,</span> <span class="nc">.fade-leave-to</span> <span class="p">{</span>\n    <span class="nl">transform</span><span class="p">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">-250vw</span><span class="p">);</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n</pre></div></div>\n\n<p>あと<code>height: 100%</code>でのSPAになってるのでページ下部までいって詳細ページに遷移する時にガクッとなる動きがあり違和感があったため、routerの<code>scrollBehavior</code>を使って詳細ページ時はページトップへ遷移（<code>setTimeout</code>でtransition部分の時間と調整）して、それ以外はページ位置を保持しておくという設定もつけておきました。</p>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">router</span></div>\n<div class="highlight"><pre>  <span class="nx">routes</span><span class="p">:</span> <span class="p">[</span>\n    <span class="p">...</span>\n    <span class="p">{</span>\n      <span class="nl">path</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">/work/:number/detail</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="nx">name</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">Works</span><span class="dl">\'</span><span class="p">,</span>\n      <span class="nx">component</span><span class="p">:</span> <span class="nx">Detail</span><span class="p">,</span>\n      <span class="nx">meta</span><span class="p">:</span> <span class="p">{</span> <span class="nl">scrollToTop</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}</span>\n    <span class="p">},</span>\n    <span class="p">...</span>\n  <span class="p">],</span>\n  <span class="nx">scrollBehavior</span> <span class="p">(</span><span class="nx">to</span><span class="p">,</span> <span class="k">from</span><span class="p">,</span> <span class="nx">savedPosition</span><span class="p">)</span> <span class="p">{</span>\n    <span class="k">if</span> <span class="p">(</span><span class="nx">savedPosition</span><span class="p">)</span> <span class="p">{</span>\n      <span class="k">return</span> <span class="nx">savedPosition</span>\n    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>\n      <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="p">{</span>\n        <span class="k">if</span> <span class="p">(</span><span class="nx">to</span><span class="p">.</span><span class="nx">matched</span><span class="p">.</span><span class="nx">some</span><span class="p">(</span><span class="nx">m</span> <span class="o">=&gt;</span> <span class="nx">m</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">scrollToTop</span><span class="p">))</span> <span class="p">{</span>\n          <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>\n            <span class="nx">resolve</span><span class="p">({</span> <span class="na">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">0</span> <span class="p">})</span>\n          <span class="p">},</span> <span class="mi">750</span><span class="p">)</span>\n        <span class="p">}</span>\n      <span class="p">})</span>\n    <span class="p">}</span>\n  <span class="p">}</span>\n</pre></div>\n</div>\n\n<p>まだ精度としては微妙なのでスタイル部分も合わせて見直す必要ありそうだけど、まぁいいかとなってます。</p>\n\n<h1>\n<span id="todo" class="fragment"></span><a href="#todo"><i class="fa fa-link"></i></a>ToDo</h1>\n\n<ul>\n<li class="task-list-item">\n<input type="checkbox" class="task-list-item-checkbox" disabled><code>vue-head</code>入れてmeta情報周り整える</li>\n<li class="task-list-item">\n<input type="checkbox" class="task-list-item-checkbox" disabled>左メニュー一覧のレイアウト作成</li>\n<li class="task-list-item">\n<input type="checkbox" class="task-list-item-checkbox" disabled>テンプレートから作成したが、これを個人単位でメンテできる構成にできるか。</li>\n<li class="task-list-item">\n<input type="checkbox" class="task-list-item-checkbox" disabled>pwa化できるか。これはおそらくNuxt.jsでやったほうがよさそう</li>\n</ul>\n\n<h1>\n<span id="雑感" class="fragment"></span><a href="#%E9%9B%91%E6%84%9F"><i class="fa fa-link"></i></a>雑感</h1>\n\n<ul>\n<li>CLIツールとは便利なものであり、<code>vue-cli</code>は未だに初学者に優しいテンプレート作成ツールである。</li>\n<li>ただ、どんな便利なCLIツールにしろアップデートされた機能・廃止された機能ほかも合わせて調整、最悪マイグレーションヘルパーみたいなのがあればいいが、そういうのはない。</li>\n<li>たぶんCLIツールを使い運用していくにはバージョンアップの都度、テンプレートも更新できているか、きちんと保守できるかどうかなど徹底的に付き合う必要はある。\n\n<ul>\n<li>\n<code>vue-cli</code>3.0以降でこの辺の煩雑な機能などを見直す予定とのこと（下部関連リンク参考）</li>\n</ul>\n</li>\n<li>今回のは大した機能もなく１からやり直せる範囲だったのでどうでもよかったが、規模が大きかったり機能が煩雑だったりするとこれの比ではない苦労や地獄が待っている可能性がある。</li>\n<li>なので個人的な１発ネタや突発性のある簡易的なツール、練習やどういう構成で動かすかの勉強としては自由に使っても良い。</li>\n<li>ただ自分できちんと動かしたり保守できたりするにはそれらに頼らない環境構築をしなければならない（上記ToDo３件目で言及済み）。\n\n<ul>\n<li>CLIツールがどういうものかを理解すればいいけど現状の自分にはそこまで読み解く力はない。</li>\n<li>これは<code>vue-cli</code>、Vue.jsに限らず、あらゆる点で大切なことだと思う。</li>\n<li>\n<em>You know, I learned something today.</em> （サウスパーク並の感想）</li>\n</ul>\n</li>\n</ul>\n\n<h1>\n<span id="関連リンク" class="fragment"></span><a href="#%E9%96%A2%E9%80%A3%E3%83%AA%E3%83%B3%E3%82%AF"><i class="fa fa-link"></i></a>関連リンク</h1>\n\n<p><strong>Future of Vue.js (vue-cliについて)</strong><br>\n<a href="https://speakerdeck.com/player/7d437d38c31b46318998d120b2d9c929?slide=60" class="autolink" rel="nofollow noopener" target="_blank">https://speakerdeck.com/player/7d437d38c31b46318998d120b2d9c929?slide=60</a><br>\n<strong>vue-router 日本語ドキュメント</strong><br>\n<a href="https://router.vuejs.org/ja/" class="autolink" rel="nofollow noopener" target="_blank">https://router.vuejs.org/ja/</a></p>\n',body:"前回 => https://qiita.com/yamanoku/items/41df5c05c5c89714ea3c\n\n特にきっかけはないのですが、表題のまんまのことやりましたので記録です。\n\n# 以前の環境について\n\n- Vue v1.0.0\n- vue-cli v2.5.0 （おそらく）\n- vue-router v0.7.13\n\nで作ってました。`vue-router`がまずv2.0.0でもないというのが驚きですが、いかんせんVue.jsどころか諸々のスキルが低すぎたのもあったので、言われるがままなすがままにこの環境のままでつくりました。\n\n使用した`vue-cli`テンプレートは`webpack-simple`でした。\n\n一応動きます。\nhttps://github.com/yamanoku/vue_portfolio_templete/tree/ver1.0.0\n\n# 強制アプデして直そうとした\n\nまず以前の内容からブランチを切って`npm-check-updates`をかけ`package.json`周りを強制アップデートしてから、諸々インストールして、devを走らせましたが、早速**webpackからぶっ壊れる**。\n\n## webpack\n\n- `resolveLoader`箇所の`root`を`modules`に変更\n\n```javascript:before\n  resolveLoader: {\n    root: path.join(__dirname, 'node_modules'),\n  },\n```\n\n```javascript:after\n  resolveLoader: {\n    modules: [path.join(__dirname, 'src'), 'node_modules'],\n  },\n```\n\n- `module`箇所のloader部分に`-loader`接尾語？が必要\n\n```javascript:before\n  module: {\n    loaders: [\n      {\n        test: /\\.vue$/,\n        loader: 'vue-loader'\n      },\n      {\n        test: /\\.js$/,\n        loader: 'babel-loader',\n        exclude: /node_modules/\n      },\n      {\n        test: /\\.json$/,\n        loader: 'json-loader'\n      },\n      {\n        test: /\\.html$/,\n        loader: 'vue-html-loader'\n      },\n      {\n        test: /\\.(png|jpg|gif|svg)$/,\n        loader: \"file-loader?name=[name].[ext]\"\n      }\n    ]\n  },\n```\n\n```javascript:after\n  module: {\n    loaders: [\n      {\n        test: /\\.vue$/,\n        loader: 'vue'\n      },\n      {\n        test: /\\.js$/,\n        loader: 'babel',\n        exclude: /node_modules/\n      },\n      {\n        test: /\\.json$/,\n        loader: 'json'\n      },\n      {\n        test: /\\.html$/,\n        loader: 'vue-html'\n      },\n      {\n        test: /\\.(png|jpg|gif|svg)$/,\n        loader: \"file?name=[name].[ext]\"\n      }\n    ]\n  },\n```\n\n\n- `webpack.optimize.OccurenceOrderPlugin()` => `webpack.optimize.OccurrenceOrderPlugin()`\n    - 一番ひどい\n\n１つ１つ調べながら対応していたのもあってなかなか`build`や`dev`が通らず苦労しました。\n\nwebpackのほうを修正してnpm-scripts周りが動作するようになったので動かし始めたのですが、お次は**Vue1.x => Vue2.0.0**へのアプデ修正周りです。\n\n## Vue.js\n\n**vue-migration-helper**\nhttps://github.com/vuejs/vue-migration-helper\n\n世の中にはマイグレーションヘルパーツールなる優れたものがあるのでこちらを使用しました（変更した部分に関しては後述）。\nターミナルで吐かれたエラーを１つずつ治し、ようやく0になってコンソールもエラーなくなったのですが、肝心のvue-router部分が動かず、ここで立ち往生しました。\n\n１つ１つ見直していけば問題判明できそうというのもありましたが、個人のプロダクトで特に機能も複雑化していないものだったので、1つずつ手直しするよりも**vue-cliで１から作り直してやろう**という気持ちが勝ったのでやり直しました。\n\nちなみにですが立ち往生した作業途中もブランチ切って上げてます。どんなのか気になる人は参考までに見てみてください。\nhttps://github.com/yamanoku/vue_portfolio_templete/tree/fail/updates\n\n# vue-cliから作り直し\n\nグローバルにある`vue-cli`をアップデートして、前回は`webpack-simple`テンプレートだったので今回は`webpack`を選択しました。余談ですがいつの間にか`pwa`なるものも追加されていたのですね。\n\nさっそく`assets`内に必要ファイルを格納しました。以下変更部分\n\n- `src`内各コンポーネント => `assets/components`\n- 画像各種\n    - ソース内で使うもの => `assets/img`\n    - json内で使用する部分 => `static`\n- jsonファイル\n    - `src/data/list.json` => `assets/data/list.json`\n\n`App.vue`と `main.js`は既存のままですが、router部分の記述は`src/router/index.js`に移動しました。\n\n# Vue.js変更箇所\n## `v-for`で回した時に`:key`指定\n```html:before\n<template v-for=\"list in lists\">\n  <div class=\"detail\" v-if=\"$route.path === '/work/' + list.id + '/detail'\" :style=\"{ backgroundImage: 'url('+ list.image +')' }\">\n```\n\n```html:after\n<template v-for=\"list in lists\">\n  <div class=\"detail\" v-if=\"$route.path === '/work/' + list.id + '/detail'\" :style=\"{ backgroundImage: 'url('+ list.image +')' }\" :key=\"list.id\">\n```\n\n> 2.2.0 以降で、コンポーネントで v-for を使用するとき、key は必須です\n\nhttps://jp.vuejs.org/v2/guide/list.html#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%A8-v-for\n\n## `v-for`で作成したエイリアス値の属性値での設定\n```html:before\n<a href=\"{{list.url}}\" target=\"_blank\">{{list.url}}</a>\n```\n\n```html:after\n<a :href=\"list.url\" target=\"_blank\">{{list.url}}</a>\n```\n\n`{{ xxx }}`指定が不要になる。\n\n\n## `this.$eval` 廃止\n以下記事参考にしました。ありがとうございます。\nhttps://qiita.com/tmiame/items/34823b22cd3829321120#eval\n以前のはjsonの画像URL部分も一緒に引っかかるのをどうにかしたかったんですがこれで解決しました。\n\n## `vue-router` 設定時\n### `router.start`\n```javascript:before\nrouter.start(App, '#app');\n```\n\n```javascript:after\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n})\n```\nVueインスタンスに`router`プロパティを渡す。\n\nhttps://jp.vuejs.org/v2/guide/migration-vue-router.html#router-start-%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88\n\n### `router.map`\n```javascript:before\nrouter.map({\n  '/home': {\n    component: Main\n  },\n  '/work/:number/detail': {\n    component: Detail\n  },\n  '/profile': {\n    component: Profile\n  },\n  '*': {\n    component: NotFound\n  }\n})\nrouter.redirect({\n  '/': '/home'\n})\n\n```\n\n```javascript:after\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/home'\n    },\n    {\n      path: '/home',\n      name: 'Main',\n      component: Main\n    },\n    {\n      path: '/work/:number/detail',\n      name: 'Works',\n      component: Detail,\n    },\n    {\n      path: '/profile',\n      name: 'Profile',\n      component: Profile\n    },\n    {\n      path: '*',\n      name: 'NotFound',\n      component: NotFound\n    }\n  ]\n})\n```\n\nredirect部分も一緒に配列に追加。\n\nhttps://jp.vuejs.org/v2/guide/migration-vue-router.html#router-map-%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88\n\n### `hashbang` 機能\n不要となりましたのでこちらは削除。\n\n## vue-router コンポーネント使用時\n### `v-link` 廃止\n```html:before\n<a class=\"detail_btn\" v-link=\"{ path: '/home' }\">Back Home</a>\n```\n\n```html:after\n<router-link class=\"detail_btn\" to=\"/home\">Back Home</router-link>\n```\n\npath指定での記述ではなくなりました。\n\n### 名前付きルート指定\n```html:before\n<a v-link=\"'/work/' + list.id + '/detail'\" class=\"filetype\">[{{ list.type }}]</a>\n```\n\n```html:after\n<router-link :to=\"{ name: 'Works', params: { number: list.id }}\" class=\"filetype\">[{{ list.type }}]</router-link>\n```\n\n`router.map`設定時に`name`を指定しておくと、ここでルートを特定できて非常に楽になりました。\n上記設定でたとえば `href=\"work/001/detail\"` を書き出してくれます。\n\nhttps://router.vuejs.org/ja/essentials/named-routes.html\n\n### `transition` 指定\n```html:before\n<article transition=\"fade\">\n```\n\n```html:after\n<transition name=\"fade\">\n```\n\nどこかのタグに対して`transition`属性として付与するのではなく、`<transition>`タグで独立。\n\nいままで各コンポーネントごとでかけてましたが一括化するために`App.vue`にのみに変更・設定しておきました。\n\n```html:App\n<template>\n  <div id=\"app\">\n      <transition name=\"fade\">\n        <router-view />\n      </transition>\n  </div>\n</template>\n```\n\n### `.v-transition` 廃止\n`.v-enter-active`や`.v-leave-active`に変更。\n\n# ほか修正したこととか\n\nアプデに伴い、webpackやVue.jsと関係なく修正した部分について\n\n## `flex-box` => `grid layout`\n```css:before\n.container {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  width: 95%;\n  margin: auto;\n}\n.container::before {\n  display: block;\n  content: \"\";\n  order: 1;\n  width: 22.75%;\n}\n.container::after {\n  display: block;\n  content: \"\";\n  width: 22.75%;\n}\n.card {\n  width: 22.75%;\n  margin-bottom: 2.5%;\n  background: #456a8e;\n  border-radius: 3px;\n  box-shadow: 0 1px 3px rgba(100, 100, 100, 0.25);\n  transition: all .25s ease-in-out;\n}\n```\n\n```css:after\n.container {\n  width: 95%;\n  margin: auto;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-column-gap: 20px;\n  grid-row-gap: 20px;\n  padding-bottom: 20px;\n}\n.card {\n  background: #456a8e;\n  border-radius: 3px;\n  transition: all .25s ease-in-out;\n}\n```\n\nIE11は`.card`が`width:100%`になるが、コード量的には減ってすっきり。\nただ、`grid-row-gap`が%指定しても空きができなかった。`grid-column-gap`はできたけど両方に指定はできないか？\n\n## `transition`効果\n\n[![Screenshot from Gyazo](https://gyazo.com/df45ce6f156ec940727777b982b6bbc7/raw)](https://gyazo.com/df45ce6f156ec940727777b982b6bbc7)\n\n下から上に切り替わるような効果にしていたが、もうちょっとスムーズになるように調整したのと、タブレット〜スマホサイズ時は左から右に切り替わるようにした。\n\n[![Screenshot from Gyazo](https://gyazo.com/edd54a09798aee161ecd8895f95b6de5/raw)](https://gyazo.com/edd54a09798aee161ecd8895f95b6de5)\n\n```css\n.fade-enter-active {\n  transition: all .75s ease;\n}\n.fade-leave-active {\n  transition: all .75s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n}\n@media screen and (min-width: 769px) {\n  .fade-enter, .fade-leave-to {\n    transform: translateY(100vh);\n  }\n}\n@media screen and (max-width: 768px) {\n  .fade-enter, .fade-leave-to {\n    transform: translateX(-250vw);\n  }\n}\n```\n\nあと`height: 100%`でのSPAになってるのでページ下部までいって詳細ページに遷移する時にガクッとなる動きがあり違和感があったため、routerの`scrollBehavior`を使って詳細ページ時はページトップへ遷移（`setTimeout`でtransition部分の時間と調整）して、それ以外はページ位置を保持しておくという設定もつけておきました。\n\n```javascript:router\n  routes: [\n    ...\n    {\n      path: '/work/:number/detail',\n      name: 'Works',\n      component: Detail,\n      meta: { scrollToTop: true }\n    },\n    ...\n  ],\n  scrollBehavior (to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition\n    } else {\n      return new Promise(resolve => {\n        if (to.matched.some(m => m.meta.scrollToTop)) {\n          setTimeout(() => {\n            resolve({ x: 0, y: 0 })\n          }, 750)\n        }\n      })\n    }\n  }\n```\n\nまだ精度としては微妙なのでスタイル部分も合わせて見直す必要ありそうだけど、まぁいいかとなってます。\n\n# ToDo\n- [ ] `vue-head`入れてmeta情報周り整える\n- [ ] 左メニュー一覧のレイアウト作成\n- [ ] テンプレートから作成したが、これを個人単位でメンテできる構成にできるか。\n- [ ] pwa化できるか。これはおそらくNuxt.jsでやったほうがよさそう\n\n# 雑感\n- CLIツールとは便利なものであり、`vue-cli`は未だに初学者に優しいテンプレート作成ツールである。\n- ただ、どんな便利なCLIツールにしろアップデートされた機能・廃止された機能ほかも合わせて調整、最悪マイグレーションヘルパーみたいなのがあればいいが、そういうのはない。\n- たぶんCLIツールを使い運用していくにはバージョンアップの都度、テンプレートも更新できているか、きちんと保守できるかどうかなど徹底的に付き合う必要はある。\n    - `vue-cli`3.0以降でこの辺の煩雑な機能などを見直す予定とのこと（下部関連リンク参考）\n- 今回のは大した機能もなく１からやり直せる範囲だったのでどうでもよかったが、規模が大きかったり機能が煩雑だったりするとこれの比ではない苦労や地獄が待っている可能性がある。\n- なので個人的な１発ネタや突発性のある簡易的なツール、練習やどういう構成で動かすかの勉強としては自由に使っても良い。\n- ただ自分できちんと動かしたり保守できたりするにはそれらに頼らない環境構築をしなければならない（上記ToDo３件目で言及済み）。\n    - CLIツールがどういうものかを理解すればいいけど現状の自分にはそこまで読み解く力はない。\n    - これは`vue-cli`、Vue.jsに限らず、あらゆる点で大切なことだと思う。\n    - *You know, I learned something today.* （サウスパーク並の感想）\n\n# 関連リンク\n**Future of Vue.js (vue-cliについて)**\nhttps://speakerdeck.com/player/7d437d38c31b46318998d120b2d9c929?slide=60\n**vue-router 日本語ドキュメント**\nhttps://router.vuejs.org/ja/\n",coediting:a,comments_count:0,created_at:da,group:n,id:"06a098d466942de6f23e",likes_count:7,private:a,reactions_count:0,tags:[{name:G,versions:[]},{name:"vue-router",versions:[]},{name:oa,versions:[]}],title:"よく分かってないでvue-cliで作ったVue.js製SPAをアップデートした話",updated_at:da,url:"https://qiita.com/yamanoku/items/06a098d466942de6f23e",user:{description:z,facebook_id:s,followees_count:5,followers_count:j,github_login_name:s,id:s,items_count:C,linkedin_id:s,location:x,name:k,organization:E,permanent_id:F,profile_image_url:A,team_only:a,twitter_screen_name:s,website_url:w},page_views_count:n},{rendered_body:'\n<h1>\n<span id="追記20180502" class="fragment"></span><a href="#%E8%BF%BD%E8%A8%9820180502"><i class="fa fa-link"></i></a>追記：2018/05/02</h1>\n\n<p>Github側でカスタムドメインでもSSL化対応してくれるようになったそうです。</p>\n\n<p>CloudFrontよくわからん、AWSヤダみたいな人は無理しなくても良さそうです<img alt=":innocent:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f607.png" title=":innocent:" width="20" loading="lazy"></p>\n\n<p><a href="https://blog.github.com/2018-05-01-github-pages-custom-domains-https/" class="autolink" rel="nofollow noopener" target="_blank">https://blog.github.com/2018-05-01-github-pages-custom-domains-https/</a></p>\n\n<hr>\n\n<h1>\n<span id="なにこれ" class="fragment"></span><a href="#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C"><i class="fa fa-link"></i></a>なにこれ</h1>\n\n<p>タイトル通りの手順です。流れなので長いのはお許しください。</p>\n\n<p>０からでもうまいことやれたので備忘録として書きました。参考までにどうぞ。</p>\n\n<hr>\n\n<h1>\n<span id="事前準備" class="fragment"></span><a href="#%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99"><i class="fa fa-link"></i></a>事前準備</h1>\n\n<ul>\n<li>AWSへのアカウント登録関連は完了しておく\n\n<ul>\n<li>メール認証・クレカ登録などお忘れなく</li>\n</ul>\n</li>\n<li>Github Page 作成\n\n<ul>\n<li>無料垢でもOK</li>\n</ul>\n</li>\n</ul>\n\n<hr>\n\n<h1>\n<span id="route53でドメインを買う" class="fragment"></span><a href="#route53%E3%81%A7%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%82%92%E8%B2%B7%E3%81%86"><i class="fa fa-link"></i></a>Route53でドメインを買う</h1>\n\n<ul>\n<li>Route53にアクセス。</li>\n<li>「Register Domain」ボタンよりドメイン購入手続き\n<a href="https://gyazo.com/1909db49bec796d6b74ac77ecfed36e9" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F1909db49bec796d6b74ac77ecfed36e9%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=0e4c037dcc68ea29b2de8418378212c9" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/1909db49bec796d6b74ac77ecfed36e9/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F1909db49bec796d6b74ac77ecfed36e9%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=4d67e4500d8aa22b06e71bc1b914ded8 1x" loading="lazy"></a>\n</li>\n</ul>\n\n<hr>\n\n<ul>\n<li>購入したいドメイン名を入力</li>\n<li>欲しいTLD（.com, .net, .orgなど）を選択</li>\n<li>「Check」ボタンより購入可能なドメインを検索</li>\n</ul>\n\n<p><a href="https://gyazo.com/cf376fabe3486d6eb63e1251df94e7e0" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fcf376fabe3486d6eb63e1251df94e7e0%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=7ad8f5eb92edae0d4c40b6b22b185a39" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/cf376fabe3486d6eb63e1251df94e7e0/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fcf376fabe3486d6eb63e1251df94e7e0%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=72146bc5077c0bd1540d5b97fee4d8b1 1x" loading="lazy"></a></p>\n\n<hr>\n\n<ul>\n<li>「Add to cart」で欲しいドメインをカートに追加</li>\n<li>ページ下部の「Continue」ボタンで次へ</li>\n</ul>\n\n<p><a href="https://gyazo.com/b0a01a379736ad1532a5686602ea2419" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb0a01a379736ad1532a5686602ea2419%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=4fed86661efbd62c259a1b39caafb692" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/b0a01a379736ad1532a5686602ea2419/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb0a01a379736ad1532a5686602ea2419%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=43e28151e777cc91c9b0e877d7732a02 1x" loading="lazy"></a></p>\n\n<hr>\n\n<ul>\n<li>購入者入力画面で各種入力</li>\n</ul>\n\n<p><a href="https://gyazo.com/d4d87e3de77816c712fc21b60107bc69" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fd4d87e3de77816c712fc21b60107bc69%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=764093e01f57a977a2678ea34e07091b" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/d4d87e3de77816c712fc21b60107bc69/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fd4d87e3de77816c712fc21b60107bc69%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=9f28ac0b380d877bad053f79be7bc74d 1x" loading="lazy"></a></p>\n\n<ul>\n<li>「Privacy Protection」項目は特に考慮することがなければ <strong>Hide contact information if the TLD registry, and the registrar, allow it</strong> にチェック\n\n<ul>\n<li>\n<a href="https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/domain-privacy-protection.html" rel="nofollow noopener" target="_blank">ドメインの連絡先情報のプライバシー保護の有効化/無効化箇所</a> になります。</li>\n</ul>\n</li>\n</ul>\n\n<hr>\n\n<ul>\n<li>入力後、問題なければ「Continue」ボタンで確認画面に遷移</li>\n<li>「Terms and Conditions」の同意確認箇所にチェックを入れ、「Complete Purchase」ボタンで購入確定へ</li>\n</ul>\n\n<p><a href="https://gyazo.com/b0959d18ff3a0a9bc131e7c060dea8bb" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb0959d18ff3a0a9bc131e7c060dea8bb%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=4639aeaa477078185c98e2940d082588" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/b0959d18ff3a0a9bc131e7c060dea8bb/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb0959d18ff3a0a9bc131e7c060dea8bb%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=cbfc679aaf02b1ebaf066629d76ba67a 1x" loading="lazy"></a></p>\n\n<hr>\n\n<ul>\n<li>メールにて購入完了の旨を受け取る。ドメイン購入はこれにて完了。\n\n<ul>\n<li>下図は実際に買ったときのやつ</li>\n</ul>\n</li>\n<li>AWS Certificate Managerに移動</li>\n</ul>\n\n<p><a href="https://gyazo.com/b12ce54876c9078d4f5a56f4bc8fd9a4" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb12ce54876c9078d4f5a56f4bc8fd9a4%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=6b47ab76259f1c1f519fd0da60bd0229" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/b12ce54876c9078d4f5a56f4bc8fd9a4/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb12ce54876c9078d4f5a56f4bc8fd9a4%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=237c404d35d02df0c70d254d0ae20bca 1x" loading="lazy"></a></p>\n\n<hr>\n\n<h1>\n<span id="aws-certificate-manager" class="fragment"></span><a href="#aws-certificate-manager"><i class="fa fa-link"></i></a>AWS Certificate Manager</h1>\n\n<ul>\n<li>右上のリージョンが「バージニア北部」になっていることを確認\n\n<ul>\n<li>なっていなかったら選択</li>\n<li>CloudFrontで使用する際に必要\n<a href="https://gyazo.com/e0cbe3bbc2412f31a873994c9c171384" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fe0cbe3bbc2412f31a873994c9c171384%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=8ddc7324178c579e734cc237651a282a" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/e0cbe3bbc2412f31a873994c9c171384/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fe0cbe3bbc2412f31a873994c9c171384%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=83ee21bd7f1b1c5b57c4ca02940fb149 1x" loading="lazy"></a>\n</li>\n</ul>\n</li>\n</ul>\n\n<hr>\n\n<ul>\n<li>「証明書のリクエスト」をクリック</li>\n</ul>\n\n<p><a href="https://gyazo.com/ea43c6b77f7daa425750617e7687e93f" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fea43c6b77f7daa425750617e7687e93f%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=940e22b84c36d3cfca7e479a450a6d27" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/ea43c6b77f7daa425750617e7687e93f/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fea43c6b77f7daa425750617e7687e93f%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=51cb6053ede145cc940b635e139423ac 1x" loading="lazy"></a></p>\n\n<hr>\n\n<ul>\n<li>ドメイン名の追加で先程購入したドメインを入力して「次へ」をクリック</li>\n</ul>\n\n<p><a href="https://gyazo.com/5a965cfe4fe959080d69fe97c73489c9" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F5a965cfe4fe959080d69fe97c73489c9%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=7aaefdbae9ea331c440b4dd4a435d76e" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/5a965cfe4fe959080d69fe97c73489c9/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F5a965cfe4fe959080d69fe97c73489c9%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=a709ed5689a0481fd387323b3be2daf2 1x" loading="lazy"></a></p>\n\n<hr>\n\n<ul>\n<li>証明書のリクエスト検証はDNSにして「次へ」をクリック</li>\n</ul>\n\n<p><a href="https://gyazo.com/7492dbf9ddb80adf96005530188916ae" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F7492dbf9ddb80adf96005530188916ae%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=ab16dd9e4d803ebdf60b709a75a124b5" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/7492dbf9ddb80adf96005530188916ae/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F7492dbf9ddb80adf96005530188916ae%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=260c5611f8d793accef37fb3424c51c1 1x" loading="lazy"></a></p>\n\n<hr>\n\n<ul>\n<li>確認で問題なければ「確定とリクエスト」ボタンをクリック。</li>\n</ul>\n\n<p><a href="https://gyazo.com/00ff6b2169bf0ec63124959a96bbe5f3" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F00ff6b2169bf0ec63124959a96bbe5f3%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=875cce029eeed88e0ccbc9d2c25360c5" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/00ff6b2169bf0ec63124959a96bbe5f3/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F00ff6b2169bf0ec63124959a96bbe5f3%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=c275036fcfc84a3788589d66d5843dcf 1x" loading="lazy"></a></p>\n\n<ul>\n<li>その後遷移する確定後の画面より「続行」ボタンをクリック。</li>\n</ul>\n\n<hr>\n\n<ul>\n<li>ダッシュボードに遷移して、検証保留中になっているのを確認したらCloudFrontに移動</li>\n</ul>\n\n<p><a href="https://gyazo.com/d3b93a580edf975761e57c5206a6e640" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fd3b93a580edf975761e57c5206a6e640%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=74fb721462c23f5d35567c8ebc2d1efd" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/d3b93a580edf975761e57c5206a6e640/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fd3b93a580edf975761e57c5206a6e640%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=4b57649751264f1bb4bc9d56d5de9148 1x" loading="lazy"></a></p>\n\n<hr>\n\n<h1>\n<span id="cloudfront" class="fragment"></span><a href="#cloudfront"><i class="fa fa-link"></i></a>CloudFront</h1>\n\n<ul>\n<li>「Distributions」ダッシュボードが開いているのを確認して、「Create Distribution」をクリック</li>\n</ul>\n\n<p><a href="https://gyazo.com/0e310f558925fc82235158f32597e8bd" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F0e310f558925fc82235158f32597e8bd%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=831ad155e6c8349926bef2b322f977e7" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/0e310f558925fc82235158f32597e8bd/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F0e310f558925fc82235158f32597e8bd%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=b8745c4ae4cd32151de9482795481351 1x" loading="lazy"></a></p>\n\n<hr>\n\n<ul>\n<li>Webの方の「Get Started」をクリック</li>\n</ul>\n\n<p><a href="https://gyazo.com/a62fcd9dca6394d764f93b6d6ef552c5" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fa62fcd9dca6394d764f93b6d6ef552c5%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=cc724391e3f35f8a04ecce6bc0678f3a" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/a62fcd9dca6394d764f93b6d6ef552c5/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fa62fcd9dca6394d764f93b6d6ef552c5%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=db48782ffa24b48b16185ab171c32234 1x" loading="lazy"></a></p>\n\n<hr>\n\n<h2>\n<span id="01-origin-settings" class="fragment"></span><a href="#01-origin-settings"><i class="fa fa-link"></i></a>01. Origin Settings</h2>\n\n<ul>\n<li>「Origin Domain Name」に自分のgithub pageを入力\n\n<ul>\n<li>ここではgithub pageのURL＝インデックスページという想定です</li>\n</ul>\n</li>\n</ul>\n\n<p><a href="https://gyazo.com/a6f565bcc0cd5749338eb8db11087d73" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fa6f565bcc0cd5749338eb8db11087d73%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=ed3e42e5e8bdc417771580e5f832e0d4" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/a6f565bcc0cd5749338eb8db11087d73/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fa6f565bcc0cd5749338eb8db11087d73%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=c3de5abcde98c3b52fd0868dc4a26c1e 1x" loading="lazy"></a></p>\n\n<hr>\n\n<h2>\n<span id="02-default-cache-behavior-settings" class="fragment"></span><a href="#02-default-cache-behavior-settings"><i class="fa fa-link"></i></a>02. Default Cache Behavior Settings</h2>\n\n<ul>\n<li>「Viewer Protocol Policy」を<strong>Redirect HTTP to HTTPS</strong>\n</li>\n<li>「Cache Based on Selected Request Headers」を<strong>Whitelist</strong>\n</li>\n<li>「Whitelist Headers」で<strong>Hosts</strong>をAdd</li>\n</ul>\n\n<p><a href="https://gyazo.com/4e7f2fb903010864627793bd8b4b9760" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F4e7f2fb903010864627793bd8b4b9760%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=de32a22f8459f1a527e7c08d6950a798" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/4e7f2fb903010864627793bd8b4b9760/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F4e7f2fb903010864627793bd8b4b9760%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=65608c3cf3578084f940abc9088a54fb 1x" loading="lazy"></a></p>\n\n<hr>\n\n<h2>\n<span id="03-distribution-settings" class="fragment"></span><a href="#03-distribution-settings"><i class="fa fa-link"></i></a>03. Distribution Settings</h2>\n\n<ul>\n<li>「Alternate Domain Names(CNAMEs)」 に適応させるドメインを入力</li>\n<li>「SSL Certificate」は<strong>Custom SSL Certificate</strong>を選択\n\n<ul>\n<li>このときAWS Certificate Managerで作成したSSL証明書が選択できると思うのでそれを選択</li>\n</ul>\n</li>\n</ul>\n\n<p><a href="https://gyazo.com/45f194497695a27eff634d943475298b" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F45f194497695a27eff634d943475298b%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=2f2e39414e471ad12982ac3634083868" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/45f194497695a27eff634d943475298b/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F45f194497695a27eff634d943475298b%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=4883cc6323b7ca3208e34283e8321ff7 1x" loading="lazy"></a></p>\n\n<hr>\n\n<ul>\n<li>01~03までを入力したら「Create Distribution」ボタンをクリック</li>\n<li>その後生成された「Domain Name」（dから始まるやつ）のURLをコピー\n<a href="https://gyazo.com/76a42865ccb51d7f3519bc6d07ca1477" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F76a42865ccb51d7f3519bc6d07ca1477%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=73dc965b5c53cce8167c3ddaaf4262d6" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/76a42865ccb51d7f3519bc6d07ca1477/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F76a42865ccb51d7f3519bc6d07ca1477%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=2d28c04ee42c29f7f575bec2fd79d385 1x" loading="lazy"></a>\n</li>\n<li>コピーしたURLが見れる状態になってるかを確認</li>\n<li>アクセスできるのを確認したらRoute53に戻る</li>\n</ul>\n\n<hr>\n\n<h1>\n<span id="route53" class="fragment"></span><a href="#route53"><i class="fa fa-link"></i></a>Route53</h1>\n\n<ul>\n<li>左メニューより「Hosted Zones」を選択、ダッシュボードに購入したドメイン名あるのでクリック</li>\n<li>「Create Record Set」ボタンをクリック</li>\n</ul>\n\n<p><a href="https://gyazo.com/75aa0fa79e8c62940ad33d62308e2555" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F75aa0fa79e8c62940ad33d62308e2555%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=1b1606b1e48beb1388a25ddb74fa58c3" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/75aa0fa79e8c62940ad33d62308e2555/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F75aa0fa79e8c62940ad33d62308e2555%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=dca0a1a2150809972d82c1a73c1fc62b 1x" loading="lazy"></a></p>\n\n<hr>\n\n<ul>\n<li>Nameは空でOK</li>\n<li>TypeはA</li>\n<li>AliasはYesをチェック\n\n<ul>\n<li>Alias Targetに先程コピーしたURLを貼る</li>\n</ul>\n</li>\n<li>「Save Record Set」クリックで追加</li>\n</ul>\n\n<p><a href="https://gyazo.com/30d54d9938cd894da5972f2d6b385edb" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F30d54d9938cd894da5972f2d6b385edb%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=47dcf203d31801872ae92c836e4eadb2" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/30d54d9938cd894da5972f2d6b385edb/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F30d54d9938cd894da5972f2d6b385edb%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=167a93291f25facb1a8101a333e7afad 1x" loading="lazy"></a></p>\n\n<hr>\n\n<h1>\n<span id="github-page" class="fragment"></span><a href="#github-page"><i class="fa fa-link"></i></a>Github Page</h1>\n\n<ul>\n<li>GitHub Pagesのリポジトリに移動</li>\n<li>「Settings」タブより設定ページに移動</li>\n</ul>\n\n<p><a href="https://gyazo.com/b795df7853711780c14fda9f17a406c2" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb795df7853711780c14fda9f17a406c2%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=c3aefe125ad81a55ed16be14e68dfde9" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/b795df7853711780c14fda9f17a406c2/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb795df7853711780c14fda9f17a406c2%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=1acd1e26fba5dc3c6619b2b6374e4370 1x" loading="lazy"></a></p>\n\n<hr>\n\n<h2>\n<span id="github-pages" class="fragment"></span><a href="#github-pages"><i class="fa fa-link"></i></a>GitHub Pages</h2>\n\n<ul>\n<li>「Custom domain」箇所に購入したドメインを入力、Save\n\n<ul>\n<li>DNSの浸透がまだだとはじかれるかもなので、10分くらい待つのとか、CloudFrontのStatusがDeployedになっているかなど確認した上でやる</li>\n</ul>\n</li>\n</ul>\n\n<p><a href="https://gyazo.com/cd4592176a225ad12c31d4dad40e106e" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fcd4592176a225ad12c31d4dad40e106e%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=68ace71c2e29a4f5cb087ff356b4c7f3" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/cd4592176a225ad12c31d4dad40e106e/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fcd4592176a225ad12c31d4dad40e106e%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=9ef048378ff6730ffd3058d867de66c3 1x" loading="lazy"></a></p>\n\n<hr>\n\n<h1>\n<span id="反映を確認" class="fragment"></span><a href="#%E5%8F%8D%E6%98%A0%E3%82%92%E7%A2%BA%E8%AA%8D"><i class="fa fa-link"></i></a>反映を確認</h1>\n\n<p><img alt=":tada:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f389.png" title=":tada:" width="20" loading="lazy"><img alt=":tada:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f389.png" title=":tada:" width="20" loading="lazy"><img alt=":tada:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f389.png" title=":tada:" width="20" loading="lazy"></p>\n\n<p><a href="https://gyazo.com/b1faf5eca06214f17314f3330e2ae58a" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb1faf5eca06214f17314f3330e2ae58a%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=b2086f42431a644935f32c2f442cf56a" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/b1faf5eca06214f17314f3330e2ae58a/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fb1faf5eca06214f17314f3330e2ae58a%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=fa816c93de3b5b1c3f50d4d8a629d154 1x" loading="lazy"></a></p>\n\n<hr>\n\n<h1>\n<span id="感想" class="fragment"></span><a href="#%E6%84%9F%E6%83%B3"><i class="fa fa-link"></i></a>感想</h1>\n\n<ul>\n<li>AWS、自分で１から触るのは始めてなのでDNS浸透なり証明書が無効だったりと色々ありしんどかった。</li>\n<li>ただここまでやっておけばある程度動かせる下地ができる感じなのでやっておいてよかった</li>\n<li>ドメイン買うのももっと安くやる方法もあるだろうけど、AWSサービス間で設定するなら全部まとめてやるのが分かりやすいかなと思ったのでこの手法で良かったと思う</li>\n</ul>\n\n<hr>\n\n<h1>\n<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h1>\n\n<ul>\n<li><a href="https://qiita.com/kechol/items/9609e1ab4a673e05b613">Github Pagesでホスティングしつつ、CloudFrontを使ってサイトをSSL対応の独自ドメインにする</a></li>\n<li><a href="https://qiita.com/iogi/items/82618c1d56abba6b9337" id="reference-ebf866c130adbda098e6">CloudFrontを利用して独自ドメインのGitHub PagesをHTTPS化する</a></li>\n<li><a href="https://dev.classmethod.jp/cloud/aws/2way-to-use-https-from-cloudfront-to-custom-origin/" rel="nofollow noopener" target="_blank">CloudFrontからカスタムオリジンまでの通信をHTTPS化する方法を2パターン</a></li>\n<li><a href="https://blog.pinekta.tech/aws/2017/02/21/sslchange/" rel="nofollow noopener" target="_blank">Route53とCloudFrontで独自ドメインのGitHub PagesをHTTPS化した</a></li>\n<li><a href="https://qiita.com/sk565/items/2da1fc0c5fc676f54994" id="reference-7da546d678137e482192">AWS Route53ドメイン取得からCertificate Managerでの証明書作成まで</a></li>\n</ul>\n',body:"# 追記：2018/05/02\n\nGithub側でカスタムドメインでもSSL化対応してくれるようになったそうです。\n\nCloudFrontよくわからん、AWSヤダみたいな人は無理しなくても良さそうです:innocent:\n\nhttps://blog.github.com/2018-05-01-github-pages-custom-domains-https/\n\n---\n\n# なにこれ\n\nタイトル通りの手順です。流れなので長いのはお許しください。\n\n０からでもうまいことやれたので備忘録として書きました。参考までにどうぞ。\n\n---\n\n# 事前準備\n\n- AWSへのアカウント登録関連は完了しておく\n    - メール認証・クレカ登録などお忘れなく\n- Github Page 作成\n    - 無料垢でもOK\n\n---\n\n# Route53でドメインを買う\n\n- Route53にアクセス。\n- 「Register Domain」ボタンよりドメイン購入手続き\n[![Screenshot from Gyazo](https://gyazo.com/1909db49bec796d6b74ac77ecfed36e9/raw)](https://gyazo.com/1909db49bec796d6b74ac77ecfed36e9)\n\n---\n\n- 購入したいドメイン名を入力\n- 欲しいTLD（.com, .net, .orgなど）を選択\n- 「Check」ボタンより購入可能なドメインを検索\n\n[![Screenshot from Gyazo](https://gyazo.com/cf376fabe3486d6eb63e1251df94e7e0/raw)](https://gyazo.com/cf376fabe3486d6eb63e1251df94e7e0)\n\n---\n\n- 「Add to cart」で欲しいドメインをカートに追加\n- ページ下部の「Continue」ボタンで次へ\n\n[![Screenshot from Gyazo](https://gyazo.com/b0a01a379736ad1532a5686602ea2419/raw)](https://gyazo.com/b0a01a379736ad1532a5686602ea2419)\n\n---\n\n- 購入者入力画面で各種入力\n\n[![Screenshot from Gyazo](https://gyazo.com/d4d87e3de77816c712fc21b60107bc69/raw)](https://gyazo.com/d4d87e3de77816c712fc21b60107bc69)\n\n- 「Privacy Protection」項目は特に考慮することがなければ **Hide contact information if the TLD registry, and the registrar, allow it** にチェック\n  - [ドメインの連絡先情報のプライバシー保護の有効化/無効化箇所](https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/domain-privacy-protection.html) になります。\n\n---\n\n- 入力後、問題なければ「Continue」ボタンで確認画面に遷移\n- 「Terms and Conditions」の同意確認箇所にチェックを入れ、「Complete Purchase」ボタンで購入確定へ\n\n[![Screenshot from Gyazo](https://gyazo.com/b0959d18ff3a0a9bc131e7c060dea8bb/raw)](https://gyazo.com/b0959d18ff3a0a9bc131e7c060dea8bb)\n\n---\n\n- メールにて購入完了の旨を受け取る。ドメイン購入はこれにて完了。\n    - 下図は実際に買ったときのやつ\n- AWS Certificate Managerに移動\n\n[![Screenshot from Gyazo](https://gyazo.com/b12ce54876c9078d4f5a56f4bc8fd9a4/raw)](https://gyazo.com/b12ce54876c9078d4f5a56f4bc8fd9a4)\n\n---\n# AWS Certificate Manager\n- 右上のリージョンが「バージニア北部」になっていることを確認\n    - なっていなかったら選択\n    - CloudFrontで使用する際に必要\n[![Screenshot from Gyazo](https://gyazo.com/e0cbe3bbc2412f31a873994c9c171384/raw)](https://gyazo.com/e0cbe3bbc2412f31a873994c9c171384)\n\n---\n\n- 「証明書のリクエスト」をクリック\n\n[![Screenshot from Gyazo](https://gyazo.com/ea43c6b77f7daa425750617e7687e93f/raw)](https://gyazo.com/ea43c6b77f7daa425750617e7687e93f)\n\n---\n\n- ドメイン名の追加で先程購入したドメインを入力して「次へ」をクリック\n\n[![Screenshot from Gyazo](https://gyazo.com/5a965cfe4fe959080d69fe97c73489c9/raw)](https://gyazo.com/5a965cfe4fe959080d69fe97c73489c9)\n\n---\n\n- 証明書のリクエスト検証はDNSにして「次へ」をクリック\n\n[![Screenshot from Gyazo](https://gyazo.com/7492dbf9ddb80adf96005530188916ae/raw)](https://gyazo.com/7492dbf9ddb80adf96005530188916ae)\n\n---\n\n- 確認で問題なければ「確定とリクエスト」ボタンをクリック。\n\n[![Screenshot from Gyazo](https://gyazo.com/00ff6b2169bf0ec63124959a96bbe5f3/raw)](https://gyazo.com/00ff6b2169bf0ec63124959a96bbe5f3)\n\n- その後遷移する確定後の画面より「続行」ボタンをクリック。\n\n---\n\n- ダッシュボードに遷移して、検証保留中になっているのを確認したらCloudFrontに移動\n\n[![Screenshot from Gyazo](https://gyazo.com/d3b93a580edf975761e57c5206a6e640/raw)](https://gyazo.com/d3b93a580edf975761e57c5206a6e640)\n\n---\n# CloudFront\n- 「Distributions」ダッシュボードが開いているのを確認して、「Create Distribution」をクリック\n\n[![Screenshot from Gyazo](https://gyazo.com/0e310f558925fc82235158f32597e8bd/raw)](https://gyazo.com/0e310f558925fc82235158f32597e8bd)\n\n---\n\n- Webの方の「Get Started」をクリック\n\n[![Screenshot from Gyazo](https://gyazo.com/a62fcd9dca6394d764f93b6d6ef552c5/raw)](https://gyazo.com/a62fcd9dca6394d764f93b6d6ef552c5)\n\n---\n\n## 01. Origin Settings\n- 「Origin Domain Name」に自分のgithub pageを入力\n    - ここではgithub pageのURL＝インデックスページという想定です\n\n[![Screenshot from Gyazo](https://gyazo.com/a6f565bcc0cd5749338eb8db11087d73/raw)](https://gyazo.com/a6f565bcc0cd5749338eb8db11087d73)\n\n---\n\n## 02. Default Cache Behavior Settings\n\n- 「Viewer Protocol Policy」を**Redirect HTTP to HTTPS**\n- 「Cache Based on Selected Request Headers」を**Whitelist**\n- 「Whitelist Headers」で**Hosts**をAdd\n\n[![Screenshot from Gyazo](https://gyazo.com/4e7f2fb903010864627793bd8b4b9760/raw)](https://gyazo.com/4e7f2fb903010864627793bd8b4b9760)\n\n---\n\n## 03. Distribution Settings\n\n- 「Alternate Domain Names(CNAMEs)」 に適応させるドメインを入力\n- 「SSL Certificate」は**Custom SSL Certificate**を選択\n    - このときAWS Certificate Managerで作成したSSL証明書が選択できると思うのでそれを選択\n\n[![Screenshot from Gyazo](https://gyazo.com/45f194497695a27eff634d943475298b/raw)](https://gyazo.com/45f194497695a27eff634d943475298b)\n\n---\n\n- 01~03までを入力したら「Create Distribution」ボタンをクリック\n- その後生成された「Domain Name」（dから始まるやつ）のURLをコピー\n[![Screenshot from Gyazo](https://gyazo.com/76a42865ccb51d7f3519bc6d07ca1477/raw)](https://gyazo.com/76a42865ccb51d7f3519bc6d07ca1477)\n- コピーしたURLが見れる状態になってるかを確認\n- アクセスできるのを確認したらRoute53に戻る\n\n---\n\n# Route53\n- 左メニューより「Hosted Zones」を選択、ダッシュボードに購入したドメイン名あるのでクリック\n- 「Create Record Set」ボタンをクリック\n\n[![Screenshot from Gyazo](https://gyazo.com/75aa0fa79e8c62940ad33d62308e2555/raw)](https://gyazo.com/75aa0fa79e8c62940ad33d62308e2555)\n\n---\n\n- Nameは空でOK\n- TypeはA\n- AliasはYesをチェック\n  - Alias Targetに先程コピーしたURLを貼る\n- 「Save Record Set」クリックで追加\n\n[![Screenshot from Gyazo](https://gyazo.com/30d54d9938cd894da5972f2d6b385edb/raw)](https://gyazo.com/30d54d9938cd894da5972f2d6b385edb)\n\n---\n\n# Github Page\n\n- GitHub Pagesのリポジトリに移動\n- 「Settings」タブより設定ページに移動\n\n[![Screenshot from Gyazo](https://gyazo.com/b795df7853711780c14fda9f17a406c2/raw)](https://gyazo.com/b795df7853711780c14fda9f17a406c2)\n\n---\n\n## GitHub Pages\n\n- 「Custom domain」箇所に購入したドメインを入力、Save\n    - DNSの浸透がまだだとはじかれるかもなので、10分くらい待つのとか、CloudFrontのStatusがDeployedになっているかなど確認した上でやる\n\n[![Screenshot from Gyazo](https://gyazo.com/cd4592176a225ad12c31d4dad40e106e/raw)](https://gyazo.com/cd4592176a225ad12c31d4dad40e106e)\n\n--- \n\n# 反映を確認\n\n:tada::tada::tada:\n\n[![Screenshot from Gyazo](https://gyazo.com/b1faf5eca06214f17314f3330e2ae58a/raw)](https://gyazo.com/b1faf5eca06214f17314f3330e2ae58a)\n\n---\n\n# 感想\n\n- AWS、自分で１から触るのは始めてなのでDNS浸透なり証明書が無効だったりと色々ありしんどかった。\n- ただここまでやっておけばある程度動かせる下地ができる感じなのでやっておいてよかった\n- ドメイン買うのももっと安くやる方法もあるだろうけど、AWSサービス間で設定するなら全部まとめてやるのが分かりやすいかなと思ったのでこの手法で良かったと思う\n\n---\n\n# 参考\n\n- [Github Pagesでホスティングしつつ、CloudFrontを使ってサイトをSSL対応の独自ドメインにする](https://qiita.com/kechol/items/9609e1ab4a673e05b613)\n- [CloudFrontを利用して独自ドメインのGitHub PagesをHTTPS化する](https://qiita.com/iogi/items/82618c1d56abba6b9337)\n- [CloudFrontからカスタムオリジンまでの通信をHTTPS化する方法を2パターン](https://dev.classmethod.jp/cloud/aws/2way-to-use-https-from-cloudfront-to-custom-origin/)\n- [Route53とCloudFrontで独自ドメインのGitHub PagesをHTTPS化した](https://blog.pinekta.tech/aws/2017/02/21/sslchange/)\n- [AWS Route53ドメイン取得からCertificate Managerでの証明書作成まで](https://qiita.com/sk565/items/2da1fc0c5fc676f54994)\n",coediting:a,comments_count:0,created_at:"2018-01-04T01:25:04+09:00",group:n,id:"c4f9c28d79f981afc40f",likes_count:14,private:a,reactions_count:0,tags:[{name:"GitHub",versions:[]},{name:"AWS",versions:[]},{name:"route53",versions:[]},{name:"CloudFront",versions:[]},{name:"CertificateManager",versions:[]}],title:"Route53でドメイン買ってACMでSSL証明書発行してCloudFrontでGithub Pageと買ったドメインと紐付けた【追記あり】",updated_at:"2018-05-02T22:44:53+09:00",url:"https://qiita.com/yamanoku/items/c4f9c28d79f981afc40f",user:{description:z,facebook_id:s,followees_count:5,followers_count:j,github_login_name:s,id:s,items_count:C,linkedin_id:s,location:x,name:k,organization:E,permanent_id:F,profile_image_url:A,team_only:a,twitter_screen_name:s,website_url:w},page_views_count:n},{rendered_body:'<p>この記事は<a href="https://qiita.com/advent-calendar/2017/vue2">Vue.js #2 Advent Calendar 2017</a>の21日目の記事です。</p>\n\n<p>去年も参加させていただいたのですが、今年は４つもカレンダーが作成されてVue.jsの勢いすごいですね。</p>\n\n<p>今回、自分がこの記事で書く内容は特にテック的なことではなく、<code>Nuxt.js</code>への感想記事や思い出記事みたいなのになりますので、<code>Nuxt.js</code>の技術的な内容を期待していた方はすみません。こういった人間もいるのか程度にご覧いただけたら、という感じです。</p>\n\n<h1>\n<span id="テンプレートエンジンプリプロセッサの多様化" class="fragment"></span><a href="#%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%B3%E3%83%97%E3%83%AA%E3%83%97%E3%83%AD%E3%82%BB%E3%83%83%E3%82%B5%E3%81%AE%E5%A4%9A%E6%A7%98%E5%8C%96"><i class="fa fa-link"></i></a>テンプレートエンジン・プリプロセッサの多様化</h1>\n\n<p>いきなり<code>Vue.js</code>、<code>Nuxt.js</code>という主題から脱線してしますがご了承ください。</p>\n\n<p>Node.jsというものが世に出てから、おそらく、宗教上の理由などを抜きにすれば、HTMLやCSSを素で書くことはなくなったと思います。いわゆるテンプレートエンジン・プリプロセッサの時代。</p>\n\n<p>人々はHTMLを<code>Pug</code>(<code>Jade</code>)で書いたり、CSSを<code>Less</code>、<code>Sass</code>、<code>Stylus</code>といったもので書くようになったおかげで作業効率は格段にあがったと思います。ここに各種タスクランナーを組み合わせれば更に恩恵を受けられるものになることでしょう。</p>\n\n<p>とくに<code>Pug</code>というものと出会って、マークアップエンジニアとしての自分は今までSSIやphpでの処理しかできなかった「共通化」部分を実現して静的に出力できるというのは感激ものでした。たとえば、</p>\n\n<div class="code-frame" data-lang="pug">\n<div class="code-lang"><span class="bold">_tmpl.pug</span></div>\n<div class="highlight"><pre>doctype html\nhtml(lang="ja")\n    head\n        meta(charset="UTF-8")\n        meta(http-equiv="X-UA-Compatible" content="IE=edge")\n        meta(name="viewport" content="width=device-width, initial-scale=1")\n    body\n        block contents\n</pre></div>\n</div>\n\n<p>みたいな感じにして</p>\n\n<div class="code-frame" data-lang="pug">\n<div class="code-lang"><span class="bold">index.pug</span></div>\n<div class="highlight"><pre>extends _tmpl\n\nblock contents\n    h1 Hello World!\n</pre></div>\n</div>\n\n<p>な感じで出力すると</p>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">index.html</span></div>\n<div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>\n<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"ja"</span><span class="nt">&gt;</span>\n    <span class="nt">&lt;head&gt;</span>\n        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>\n        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"X-UA-Compatible"</span> <span class="na">content=</span><span class="s">"IE=edge"</span><span class="nt">&gt;</span>\n        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="nt">&gt;</span>\n    <span class="nt">&lt;/head&gt;</span>\n    <span class="nt">&lt;body&gt;</span>\n        <span class="nt">&lt;h1&gt;</span>Hello World!<span class="nt">&lt;/h1&gt;</span>\n    <span class="nt">&lt;/body&gt;</span>\n<span class="nt">&lt;/html&gt;</span>\n</pre></div>\n</div>\n\n<p>みたいな感じになります。あとは変数での宣言も出来るので先程の<code>_tmpl.pug</code>に以下のように<code>param</code> という変数を設定して</p>\n\n<div class="code-frame" data-lang="pug">\n<div class="code-lang"><span class="bold">_tmpl.pug</span></div>\n<div class="highlight"><pre>doctype html\nhtml(lang="ja")\n    head\n        meta(charset="UTF-8")\n        meta(http-equiv="X-UA-Compatible" content="IE=edge")\n        meta(name="viewport" content="width=device-width, initial-scale=1")\n        block param\n        title #{title}\n        meta(name="description" value=description)\n        meta(name="keywords" value=keywords)\n    body\n        block contents\n</pre></div>\n</div>\n\n<p>以下のようにして出力すると</p>\n\n<div class="code-frame" data-lang="pug">\n<div class="code-lang"><span class="bold">index.pug</span></div>\n<div class="highlight"><pre>extends _tmpl\n\nblock param\n    - var title = "なにかのサイト"\n    - var keywords = "キーワード1, キーワード2, キーワード3";\n    - var description = "なにかしらの説明";\n\nblock contents\n    h1 Hello World!\n</pre></div>\n</div>\n\n<p>こんな感じで、ページ毎に共通のものと、そのページ独自のメタデータなどを静的ファイルとして入れ込むことができます。</p>\n\n<div class="code-frame" data-lang="html">\n<div class="code-lang"><span class="bold">index.html</span></div>\n<div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>\n<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"ja"</span><span class="nt">&gt;</span>\n    <span class="nt">&lt;head&gt;</span>\n        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>\n        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"X-UA-Compatible"</span> <span class="na">content=</span><span class="s">"IE=edge"</span><span class="nt">&gt;</span>\n        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="nt">&gt;</span>\n        <span class="nt">&lt;title&gt;</span>なにかのサイト<span class="nt">&lt;/title&gt;</span>\n        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"keywords"</span> <span class="na">content=</span><span class="s">"キーワード1, キーワード2, キーワード3"</span><span class="nt">&gt;</span>\n        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"description"</span> <span class="na">content=</span><span class="s">"なにかしらの説明"</span><span class="nt">&gt;</span>\n    <span class="nt">&lt;/head&gt;</span>\n    <span class="nt">&lt;body&gt;</span>\n        <span class="nt">&lt;h1&gt;</span>Hello World!<span class="nt">&lt;/h1&gt;</span>\n    <span class="nt">&lt;/body&gt;</span>\n<span class="nt">&lt;/html&gt;</span>\n</pre></div>\n</div>\n\n<p>これを今まで手動ですべて管理していた身と考えれば革新的だったのがわかると思います。</p>\n\n<h1>\n<span id="フロントエンドとの境界線をどう超えるか問題" class="fragment"></span><a href="#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89%E3%81%A8%E3%81%AE%E5%A2%83%E7%95%8C%E7%B7%9A%E3%82%92%E3%81%A9%E3%81%86%E8%B6%85%E3%81%88%E3%82%8B%E3%81%8B%E5%95%8F%E9%A1%8C"><i class="fa fa-link"></i></a>フロントエンドとの境界線をどう超えるか問題</h1>\n\n<p>自分がマークアップエンジニアとして仕事をしてからは、上記のようなテンプレートエンジンやプリプロセッサを駆使して業務を行っていたのですが、まれにJS開発におけるフロントエンド領域の仕事依頼がくることがあります。</p>\n\n<p>マークアップ上ではせいぜい<code>VanillaJs</code>や<code>jQuery</code>を使用して身軽なアニメーションや状態の管理などは行えました。しかしガッツリとしたフロントエンド業務であれば、様々なモジュールを駆使して、<code>npm</code>コマンドや<code>browserify</code>や<code>webpack</code>などを駆使してバリバリ開発しているわけで、そういったものを通常では使用しない人間にとっては、環境設定の時点で大きな障壁となっていたりします。</p>\n\n<p>自分自身としてもそうしたフロントへの境界線をどう飛び越えていくかについて思い悩みつつも、先人が敷いてくれた環境設定というレールの上で、どういう軌跡をおってきたかを逐一調べながらやるしかなかったので、いきなりバリバリと進められるわけでもなく、どうやって段階を追ってやっていけばいいのかをヤキモキしていた時期がありました。</p>\n\n<h1>\n<span id="vuejsとの出会い" class="fragment"></span><a href="#vuejs%E3%81%A8%E3%81%AE%E5%87%BA%E4%BC%9A%E3%81%84"><i class="fa fa-link"></i></a>Vue.jsとの出会い</h1>\n\n<p>そんな自分でも何かうまく扱えるフレームワークはないかと調べてみた所、どうやらVue.jsというものが分かりやすいという情報を仕入れ、昨年に、稚拙ではありますが、SPAなるものを作り上げるところまでできました。<a href="https://qiita.com/yamanoku/items/41df5c05c5c89714ea3c" id="reference-6fd1873a35335ca3b7e4">(去年の記事)</a></p>\n\n<p>なるほどこうして動かせるのかと理解を進めるのと同時に、「<a href="https://github.com/vuejs/vue-cli" rel="nofollow noopener" target="_blank">vue-cli</a>」というコマンドラインから簡単にプロジェクトを作れるものを知って、参入障壁というかどうやっていけばいいのかの理解を進めるのにはもってこいでした。</p>\n\n<p>もちろん他のフレームワークでも近しいものがあるかもですが、フレームワークの明快さと馴染みのある感じ、そして<code>vue-cli</code>という存在において、<code>Vue.js</code>は自分にとって道を切り開いてくれる開拓者のような存在でした。</p>\n\n<h1>\n<span id="nuxtjsを知る" class="fragment"></span><a href="#nuxtjs%E3%82%92%E7%9F%A5%E3%82%8B"><i class="fa fa-link"></i></a>Nuxt.jsを知る</h1>\n\n<p>そんな中、<code>Vue.js</code>からの派生フレームワークで今年バージョン1.0がリリースされた<code>Nuxt.js</code>というものの存在を知りました。</p>\n\n<p><a href="https://gyazo.com/0a683b30754e8e77285eb23fd5230cb0" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F0a683b30754e8e77285eb23fd5230cb0%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=5adbd5481d3ead8759f1b3c6ad8dfa06" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/0a683b30754e8e77285eb23fd5230cb0/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F0a683b30754e8e77285eb23fd5230cb0%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=66845c7e868cd41bf10b15b5874a3bd2 1x" loading="lazy"></a></p>\n\n<p>最初は<code>Vue.js</code>を使ってSPAやSSRといった開発が容易にできる！といった評判を聞いており、自分は「へ〜こういうのがリリースされたのね」という感覚で受け取っていて、あとで触ってみるかなーという感じで、知った当時はそれほど興味なりはそこまでといった感じでした。</p>\n\n<p>時は変わって10月某日、さくらインターネットさんに開催していただいた「<a href="https://connpass.com/event/67740/" rel="nofollow noopener" target="_blank">さくらの夕べ　「さくらインターネットのエンジニアは Vue.js をこんな風につかってます</a>」にVue.js関連の話をやるとのことで参加してきました。=&gt; (<a href="http://yamanoku.hatenablog.com/entry/2017/10/31/%E3%80%8C%E3%81%95%E3%81%8F%E3%82%89%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%8D%E3%83%83%E3%83%88%E3%81%AE%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%AF_Vue_js_%E3%82%92%E3%81%93%E3%82%93" rel="nofollow noopener" target="_blank">レポート記事</a>)</p>\n\n<p>その中で<a href="/esukei" class="user-mention js-hovercard" title="esukei" data-hovercard-target-type="user" data-hovercard-target-name="esukei">@esukei</a>さんがNuxt.jsに関連してを紹介していただいたのですが、ひとつ自分の中で引っかかったとある機能がありました。</p>\n\n<p>それは <strong>静的ファイルを出力する</strong> という<code>nuxt generate</code>コマンドがあるということでした。そしてそれをもとにウェブサイトを作れるのではないか？という内容をおっしゃられていました。</p>\n\n<p>先述したように、これまでマークアップエンジニアとしての私は各種テンプレートエンジンやプリプロセッサ、そしてタスクランナーを使い業務を行っていました。</p>\n\n<p>それはそれで問題なかったのですが、<strong>CSSの管理問題</strong>や<strong>コンポーネントとしての共通化</strong>、そして<strong>JS部分との連携</strong>も考えねばならないのに、それぞれを別個として出力させて、合わせたときにどうなるかを考えなければならなかったというのがあります。<br>\nそういった部分を解消しうる静的なマークアップ環境が整う都合のいいものは何か無いだろうか…と考えていました。</p>\n\n<p>その問題をおおよそ解決しうるプロダクトとして<code>Nuxt.js</code>、そして<code>nuxt generate</code>というものがなのではないか、と感じました。</p>\n\n<h1>\n<span id="nuxtjsの良さそうな所" class="fragment"></span><a href="#nuxtjs%E3%81%AE%E8%89%AF%E3%81%95%E3%81%9D%E3%81%86%E3%81%AA%E6%89%80"><i class="fa fa-link"></i></a>Nuxt.jsの良さそうな所</h1>\n\n<h2>\n<span id="ディレクトリ構成が明瞭的" class="fragment"></span><a href="#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90%E3%81%8C%E6%98%8E%E7%9E%AD%E7%9A%84"><i class="fa fa-link"></i></a>ディレクトリ構成が明瞭的</h2>\n\n<p>Nuxt.jsは取っ組みやすい<a href="https://github.com/nuxt-community/starter-template" rel="nofollow noopener" target="_blank">スターターキット</a>を用意してくれているスグレモノで<code>vue-cli</code>を使えるようにして以下で作成できます。</p>\n\n<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="nv">$ </span>vue init nuxt-community/starter-template <span class="nb">test</span>\n</pre></div></div>\n\n<div class="code-frame" data-lang="bash"><div class="highlight"><pre>? Project name <span class="nb">test</span>\n? Project description Nuxt.js project\n? Author yamanoku &lt;0910yama@gmail.com&gt;\n\n   vue-cli · Generated <span class="s2">"test"</span><span class="nb">.</span>\n\n   To get started:\n\n     <span class="nb">cd test\n     </span>npm <span class="nb">install</span> <span class="c"># Or yarn</span>\n     npm run dev\n</pre></div></div>\n\n<p>で上記プロジェクト名やプロジェクト説明、著者の入力をエンターでタンタンターンッとやって、作成したディレクトリ（上記で言うとtest）に移動するとこのような構成になっています。</p>\n\n<div class="code-frame" data-lang="bash"><div class="highlight"><pre>├── assets\n├── components\n├── layouts\n├── middleware\n├── pages\n├── plugins\n├── static\n└── store\n</pre></div></div>\n\n<p>ディレクトリの詳細は<a href="https://ja.nuxtjs.org/guide/directory-structure" rel="nofollow noopener" target="_blank">公式ページ</a>を参照いただければ、と思いますが、単純にページのみをつくる想定で考えると、</p>\n\n<div class="code-frame" data-lang="bash"><div class="highlight"><pre>├── components（パーツ集）\n├── pages（ページ単位）\n└── static（画像ほか静的なファイル置き場）\n</pre></div></div>\n\n<p>最悪これだけでもページ作れると思います。必要なものは適時追加いただければという感じで。</p>\n\n<p>ここで良いなと感じる部分は<strong>どこに何を担当しているのかを一見して分かりやすい</strong>というのがあります。なのでこれはここに入れておくというルールも固定化できると思います。</p>\n\n<h2>\n<span id="詳細な環境構築が不要" class="fragment"></span><a href="#%E8%A9%B3%E7%B4%B0%E3%81%AA%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89%E3%81%8C%E4%B8%8D%E8%A6%81"><i class="fa fa-link"></i></a>詳細な環境構築が不要</h2>\n\n<p>ここから開発をはじめるにあたり、まず<code>npm i</code>か<code>yarn</code>でモジュール一覧をダウンロードするのですが、通常であれば<code>webpack</code>だったり<code>gulp</code>なりのビルドツールやタスクランナーを設定することがあると思いますがそれらは不要です。</p>\n\n<p>必要なモジュールほかは<code>npm i -D</code>や<code>yarn add -D</code>で追加して<code>import</code>などで導入できるのですが、ここからCSSフレームワークなども簡単に設定することができます。例えば</p>\n\n<div class="code-frame" data-lang="text"><div class="highlight"><pre>yarn add -D bulma\n</pre></div></div>\n\n<p>このように追加した後に、以下<code>nuxt.config.js</code>に以下を追記すると、</p>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">nuxt.config.js</span></div>\n<div class="highlight"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>\n  <span class="na">head</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">css</span><span class="p">:</span> <span class="p">[</span>\n      <span class="dl">\'</span><span class="s1">bulma/css/bulma.css</span><span class="dl">\'</span>\n    <span class="p">],</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<p>全ページ共通で<code>bulma.css</code>が使えます。</p>\n\n<h2>\n<span id="１ソース完結scoped-css革命" class="fragment"></span><a href="#%EF%BC%91%E3%82%BD%E3%83%BC%E3%82%B9%E5%AE%8C%E7%B5%90scoped-css%E9%9D%A9%E5%91%BD"><i class="fa fa-link"></i></a>１ソース完結、scoped CSS革命</h2>\n\n<p><code>Vue.js</code>をベースとしているので、１ソースの中で、<code>html</code>、<code>css</code>、<code>JavaScript</code>をそれぞれ書ける利点があります。さらに、<code>html</code>には<code>pug</code>と<code>css</code>には<code>sass</code>、<code>less</code>、<code>stylus</code>のプリプロセッサ言語も使用できちゃいます。<br>\nコンポーネント設計やAtomicDesignにおける個々のパーツを管理する設計思想が流行ってはいますが、<code>Nuxt.js</code>はそれを実現しやすいものだと思っています。</p>\n\n<p>そしてCSS管理においては<code>scoped CSS</code>を使用すると、コンポーネントやレイアウト、ページ単体のCSS管理ができます。</p>\n\n<p><a href="https://gyazo.com/3ba66219ffec42b5e34e50a659d165f4" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F3ba66219ffec42b5e34e50a659d165f4%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=f65413766baa94eef4a46ceb29828535" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/3ba66219ffec42b5e34e50a659d165f4/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2F3ba66219ffec42b5e34e50a659d165f4%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=76f9f4e9f99f731de36397c4b9415d2a 1x" loading="lazy"></a></p>\n\n<p>こうすると</p>\n\n<p><a href="https://gyazo.com/a72042dcd05dfb09e4b085f427e1cf95" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fa72042dcd05dfb09e4b085f427e1cf95%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=6b164a927e71ce60e8224afb44f8c933" alt="Screenshot from Gyazo" data-canonical-src="https://gyazo.com/a72042dcd05dfb09e4b085f427e1cf95/raw" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fgyazo.com%2Fa72042dcd05dfb09e4b085f427e1cf95%2Fraw?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=4e6337f2f12d79aeabfa80dd62ed6fe3 1x" loading="lazy"></a></p>\n\n<p>クラスにユニーク名が付与されてこういうことができます（画像のはNuxt.jsではないのですがイメージとして）。</p>\n\n<p><a href="/yassh" class="user-mention js-hovercard" title="yassh" data-hovercard-target-type="user" data-hovercard-target-name="yassh">@yassh</a>さん投稿による「<a href="https://qiita.com/yassh/items/7fb75904de19ff3bd3e8" id="reference-393dba9f939409ed686b">vue-loaderのScoped CSSのスタイルが子コンポーネントのルート要素に効いてしまって辛い</a>」といった仕様の問題もありますが、使いこなせば強力な武器になるのではないかなと思います。</p>\n\n<h2>\n<span id="es6es7も対応できるトラインスパイルしてくれる" class="fragment"></span><a href="#es6es7%E3%82%82%E5%AF%BE%E5%BF%9C%E3%81%A7%E3%81%8D%E3%82%8B%E3%83%88%E3%83%A9%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%91%E3%82%A4%E3%83%AB%E3%81%97%E3%81%A6%E3%81%8F%E3%82%8C%E3%82%8B"><i class="fa fa-link"></i></a>ES6/ES7も対応できる＆トラインスパイルしてくれる</h2>\n\n<p>JavaScriptのナウい書き方にもバベルで対応しているので、レガシーな書き方からも脱せそうです。</p>\n\n<h2>\n<span id="head情報も簡単に設定できる" class="fragment"></span><a href="#head%E6%83%85%E5%A0%B1%E3%82%82%E7%B0%A1%E5%8D%98%E3%81%AB%E8%A8%AD%E5%AE%9A%E3%81%A7%E3%81%8D%E3%82%8B"><i class="fa fa-link"></i></a><code>&lt;head&gt;</code>情報も簡単に設定できる</h2>\n\n<p>こうしたJSフレームワークにおいて、<code>meta</code>情報などの<code>head</code>要素を弄るのはあまり情報がなかった、bundleされたjsを置くindex.htmlに設定するだけと思うのですが、共通であったり各種ページでの個別設定も簡易的にできます。</p>\n\n<p>先程登場した<code>nuxt.config.js</code>で以下設定できます。</p>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">nuxt.config.js</span></div>\n<div class="highlight"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>\n  <span class="na">head</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">title</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">test</span><span class="dl">\'</span><span class="p">,</span> <span class="c1">// &lt;title&gt;部分</span>\n    <span class="na">meta</span><span class="p">:</span> <span class="p">[</span> <span class="c1">// metaタグ関連</span>\n      <span class="p">{</span> <span class="na">charset</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">utf-8</span><span class="dl">\'</span> <span class="p">},</span>\n      <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">viewport</span><span class="dl">\'</span><span class="p">,</span> <span class="na">content</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">width=device-width, initial-scale=1</span><span class="dl">\'</span> <span class="p">},</span>\n      <span class="p">{</span> <span class="na">hid</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">description</span><span class="dl">\'</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">description</span><span class="dl">\'</span><span class="p">,</span> <span class="na">content</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">説明文説明文</span><span class="dl">\'</span> <span class="p">}</span>\n    <span class="p">],</span>\n    <span class="na">link</span><span class="p">:</span> <span class="p">[</span> <span class="c1">//linkタグ関連</span>\n      <span class="p">{</span> <span class="na">rel</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">icon</span><span class="dl">\'</span><span class="p">,</span> <span class="na">type</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">image/x-icon</span><span class="dl">\'</span><span class="p">,</span> <span class="na">href</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">/favicon.ico</span><span class="dl">\'</span> <span class="p">}</span>\n    <span class="p">]</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<p>さらに個別ページでは以下のような個別設定も可能です。</p>\n\n<div class="code-frame" data-lang="html"><div class="highlight"><pre><span class="nt">&lt;template&gt;</span>\n  <span class="nt">&lt;h1&gt;</span>{{ title }}<span class="nt">&lt;/h1&gt;</span> <span class="c">&lt;!-- =&gt; &lt;h1&gt;Hello World!&lt;/h1&gt; --&gt;</span>\n<span class="nt">&lt;/template&gt;</span>\n\n<span class="nt">&lt;script&gt;</span>\n<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>\n  <span class="nx">data</span> <span class="p">()</span> <span class="p">{</span>\n    <span class="k">return</span> <span class="p">{</span>\n      <span class="na">title</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">Hello World!</span><span class="dl">\'</span>\n    <span class="p">}</span>\n  <span class="p">},</span>\n  <span class="nx">head</span> <span class="p">()</span> <span class="p">{</span>\n    <span class="k">return</span> <span class="p">{</span>\n      <span class="na">title</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span> <span class="c1">// =&gt; </span><span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">World</span><span class="o">!&lt;</span><span class="sr">/title</span><span class="err">&gt;\n</span>      <span class="na">meta</span><span class="p">:</span> <span class="p">[</span>\n        <span class="p">{</span> <span class="na">hid</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">description</span><span class="dl">\'</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">description</span><span class="dl">\'</span><span class="p">,</span> <span class="na">content</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">My custom description</span><span class="dl">\'</span> <span class="p">}</span>\n        <span class="c1">// =&gt; </span><span class="o">&lt;</span><span class="nx">meta</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">description</span><span class="dl">"</span> <span class="nx">content</span><span class="o">=</span><span class="dl">"</span><span class="s2">My custom description</span><span class="dl">"</span><span class="o">&gt;</span>\n      <span class="p">]</span>\n    <span class="p">}</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n<span class="nt">&lt;/script&gt;</span>\n</pre></div></div>\n\n<h2>\n<span id="pwa化も楽々導入" class="fragment"></span><a href="#pwa%E5%8C%96%E3%82%82%E6%A5%BD%E3%80%85%E5%B0%8E%E5%85%A5"><i class="fa fa-link"></i></a>PWA化も楽々導入。</h2>\n\n<p>話題のPWAに関しても<code>pwa-module</code>を追加すると利用できちゃいます。以下manifest設定とicon.pngを<code>static</code>に追加しておくと簡単に作成できます。</p>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">nuxt.config.js</span></div>\n<div class="highlight"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>\n  <span class="na">modules</span><span class="p">:</span> <span class="p">[</span><span class="dl">\'</span><span class="s1">@nuxtjs/pwa</span><span class="dl">\'</span><span class="p">],</span>\n  <span class="na">manifest</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">name</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">testApp</span><span class="dl">\'</span><span class="p">,</span>\n    <span class="na">short_name</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">shortName</span><span class="dl">\'</span><span class="p">,</span>\n    <span class="na">title</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">test</span><span class="dl">\'</span><span class="p">,</span>\n    <span class="dl">\'</span><span class="s1">og:title</span><span class="dl">\'</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">ogtest</span><span class="dl">\'</span><span class="p">,</span>\n    <span class="na">description</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">appDescription</span><span class="dl">\'</span><span class="p">,</span>\n    <span class="dl">\'</span><span class="s1">og:description</span><span class="dl">\'</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">ogDescription</span><span class="dl">\'</span><span class="p">,</span>\n    <span class="na">lang</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">ja</span><span class="dl">\'</span><span class="p">,</span>\n    <span class="na">theme_color</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">#ffffff</span><span class="dl">\'</span><span class="p">,</span>\n    <span class="na">background_color</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">#ffffff</span><span class="dl">\'</span>\n  <span class="p">}</span>\n  <span class="nl">workbox</span><span class="p">:</span> <span class="p">{</span>\n    <span class="nl">dev</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//開発でもPWAができる</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<p>これでオフラインでも確認できる静的ページを作成できちゃいます。</p>\n\n<h1>\n<span id="nuxtjsの悩ましい所" class="fragment"></span><a href="#nuxtjs%E3%81%AE%E6%82%A9%E3%81%BE%E3%81%97%E3%81%84%E6%89%80"><i class="fa fa-link"></i></a>Nuxt.jsの悩ましい所</h1>\n\n<p>上述した点はプロダクトを利用する面で良さ気なところでしたが、すぐに導入するには難しいところもあります。</p>\n\n<h2>\n<span id="minifyされる点" class="fragment"></span><a href="#minify%E3%81%95%E3%82%8C%E3%82%8B%E7%82%B9"><i class="fa fa-link"></i></a>minifyされる点</h2>\n\n<p><code>yarn generate</code>で<code>dist</code>ディレクトリが作成されると、生成された<code>html</code>は基本minifyされています。<br>\nそのままでよければいいのですが、出力されたファイルを確認したいときに可読性がわるくブラウザのデベロッパーツールでminify解除するなどしないと階層化されている内容をみれないです。<br>\nどうやらminify制御は<code>nuxt.config.js</code>内では<code>html-minifer</code>を使用しているので<code>generate</code>内で以下のように設定してみると多少なりの制御はできるみたいです。ただ思い通りの調整をするにはもう少し調査が要りそうです。</p>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">nuxt.config.js</span></div>\n<div class="highlight"><pre>  <span class="nx">generate</span><span class="p">:</span> <span class="p">{</span>\n    <span class="nl">minify</span><span class="p">:</span> <span class="p">{</span>\n      <span class="nl">collapseBooleanAttributes</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">collapseWhitespace</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">decodeEntities</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">minifyCSS</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">minifyJS</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">processConditionalComments</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">removeAttributeQuotes</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>\n      <span class="nx">removeComments</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>\n      <span class="nx">removeEmptyAttributes</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">removeOptionalTags</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">removeRedundantAttributes</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">removeScriptTypeAttributes</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>\n      <span class="nx">removeStyleLinkTypeAttributes</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>\n      <span class="nx">removeTagWhitespace</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>\n      <span class="nx">sortAttributes</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">sortClassName</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">trimCustomFragments</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>\n      <span class="nx">useShortDoctype</span><span class="p">:</span> <span class="kc">true</span>\n    <span class="p">},</span>\n  <span class="p">}</span>\n</pre></div>\n</div>\n\n<p>関連： <a href="https://nuxtjs.org/api/configuration-generate#minify" class="autolink" rel="nofollow noopener" target="_blank">https://nuxtjs.org/api/configuration-generate#minify</a></p>\n\n<h2>\n<span id="同ディレクトリ内に違うファイルを作成できない" class="fragment"></span><a href="#%E5%90%8C%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E5%86%85%E3%81%AB%E9%81%95%E3%81%86%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E4%BD%9C%E6%88%90%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84"><i class="fa fa-link"></i></a>同ディレクトリ内に違うファイルを作成できない</h2>\n\n<p>これは自分の知見不足なのかもしれませんが</p>\n\n<div class="code-frame" data-lang="text"><div class="highlight"><pre>pages\n├── index.vue\n└── one\n    ├── two.vue\n    └── index.vue\n</pre></div></div>\n\n<p>このような構成の場合に<code>generate</code>を動かすと</p>\n\n<div class="code-frame" data-lang="text"><div class="highlight"><pre>├── index.html\n└── one\n    ├── two\n    │   └── index.html\n    └── index.html\n\n</pre></div></div>\n\n<p>という感じで<code>one/two.html</code>というファイルは作成されません。この辺はrouterの設定次第なのかなと思いますが、少々不便です。</p>\n\n<h2>\n<span id="vuejsを前提としているための学習コスト他フレームワークで再利用ができない" class="fragment"></span><a href="#vuejs%E3%82%92%E5%89%8D%E6%8F%90%E3%81%A8%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE%E5%AD%A6%E7%BF%92%E3%82%B3%E3%82%B9%E3%83%88%E4%BB%96%E3%83%95%E3%83%AC%E3%83%BC%E3%83%A0%E3%83%AF%E3%83%BC%E3%82%AF%E3%81%A7%E5%86%8D%E5%88%A9%E7%94%A8%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84"><i class="fa fa-link"></i></a>Vue.jsを前提としているための学習コスト＆他フレームワークで再利用ができない</h2>\n\n<p>当たり前な部分ではありますが、<code>JavaScript</code>部分を動かすには多少なりとも<code>Vue.js</code>を理解しておく必要はあります。（個人的な感想ではありますが他のものと比較すれば理解はしやすいかなと思いますが）<br>\nまた、他のフレームワークやモジュールなどを利用することもできないので、もしVue.js以外のフレームワークを使っていたりするときは選定する技術にするかを考える必要はあるかなと思います。</p>\n\n<h2>\n<span id="まだまだ情報が少ないので知見を集め続けなければならない" class="fragment"></span><a href="#%E3%81%BE%E3%81%A0%E3%81%BE%E3%81%A0%E6%83%85%E5%A0%B1%E3%81%8C%E5%B0%91%E3%81%AA%E3%81%84%E3%81%AE%E3%81%A7%E7%9F%A5%E8%A6%8B%E3%82%92%E9%9B%86%E3%82%81%E7%B6%9A%E3%81%91%E3%81%AA%E3%81%91%E3%82%8C%E3%81%B0%E3%81%AA%E3%82%89%E3%81%AA%E3%81%84"><i class="fa fa-link"></i></a>まだまだ情報が少ないので知見を集め続けなければならない</h2>\n\n<p>公式日本語ドキュメントもある<code>Nuxt.js</code>なのですが、まだまだ出て日が浅いのもあるのと、制作事例も少ないため「こうするにはどうすればいい？」という情報共有がまだ少ないかなという印象です。<br>\n上述した不明点もすぐ調べてわかれば良いのですが多少のググり力がないと厳しいor見つからない場合もあるので、「こうしたときにどうすればいいのか？」というのを出来る限り埋めておかないと厳しいかなとは思います。<br>\n<a href="https://github.com/nuxt/nuxt.js/issues" rel="nofollow noopener" target="_blank">公式のIssue</a>などを眺めてみるとどうすればいいのかなどの話はちらほら見れます。</p>\n\n<h1>\n<span id="導入は難しいかもしれないが動かしてみる価値はある" class="fragment"></span><a href="#%E5%B0%8E%E5%85%A5%E3%81%AF%E9%9B%A3%E3%81%97%E3%81%84%E3%81%8B%E3%82%82%E3%81%97%E3%82%8C%E3%81%AA%E3%81%84%E3%81%8C%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B%E4%BE%A1%E5%80%A4%E3%81%AF%E3%81%82%E3%82%8B"><i class="fa fa-link"></i></a>導入は難しいかもしれないが、動かしてみる価値はある。</h1>\n\n<p>メリット面とデメリット面を自分なりに上げてみましたが、１つのプロジェクトを無事完結するためにはまだまだ難はあるかなと思います。もしかしたら、前よりも効率が落ちる可能性もあるかもしれません。ですが、動かしてみる価値はあるのではと思っています。</p>\n\n<p>今後<code>Nuxt.js</code>を使った案件として実績をあげるためにも、まずは個人的に動かしてみるのと、これまでに携わった案件でどこまで代用できるのか、というのを考えてみると良いのかなと思っています。そうすればどの点で有利でどの点で不利になるかが明確になるんじゃないかなと感じます。</p>\n\n<p>今回はマークアップの視点で考えてみましたが、SPAやSSRを簡単にやってみるなど「試してみたかったことをアレコレやってみる」最初のきっかけとしてはかなり導入の敷居が低いと思うので、どんどん利用者や利用実績が増えていけばいいなぁと感じています。</p>\n\n<p>以上長くなりましたがご覧いただきありがとうございました。明日（12/22）は<a href="/forestsource" class="user-mention js-hovercard" title="forestsource" data-hovercard-target-type="user" data-hovercard-target-name="forestsource">@forestsource</a>さんです。</p>\n',body:'この記事は[Vue.js #2 Advent Calendar 2017](https://qiita.com/advent-calendar/2017/vue2)の21日目の記事です。\n\n去年も参加させていただいたのですが、今年は４つもカレンダーが作成されてVue.jsの勢いすごいですね。\n\n今回、自分がこの記事で書く内容は特にテック的なことではなく、`Nuxt.js`への感想記事や思い出記事みたいなのになりますので、`Nuxt.js`の技術的な内容を期待していた方はすみません。こういった人間もいるのか程度にご覧いただけたら、という感じです。\n\n# テンプレートエンジン・プリプロセッサの多様化\n\nいきなり`Vue.js`、`Nuxt.js`という主題から脱線してしますがご了承ください。\n\nNode.jsというものが世に出てから、おそらく、宗教上の理由などを抜きにすれば、HTMLやCSSを素で書くことはなくなったと思います。いわゆるテンプレートエンジン・プリプロセッサの時代。\n\n人々はHTMLを`Pug`(`Jade`)で書いたり、CSSを`Less`、`Sass`、`Stylus`といったもので書くようになったおかげで作業効率は格段にあがったと思います。ここに各種タスクランナーを組み合わせれば更に恩恵を受けられるものになることでしょう。\n\nとくに`Pug`というものと出会って、マークアップエンジニアとしての自分は今までSSIやphpでの処理しかできなかった「共通化」部分を実現して静的に出力できるというのは感激ものでした。たとえば、\n\n```pug:_tmpl.pug\ndoctype html\nhtml(lang="ja")\n\thead\n\t\tmeta(charset="UTF-8")\n\t\tmeta(http-equiv="X-UA-Compatible" content="IE=edge")\n\t\tmeta(name="viewport" content="width=device-width, initial-scale=1")\n\tbody\n\t\tblock contents\n```\n\nみたいな感じにして\n\n```pug:index.pug\nextends _tmpl\n\nblock contents\n\th1 Hello World!\n```\n\nな感じで出力すると\n\n```html:index.html\n<!DOCTYPE html>\n<html lang="ja">\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<meta http-equiv="X-UA-Compatible" content="IE=edge">\n\t\t<meta name="viewport" content="width=device-width, initial-scale=1">\n\t</head>\n\t<body>\n\t\t<h1>Hello World!</h1>\n\t</body>\n</html>\n```\n\nみたいな感じになります。あとは変数での宣言も出来るので先程の`_tmpl.pug`に以下のように`param` という変数を設定して\n\n```pug:_tmpl.pug\ndoctype html\nhtml(lang="ja")\n\thead\n\t\tmeta(charset="UTF-8")\n\t\tmeta(http-equiv="X-UA-Compatible" content="IE=edge")\n\t\tmeta(name="viewport" content="width=device-width, initial-scale=1")\n\t\tblock param\n\t\ttitle #{title}\n\t\tmeta(name="description" value=description)\n\t\tmeta(name="keywords" value=keywords)\n\tbody\n\t\tblock contents\n```\n以下のようにして出力すると\n\n```pug:index.pug\nextends _tmpl\n\nblock param\n\t- var title = "なにかのサイト"\n\t- var keywords = "キーワード1, キーワード2, キーワード3";\n\t- var description = "なにかしらの説明";\n\nblock contents\n\th1 Hello World!\n```\n\nこんな感じで、ページ毎に共通のものと、そのページ独自のメタデータなどを静的ファイルとして入れ込むことができます。\n\n```html:index.html\n<!DOCTYPE html>\n<html lang="ja">\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<meta http-equiv="X-UA-Compatible" content="IE=edge">\n\t\t<meta name="viewport" content="width=device-width, initial-scale=1">\n\t\t<title>なにかのサイト</title>\n\t\t<meta name="keywords" content="キーワード1, キーワード2, キーワード3">\n\t\t<meta name="description" content="なにかしらの説明">\n\t</head>\n\t<body>\n\t\t<h1>Hello World!</h1>\n\t</body>\n</html>\n```\n\nこれを今まで手動ですべて管理していた身と考えれば革新的だったのがわかると思います。\n\n# フロントエンドとの境界線をどう超えるか問題\n自分がマークアップエンジニアとして仕事をしてからは、上記のようなテンプレートエンジンやプリプロセッサを駆使して業務を行っていたのですが、まれにJS開発におけるフロントエンド領域の仕事依頼がくることがあります。\n\nマークアップ上ではせいぜい`VanillaJs`や`jQuery`を使用して身軽なアニメーションや状態の管理などは行えました。しかしガッツリとしたフロントエンド業務であれば、様々なモジュールを駆使して、`npm`コマンドや`browserify`や`webpack`などを駆使してバリバリ開発しているわけで、そういったものを通常では使用しない人間にとっては、環境設定の時点で大きな障壁となっていたりします。\n\n自分自身としてもそうしたフロントへの境界線をどう飛び越えていくかについて思い悩みつつも、先人が敷いてくれた環境設定というレールの上で、どういう軌跡をおってきたかを逐一調べながらやるしかなかったので、いきなりバリバリと進められるわけでもなく、どうやって段階を追ってやっていけばいいのかをヤキモキしていた時期がありました。\n\n# Vue.jsとの出会い\n\nそんな自分でも何かうまく扱えるフレームワークはないかと調べてみた所、どうやらVue.jsというものが分かりやすいという情報を仕入れ、昨年に、稚拙ではありますが、SPAなるものを作り上げるところまでできました。[(去年の記事)](https://qiita.com/yamanoku/items/41df5c05c5c89714ea3c)\n\nなるほどこうして動かせるのかと理解を進めるのと同時に、「[vue-cli](https://github.com/vuejs/vue-cli)」というコマンドラインから簡単にプロジェクトを作れるものを知って、参入障壁というかどうやっていけばいいのかの理解を進めるのにはもってこいでした。\n\nもちろん他のフレームワークでも近しいものがあるかもですが、フレームワークの明快さと馴染みのある感じ、そして`vue-cli`という存在において、`Vue.js`は自分にとって道を切り開いてくれる開拓者のような存在でした。\n\n# Nuxt.jsを知る\nそんな中、`Vue.js`からの派生フレームワークで今年バージョン1.0がリリースされた`Nuxt.js`というものの存在を知りました。\n\n[![Screenshot from Gyazo](https://gyazo.com/0a683b30754e8e77285eb23fd5230cb0/raw)](https://gyazo.com/0a683b30754e8e77285eb23fd5230cb0)\n\n最初は`Vue.js`を使ってSPAやSSRといった開発が容易にできる！といった評判を聞いており、自分は「へ〜こういうのがリリースされたのね」という感覚で受け取っていて、あとで触ってみるかなーという感じで、知った当時はそれほど興味なりはそこまでといった感じでした。\n\n時は変わって10月某日、さくらインターネットさんに開催していただいた「[さくらの夕べ　「さくらインターネットのエンジニアは Vue.js をこんな風につかってます](https://connpass.com/event/67740/)」にVue.js関連の話をやるとのことで参加してきました。=> ([レポート記事](http://yamanoku.hatenablog.com/entry/2017/10/31/%E3%80%8C%E3%81%95%E3%81%8F%E3%82%89%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%8D%E3%83%83%E3%83%88%E3%81%AE%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%AF_Vue_js_%E3%82%92%E3%81%93%E3%82%93))\n\nその中で@esukeiさんがNuxt.jsに関連してを紹介していただいたのですが、ひとつ自分の中で引っかかったとある機能がありました。\n\nそれは **静的ファイルを出力する** という`nuxt generate`コマンドがあるということでした。そしてそれをもとにウェブサイトを作れるのではないか？という内容をおっしゃられていました。\n\n先述したように、これまでマークアップエンジニアとしての私は各種テンプレートエンジンやプリプロセッサ、そしてタスクランナーを使い業務を行っていました。\n\nそれはそれで問題なかったのですが、**CSSの管理問題**や**コンポーネントとしての共通化**、そして**JS部分との連携**も考えねばならないのに、それぞれを別個として出力させて、合わせたときにどうなるかを考えなければならなかったというのがあります。\nそういった部分を解消しうる静的なマークアップ環境が整う都合のいいものは何か無いだろうか…と考えていました。\n\nその問題をおおよそ解決しうるプロダクトとして`Nuxt.js`、そして`nuxt generate`というものがなのではないか、と感じました。\n\n# Nuxt.jsの良さそうな所\n## ディレクトリ構成が明瞭的\nNuxt.jsは取っ組みやすい[スターターキット](https://github.com/nuxt-community/starter-template)を用意してくれているスグレモノで`vue-cli`を使えるようにして以下で作成できます。\n\n```zsh\n$ vue init nuxt-community/starter-template test\n```\n```zsh\n? Project name test\n? Project description Nuxt.js project\n? Author yamanoku <0910yama@gmail.com>\n\n   vue-cli · Generated "test".\n\n   To get started:\n\n     cd test\n     npm install # Or yarn\n     npm run dev\n```\n\nで上記プロジェクト名やプロジェクト説明、著者の入力をエンターでタンタンターンッとやって、作成したディレクトリ（上記で言うとtest）に移動するとこのような構成になっています。\n\n```zsh\n├── assets\n├── components\n├── layouts\n├── middleware\n├── pages\n├── plugins\n├── static\n└── store\n```\nディレクトリの詳細は[公式ページ](https://ja.nuxtjs.org/guide/directory-structure)を参照いただければ、と思いますが、単純にページのみをつくる想定で考えると、\n\n```zsh\n├── components（パーツ集）\n├── pages（ページ単位）\n└── static（画像ほか静的なファイル置き場）\n```\n\n最悪これだけでもページ作れると思います。必要なものは適時追加いただければという感じで。\n\nここで良いなと感じる部分は**どこに何を担当しているのかを一見して分かりやすい**というのがあります。なのでこれはここに入れておくというルールも固定化できると思います。\n\n## 詳細な環境構築が不要\nここから開発をはじめるにあたり、まず`npm i`か`yarn`でモジュール一覧をダウンロードするのですが、通常であれば`webpack`だったり`gulp`なりのビルドツールやタスクランナーを設定することがあると思いますがそれらは不要です。\n\n必要なモジュールほかは`npm i -D`や`yarn add -D`で追加して`import`などで導入できるのですが、ここからCSSフレームワークなども簡単に設定することができます。例えば\n\n```\nyarn add -D bulma\n```\nこのように追加した後に、以下`nuxt.config.js`に以下を追記すると、\n\n```nuxt.config.js\nmodule.exports = {\n  head: {\n    css: [\n      \'bulma/css/bulma.css\'\n    ],\n  }\n}\n```\n\n全ページ共通で`bulma.css`が使えます。\n\n## １ソース完結、scoped CSS革命\n`Vue.js`をベースとしているので、１ソースの中で、`html`、`css`、`JavaScript`をそれぞれ書ける利点があります。さらに、`html`には`pug`と`css`には`sass`、`less`、`stylus`のプリプロセッサ言語も使用できちゃいます。\nコンポーネント設計やAtomicDesignにおける個々のパーツを管理する設計思想が流行ってはいますが、`Nuxt.js`はそれを実現しやすいものだと思っています。\n\nそしてCSS管理においては`scoped CSS`を使用すると、コンポーネントやレイアウト、ページ単体のCSS管理ができます。\n\n[![Screenshot from Gyazo](https://gyazo.com/3ba66219ffec42b5e34e50a659d165f4/raw)](https://gyazo.com/3ba66219ffec42b5e34e50a659d165f4)\n\nこうすると\n\n[![Screenshot from Gyazo](https://gyazo.com/a72042dcd05dfb09e4b085f427e1cf95/raw)](https://gyazo.com/a72042dcd05dfb09e4b085f427e1cf95)\n\nクラスにユニーク名が付与されてこういうことができます（画像のはNuxt.jsではないのですがイメージとして）。\n\n@yasshさん投稿による「[vue-loaderのScoped CSSのスタイルが子コンポーネントのルート要素に効いてしまって辛い](https://qiita.com/yassh/items/7fb75904de19ff3bd3e8)」といった仕様の問題もありますが、使いこなせば強力な武器になるのではないかなと思います。\n\n## ES6/ES7も対応できる＆トラインスパイルしてくれる\nJavaScriptのナウい書き方にもバベルで対応しているので、レガシーな書き方からも脱せそうです。\n\n## `<head>`情報も簡単に設定できる\nこうしたJSフレームワークにおいて、`meta`情報などの`head`要素を弄るのはあまり情報がなかった、bundleされたjsを置くindex.htmlに設定するだけと思うのですが、共通であったり各種ページでの個別設定も簡易的にできます。\n\n先程登場した`nuxt.config.js`で以下設定できます。\n\n```nuxt.config.js\nmodule.exports = {\n  head: {\n    title: \'test\', // <title>部分\n    meta: [ // metaタグ関連\n      { charset: \'utf-8\' },\n      { name: \'viewport\', content: \'width=device-width, initial-scale=1\' },\n      { hid: \'description\', name: \'description\', content: \'説明文説明文\' }\n    ],\n    link: [ //linkタグ関連\n      { rel: \'icon\', type: \'image/x-icon\', href: \'/favicon.ico\' }\n    ]\n  }\n}\n```\n\nさらに個別ページでは以下のような個別設定も可能です。\n\n```html\n<template>\n  <h1>{{ title }}</h1> \x3c!-- => <h1>Hello World!</h1> --\x3e\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      title: \'Hello World!\'\n    }\n  },\n  head () {\n    return {\n      title: this.title, // => <title>Hello World!</title>\n      meta: [\n        { hid: \'description\', name: \'description\', content: \'My custom description\' }\n        // => <meta name="description" content="My custom description">\n      ]\n    }\n  }\n}\n<\/script>\n```\n\n## PWA化も楽々導入。\n話題のPWAに関しても`pwa-module`を追加すると利用できちゃいます。以下manifest設定とicon.pngを`static`に追加しておくと簡単に作成できます。\n\n```nuxt.config.js\nmodule.exports = {\n  modules: [\'@nuxtjs/pwa\'],\n  manifest: {\n    name: \'testApp\',\n    short_name: \'shortName\',\n    title: \'test\',\n    \'og:title\': \'ogtest\',\n    description: \'appDescription\',\n    \'og:description\': \'ogDescription\',\n    lang: \'ja\',\n    theme_color: \'#ffffff\',\n    background_color: \'#ffffff\'\n  }\n  workbox: {\n    dev: true, //開発でもPWAができる\n  }\n}\n```\nこれでオフラインでも確認できる静的ページを作成できちゃいます。\n\n# Nuxt.jsの悩ましい所\n上述した点はプロダクトを利用する面で良さ気なところでしたが、すぐに導入するには難しいところもあります。\n\n## minifyされる点\n`yarn generate`で`dist`ディレクトリが作成されると、生成された`html`は基本minifyされています。\nそのままでよければいいのですが、出力されたファイルを確認したいときに可読性がわるくブラウザのデベロッパーツールでminify解除するなどしないと階層化されている内容をみれないです。\nどうやらminify制御は`nuxt.config.js`内では`html-minifer`を使用しているので`generate`内で以下のように設定してみると多少なりの制御はできるみたいです。ただ思い通りの調整をするにはもう少し調査が要りそうです。\n\n```nuxt.config.js\n  generate: {\n    minify: {\n      collapseBooleanAttributes: true,\n      collapseWhitespace: true,\n      decodeEntities: true,\n      minifyCSS: true,\n      minifyJS: true,\n      processConditionalComments: true,\n      removeAttributeQuotes: false,\n      removeComments: false,\n      removeEmptyAttributes: true,\n      removeOptionalTags: true,\n      removeRedundantAttributes: true,\n      removeScriptTypeAttributes: false,\n      removeStyleLinkTypeAttributes: false,\n      removeTagWhitespace: false,\n      sortAttributes: true,\n      sortClassName: true,\n      trimCustomFragments: true,\n      useShortDoctype: true\n    },\n  }\n```\n関連： https://nuxtjs.org/api/configuration-generate#minify\n\n## 同ディレクトリ内に違うファイルを作成できない\nこれは自分の知見不足なのかもしれませんが\n\n```\npages\n├── index.vue\n└── one\n    ├── two.vue\n    └── index.vue\n```\nこのような構成の場合に`generate`を動かすと\n\n```\n├── index.html\n└── one\n    ├── two\n    │   └── index.html\n    └── index.html\n\n```\nという感じで`one/two.html`というファイルは作成されません。この辺はrouterの設定次第なのかなと思いますが、少々不便です。\n\n## Vue.jsを前提としているための学習コスト＆他フレームワークで再利用ができない\n当たり前な部分ではありますが、`JavaScript`部分を動かすには多少なりとも`Vue.js`を理解しておく必要はあります。（個人的な感想ではありますが他のものと比較すれば理解はしやすいかなと思いますが）\nまた、他のフレームワークやモジュールなどを利用することもできないので、もしVue.js以外のフレームワークを使っていたりするときは選定する技術にするかを考える必要はあるかなと思います。\n\n## まだまだ情報が少ないので知見を集め続けなければならない\n公式日本語ドキュメントもある`Nuxt.js`なのですが、まだまだ出て日が浅いのもあるのと、制作事例も少ないため「こうするにはどうすればいい？」という情報共有がまだ少ないかなという印象です。\n上述した不明点もすぐ調べてわかれば良いのですが多少のググり力がないと厳しいor見つからない場合もあるので、「こうしたときにどうすればいいのか？」というのを出来る限り埋めておかないと厳しいかなとは思います。\n[公式のIssue](https://github.com/nuxt/nuxt.js/issues)などを眺めてみるとどうすればいいのかなどの話はちらほら見れます。\n\n# 導入は難しいかもしれないが、動かしてみる価値はある。\nメリット面とデメリット面を自分なりに上げてみましたが、１つのプロジェクトを無事完結するためにはまだまだ難はあるかなと思います。もしかしたら、前よりも効率が落ちる可能性もあるかもしれません。ですが、動かしてみる価値はあるのではと思っています。\n\n今後`Nuxt.js`を使った案件として実績をあげるためにも、まずは個人的に動かしてみるのと、これまでに携わった案件でどこまで代用できるのか、というのを考えてみると良いのかなと思っています。そうすればどの点で有利でどの点で不利になるかが明確になるんじゃないかなと感じます。\n\n今回はマークアップの視点で考えてみましたが、SPAやSSRを簡単にやってみるなど「試してみたかったことをアレコレやってみる」最初のきっかけとしてはかなり導入の敷居が低いと思うので、どんどん利用者や利用実績が増えていけばいいなぁと感じています。\n\n以上長くなりましたがご覧いただきありがとうございました。明日（12/22）は@forestsourceさんです。\n',coediting:a,comments_count:2,created_at:"2017-12-21T00:17:40+09:00",group:n,id:"5a42028d45e7b9931161",likes_count:90,private:a,reactions_count:0,tags:[{name:G,versions:[]},{name:H,versions:[]}],title:"マークアップエンジニアから見たNuxt.jsの可能性",updated_at:"2017-12-21T09:45:06+09:00",url:"https://qiita.com/yamanoku/items/5a42028d45e7b9931161",user:{description:z,facebook_id:s,followees_count:5,followers_count:j,github_login_name:s,id:s,items_count:C,linkedin_id:s,location:x,name:k,organization:E,permanent_id:F,profile_image_url:A,team_only:a,twitter_screen_name:s,website_url:w},page_views_count:n},{rendered_body:'\n<h1>\n<span id="経緯" class="fragment"></span><a href="#%E7%B5%8C%E7%B7%AF"><i class="fa fa-link"></i></a>経緯</h1>\n\n<p>Qiitaがサイトリニューアルされて、記事内のコード部分の色がガラッと変わり、個人的に見づらかったのでなんとか変えたかった。</p>\n\n<p>メインブラウザがChromeなのでExtensionで自動的に変わるみたいなのがあったらいいなと思って作った。突発的に作って、個人的に使う程度のものなのでストアには登録してません。</p>\n\n<h1>\n<span id="内容" class="fragment"></span><a href="#%E5%86%85%E5%AE%B9"><i class="fa fa-link"></i></a>内容</h1>\n\n<p>やってることは至極簡単で、読み込まれたら<code>&lt;/head&gt;</code>の直前にオーバーライドされたCSSを読み込むようにしているだけ。</p>\n\n<div class="code-frame" data-lang="javascript">\n<div class="code-lang"><span class="bold">script.js</span></div>\n<div class="highlight"><pre><span class="nb">document</span><span class="p">.</span><span class="nx">head</span><span class="p">.</span><span class="nx">insertAdjacentHTML</span><span class="p">(</span><span class="dl">\'</span><span class="s1">beforeend</span><span class="dl">\'</span><span class="p">,</span>\n    <span class="dl">\'</span><span class="s1">&lt;link rel="stylesheet" type="text/css" href="</span><span class="dl">\'</span> <span class="o">+</span> <span class="nx">chrome</span><span class="p">.</span><span class="nx">runtime</span><span class="p">.</span><span class="nx">getURL</span><span class="p">(</span><span class="dl">"</span><span class="s2">style.css</span><span class="dl">"</span><span class="p">)</span> <span class="o">+</span> <span class="dl">\'</span><span class="s1">"&gt;</span><span class="dl">\'</span>\n<span class="p">);</span>\n</pre></div>\n</div>\n\n<p><code>manifest.json</code>で以下の設定するのがミソっぽいです</p>\n\n<div class="code-frame" data-lang="json">\n<div class="code-lang"><span class="bold">manifest.json</span></div>\n<div class="highlight"><pre><span class="p">{</span><span class="w">\n  </span><span class="nl">"web_accessible_resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">\n    </span><span class="s2">"style.css"</span><span class="w">\n  </span><span class="p">]</span><span class="w">\n</span><span class="p">}</span><span class="w">\n</span></pre></div>\n</div>\n\n<h1>\n<span id="デモ" class="fragment"></span><a href="#%E3%83%87%E3%83%A2"><i class="fa fa-link"></i></a>デモ</h1>\n\n<p><a href="https://gyazo.com/923e0fd8f4151121597121378f848b9d" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F923e0fd8f4151121597121378f848b9d.gif?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=8a656175112b03e669a133f8ad81639a" alt="https://gyazo.com/923e0fd8f4151121597121378f848b9d" data-canonical-src="https://i.gyazo.com/923e0fd8f4151121597121378f848b9d.gif" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F923e0fd8f4151121597121378f848b9d.gif?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=e4d50e3536d854b7dc8e2418b711edc1 1x" loading="lazy"></a></p>\n\n<p>ラグありますが、読み込み完了したら反映みたいな感じです。</p>\n\n<h1>\n<span id="github" class="fragment"></span><a href="#github"><i class="fa fa-link"></i></a>Github</h1>\n\n<p><a href="https://github.com/yamanoku/Qiita_Code-Style_Before" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/yamanoku/Qiita_Code-Style_Before</a><br>\nここからクローンなりダウンロードでディレクトリ落としてもらってデベロッパーモードで追加してください。いらんかったら削除ください。</p>\n\n<p>自分がよく見る分は補完してますがこの言語のここが対応していないなどあったらIssueかプルリクでもおなしゃす。</p>\n\n<h1>\n<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h1>\n\n<ul>\n<li><a href="https://qiita.com/sqrtxx/items/19fd2114430e9e1fb57f" class="autolink" id="reference-f0c25572ff4c05fd5b2d">https://qiita.com/sqrtxx/items/19fd2114430e9e1fb57f</a></li>\n<li><a href="https://developer.chrome.com/extensions/manifest/web_accessible_resources" class="autolink" rel="nofollow noopener" target="_blank">https://developer.chrome.com/extensions/manifest/web_accessible_resources</a></li>\n<li><a href="https://developer.mozilla.org/ja/Add-ons/WebExtensions/manifest.json/web_accessible_resources" class="autolink" rel="nofollow noopener" target="_blank">https://developer.mozilla.org/ja/Add-ons/WebExtensions/manifest.json/web_accessible_resources</a></li>\n</ul>\n',body:'# 経緯\nQiitaがサイトリニューアルされて、記事内のコード部分の色がガラッと変わり、個人的に見づらかったのでなんとか変えたかった。\n\nメインブラウザがChromeなのでExtensionで自動的に変わるみたいなのがあったらいいなと思って作った。突発的に作って、個人的に使う程度のものなのでストアには登録してません。\n\n# 内容\nやってることは至極簡単で、読み込まれたら`</head>`の直前にオーバーライドされたCSSを読み込むようにしているだけ。\n\n```script.js\ndocument.head.insertAdjacentHTML(\'beforeend\',\n    \'<link rel="stylesheet" type="text/css" href="\' + chrome.runtime.getURL("style.css") + \'">\'\n);\n```\n\n`manifest.json`で以下の設定するのがミソっぽいです\n\n``` manifest.json\n{\n  "web_accessible_resources": [\n    "style.css"\n  ]\n}\n```\n\n# デモ\n[![https://gyazo.com/923e0fd8f4151121597121378f848b9d](https://i.gyazo.com/923e0fd8f4151121597121378f848b9d.gif)](https://gyazo.com/923e0fd8f4151121597121378f848b9d)\n\nラグありますが、読み込み完了したら反映みたいな感じです。\n\n# Github\nhttps://github.com/yamanoku/Qiita_Code-Style_Before\nここからクローンなりダウンロードでディレクトリ落としてもらってデベロッパーモードで追加してください。いらんかったら削除ください。\n\n自分がよく見る分は補完してますがこの言語のここが対応していないなどあったらIssueかプルリクでもおなしゃす。\n\n# 参考\n\n- https://qiita.com/sqrtxx/items/19fd2114430e9e1fb57f\n- https://developer.chrome.com/extensions/manifest/web_accessible_resources\n- https://developer.mozilla.org/ja/Add-ons/WebExtensions/manifest.json/web_accessible_resources\n',coediting:a,comments_count:1,created_at:"2017-12-02T22:44:22+09:00",group:n,id:"da159c2c12aa68f7586f",likes_count:6,private:a,reactions_count:0,tags:[{name:"Qiita",versions:[]},{name:V,versions:[]},{name:"chrome-extension",versions:[]}],title:"Qiita記事のコードスタイル部分を以前のやつに戻すChrome Extension作った",updated_at:"2017-12-04T11:48:22+09:00",url:"https://qiita.com/yamanoku/items/da159c2c12aa68f7586f",user:{description:z,facebook_id:s,followees_count:5,followers_count:j,github_login_name:s,id:s,items_count:C,linkedin_id:s,location:x,name:k,organization:E,permanent_id:F,profile_image_url:A,team_only:a,twitter_screen_name:s,website_url:w},page_views_count:n},{rendered_body:'<p>小ネタ。<br>\nCSSでの画像指定の仕方がイマイチわからずwebpack上でなんとかするのかと思っていました。</p>\n\n<h1>\n<span id="解決法" class="fragment"></span><a href="#%E8%A7%A3%E6%B1%BA%E6%B3%95"><i class="fa fa-link"></i></a>解決法</h1>\n\n<p>単純に<strong>「静的ディレクトリから参照してくる」</strong>というのを設定してあげればいいだけの話でした。</p>\n\n<h2>\n<span id="指定方法" class="fragment"></span><a href="#%E6%8C%87%E5%AE%9A%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>指定方法</h2>\n\n<p><a href="https://storybook.js.org/configurations/default-config/#image-and-static-file-support" class="autolink" rel="nofollow noopener" target="_blank">https://storybook.js.org/configurations/default-config/#image-and-static-file-support</a></p>\n\n<blockquote>\n<p>storybook also has a way to mention static directories via the -s option of the start-storybook and build-storybook commands.</p>\n</blockquote>\n\n<div class="code-frame" data-lang="text"><div class="highlight"><pre>-s {static directories}\n</pre></div></div>\n\n<p><code>-s</code>オプションを追加して指定の静的ディレクトリを指定してあげるだけ。ね、簡単でしょ。</p>\n\n<h3>\n<span id="dist-がoutput先だとしている場合" class="fragment"></span><a href="#dist-%E3%81%8Coutput%E5%85%88%E3%81%A0%E3%81%A8%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a><code>./dist</code> がoutput先だとしている場合</h3>\n\n<div class="code-frame" data-lang="json">\n<div class="code-lang"><span class="bold">package.json</span></div>\n<div class="highlight"><pre><span class="s2">"scripts"</span><span class="w"> </span><span class="p">{</span><span class="w">\n   </span><span class="nl">"storybook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start-storybook -p 6006 -s ./dist"</span><span class="w">  \n</span><span class="p">}</span><span class="w">\n</span></pre></div>\n</div>\n\n<p>こんな感じになります。</p>\n\n<h2>\n<span id="動かしてみる" class="fragment"></span><a href="#%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B"><i class="fa fa-link"></i></a>動かしてみる</h2>\n\n<div class="code-frame" data-lang="bash"><div class="highlight"><pre>yarn storybook\n</pre></div></div>\n\n<p>動かしてみて、以下ルートのディレクトリから画像を取得すると想定します。</p>\n\n<div class="code-frame" data-lang="text"><div class="highlight"><pre>dist/\n└── img/ \n    └── ic-arrow_right.png  &lt; これ\n</pre></div></div>\n\n<h3>\n<span id="コード例" class="fragment"></span><a href="#%E3%82%B3%E3%83%BC%E3%83%89%E4%BE%8B"><i class="fa fa-link"></i></a>コード例</h3>\n\n<div class="code-frame" data-lang="ts">\n<div class="code-lang"><span class="bold">hoge.tsx</span></div>\n<div class="highlight"><pre><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">react</span><span class="dl">\'</span><span class="p">;</span>\n\n<span class="k">export</span> <span class="kd">class</span> <span class="nx">Hogehoge</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>\n  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>\n    <span class="k">return</span> <span class="p">(</span>\n      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">hogehoge</span><span class="dl">"</span><span class="o">&gt;</span><span class="err">画像が見れる</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;\n</span>    <span class="p">);</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="css">\n<div class="code-lang"><span class="bold">hoge.css</span></div>\n<div class="highlight"><pre><span class="nc">.hogehoge</span> <span class="p">{</span>\n  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>\n  <span class="nl">height</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>\n  <span class="nl">background-image</span><span class="p">:</span> <span class="sx">url(\'/img/ic-arrow_back.png\')</span><span class="p">;</span> <span class="c">/* 画像指定 */</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<h3>\n<span id="結果" class="fragment"></span><a href="#%E7%B5%90%E6%9E%9C"><i class="fa fa-link"></i></a>結果</h3>\n\n<p><a href="https://gyazo.com/e8336990759c1b762050251c0c7fe510" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fe8336990759c1b762050251c0c7fe510.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=a58b28288e8728040beeafce17f70770" alt="https://gyazo.com/e8336990759c1b762050251c0c7fe510" data-canonical-src="https://i.gyazo.com/e8336990759c1b762050251c0c7fe510.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fe8336990759c1b762050251c0c7fe510.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=3ba409521b1fb4ecd1315612f5364f04 1x" loading="lazy"></a></p>\n\n<p>ちなみに <code>&lt;img&gt;</code> のsrc読み込みでも同じこと出来ます。</p>\n\n<div class="code-frame" data-lang="ts">\n<div class="code-lang"><span class="bold">hoge.tsx</span></div>\n<div class="highlight"><pre><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">react</span><span class="dl">\'</span><span class="p">;</span>\n\n<span class="k">export</span> <span class="kd">class</span> <span class="nx">Hogehoge</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>\n  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>\n    <span class="k">return</span> <span class="p">(</span>\n      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">hogehoge</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">/img/ic-arrow_back.png</span><span class="dl">"</span> <span class="o">/&gt;</span><span class="err">画像が見れる</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;\n</span>    <span class="p">);</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n\n</pre></div>\n</div>\n\n<p><a href="https://gyazo.com/c5174a5a6a99b4d7570ca7c5e8080ecf" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fc5174a5a6a99b4d7570ca7c5e8080ecf.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=50ee0f5a20d2628786799d02d922fb14" alt="https://gyazo.com/c5174a5a6a99b4d7570ca7c5e8080ecf" data-canonical-src="https://i.gyazo.com/c5174a5a6a99b4d7570ca7c5e8080ecf.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fc5174a5a6a99b4d7570ca7c5e8080ecf.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=e138003456687cdcd0d90f87d3c8f67f 1x" loading="lazy"></a></p>\n\n<h2>\n<span id="参考url" class="fragment"></span><a href="#%E5%8F%82%E8%80%83url"><i class="fa fa-link"></i></a>参考URL</h2>\n\n<ul>\n<li><a href="https://storybook.js.org/configurations/serving-static-files/#2-via-a-directory" class="autolink" rel="nofollow noopener" target="_blank">https://storybook.js.org/configurations/serving-static-files/#2-via-a-directory</a></li>\n<li><a href="https://github.com/storybooks/storybook/issues/37#issuecomment-205744157" class="autolink" rel="nofollow noopener" target="_blank">https://github.com/storybooks/storybook/issues/37#issuecomment-205744157</a></li>\n</ul>\n',body:'小ネタ。\nCSSでの画像指定の仕方がイマイチわからずwebpack上でなんとかするのかと思っていました。\n\n# 解決法\n\n単純に**「静的ディレクトリから参照してくる」**というのを設定してあげればいいだけの話でした。\n\n## 指定方法\n\nhttps://storybook.js.org/configurations/default-config/#image-and-static-file-support\n\n> storybook also has a way to mention static directories via the -s option of the start-storybook and build-storybook commands.\n\n```\n-s {static directories}\n```\n\n`-s`オプションを追加して指定の静的ディレクトリを指定してあげるだけ。ね、簡単でしょ。\n\n### `./dist` がoutput先だとしている場合\n\n```json:package.json\n"scripts" {\n   "storybook": "start-storybook -p 6006 -s ./dist"  \n}\n```\nこんな感じになります。\n\n## 動かしてみる\n\n```zsh\nyarn storybook\n```\n動かしてみて、以下ルートのディレクトリから画像を取得すると想定します。\n\n```\ndist/\n└── img/ \n    └── ic-arrow_right.png  < これ\n```\n\n### コード例\n\n```ts:hoge.tsx\nimport * as React from \'react\';\n\nexport class Hogehoge extends React.Component {\n  render() {\n    return (\n      <div className="hogehoge">画像が見れる</div>\n    );\n  }\n}\n\n```\n\n```css:hoge.css\n.hogehoge {\n  width: 100%;\n  height: 30px;\n  background-image: url(\'/img/ic-arrow_back.png\'); /* 画像指定 */\n}\n```\n\n### 結果\n\n[![https://gyazo.com/e8336990759c1b762050251c0c7fe510](https://i.gyazo.com/e8336990759c1b762050251c0c7fe510.png)](https://gyazo.com/e8336990759c1b762050251c0c7fe510)\n\nちなみに `<img>` のsrc読み込みでも同じこと出来ます。\n\n\n```ts:hoge.tsx\nimport * as React from \'react\';\n\nexport class Hogehoge extends React.Component {\n  render() {\n    return (\n      <div className="hogehoge"><img src="/img/ic-arrow_back.png" />画像が見れる</div>\n    );\n  }\n}\n\n```\n[![https://gyazo.com/c5174a5a6a99b4d7570ca7c5e8080ecf](https://i.gyazo.com/c5174a5a6a99b4d7570ca7c5e8080ecf.png)](https://gyazo.com/c5174a5a6a99b4d7570ca7c5e8080ecf)\n\n\n## 参考URL\n- https://storybook.js.org/configurations/serving-static-files/#2-via-a-directory\n- https://github.com/storybooks/storybook/issues/37#issuecomment-205744157\n',coediting:a,comments_count:0,created_at:ua,group:n,id:"5c20c76a51ffe13c730e",likes_count:4,private:a,reactions_count:0,tags:[{name:V,versions:[]},{name:"package.json",versions:[]},{name:"storybook",versions:[]}],title:"StorybookでCSSに画像を指定をしたい時",updated_at:ua,url:"https://qiita.com/yamanoku/items/5c20c76a51ffe13c730e",user:{description:z,facebook_id:s,followees_count:5,followers_count:j,github_login_name:s,id:s,items_count:C,linkedin_id:s,location:x,name:k,organization:E,permanent_id:F,profile_image_url:A,team_only:a,twitter_screen_name:s,website_url:w},page_views_count:n},{rendered_body:'\n<h1>\n<span id="概要" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81"><i class="fa fa-link"></i></a>概要</h1>\n\n<p>vue.jsで作ったプロジェクトを<a href="https://codeclimate.com/" rel="nofollow noopener" target="_blank">CodeClimate</a>で試そうと思ったのだけれど、<br>\n通常時では <code>.vue</code> ファイルはCodeClimateの判定に入らない。</p>\n\n<p><a href="https://gyazo.com/3b6d92ed3d572446412316149a671855" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F3b6d92ed3d572446412316149a671855.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=e30e6afa98eebf497f48a7e73f54de8d" alt="https://gyazo.com/3b6d92ed3d572446412316149a671855" data-canonical-src="https://i.gyazo.com/3b6d92ed3d572446412316149a671855.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F3b6d92ed3d572446412316149a671855.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=c6ff7eaac78806bba81bdc269332cdd4 1x" loading="lazy"></a></p>\n\n<h1>\n<span id="解決" class="fragment"></span><a href="#%E8%A7%A3%E6%B1%BA"><i class="fa fa-link"></i></a>解決</h1>\n\n<h2>\n<span id="公式ドキュメント" class="fragment"></span><a href="#%E5%85%AC%E5%BC%8F%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88"><i class="fa fa-link"></i></a>公式ドキュメント</h2>\n\n<p><a href="https://docs.codeclimate.com/v1.0/docs/eslint#section-extensions" class="autolink" rel="nofollow noopener" target="_blank">https://docs.codeclimate.com/v1.0/docs/eslint#section-extensions</a></p>\n\n<blockquote>\n\n<h1>\n<span id="extensions" class="fragment"></span><a href="#extensions"><i class="fa fa-link"></i></a>Extensions</h1>\n\n<p>You can configure our ESLint Engine to analyze the file types you’d like by configuring the extensions in your <code>.codeclimate.yml</code> , as shown in the example below:</p>\n</blockquote>\n\n<div class="code-frame" data-lang="yaml">\n<div class="code-lang"><span class="bold">.codeclimate.yml</span></div>\n<div class="highlight"><pre><span class="na">eslint</span><span class="pi">:</span>\n  <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>\n  <span class="na">config</span><span class="pi">:</span>\n    <span class="na">extensions</span><span class="pi">:</span>\n    <span class="pi">-</span> <span class="s">.es6</span>\n    <span class="pi">-</span> <span class="s">.js</span>\n    <span class="pi">-</span> <span class="s">.jsx</span>\n\n<span class="na">ratings</span><span class="pi">:</span>\n   <span class="na">paths</span><span class="pi">:</span>\n   <span class="pi">-</span> <span class="s2">"</span><span class="s">**.es6"</span>\n   <span class="pi">-</span> <span class="s2">"</span><span class="s">**.js"</span>\n   <span class="pi">-</span> <span class="s2">"</span><span class="s">**.jsx"</span>\n\n</pre></div>\n</div>\n\n<p>eslintエンジンに対応するように、こういう感じで追加していけとのこと。</p>\n\n<h2>\n<span id="codeclimateyml" class="fragment"></span><a href="#codeclimateyml"><i class="fa fa-link"></i></a><code>.codeclimate.yml</code>\n</h2>\n\n<p>以下をプロジェクトルートに追加、pushする。</p>\n\n<div class="code-frame" data-lang="yaml">\n<div class="code-lang"><span class="bold">.codeclimate.yml</span></div>\n<div class="highlight"><pre><span class="nn">---</span>\n<span class="na">engines</span><span class="pi">:</span>\n  <span class="na">duplication</span><span class="pi">:</span>\n    <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>\n    <span class="na">config</span><span class="pi">:</span>\n      <span class="na">languages</span><span class="pi">:</span>\n      <span class="pi">-</span> <span class="s">javascript</span>\n      <span class="na">extensions</span><span class="pi">:</span>\n      <span class="pi">-</span> <span class="s">.js</span>\n      <span class="pi">-</span> <span class="s">.vue</span>\n<span class="na">ratings</span><span class="pi">:</span>\n  <span class="na">paths</span><span class="pi">:</span>\n  <span class="pi">-</span> <span class="s2">"</span><span class="s">**.js"</span>\n  <span class="pi">-</span> <span class="s2">"</span><span class="s">**.vue"</span>\n</pre></div>\n</div>\n\n<h2>\n<span id="リポジトリを追加する" class="fragment"></span><a href="#%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>リポジトリを追加する</h2>\n\n<p><a href="https://gyazo.com/d7b3f4fefe8bd36f1728c77524f5ad18" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fd7b3f4fefe8bd36f1728c77524f5ad18.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=b988a91545d859572c3f0b3db9b65533" alt="https://gyazo.com/d7b3f4fefe8bd36f1728c77524f5ad18" data-canonical-src="https://i.gyazo.com/d7b3f4fefe8bd36f1728c77524f5ad18.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2Fd7b3f4fefe8bd36f1728c77524f5ad18.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=7fe68b33523d6c72e122a045e8e05d02 1x" loading="lazy"></a></p>\n\n<p>「Open sourse」 → 「Add a repository」 で移動して、対象のリポジトリを追加する。</p>\n\n<p><a href="https://gyazo.com/723ddf55036630f0a108a0d11d155e5e" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F723ddf55036630f0a108a0d11d155e5e.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=012f9d4f2ce5c4997e8ee71d1c7e0b28" alt="https://gyazo.com/723ddf55036630f0a108a0d11d155e5e" data-canonical-src="https://i.gyazo.com/723ddf55036630f0a108a0d11d155e5e.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F723ddf55036630f0a108a0d11d155e5e.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=b68ba9430164d74e39ac7acb5ca5ca40 1x" loading="lazy"></a></p>\n\n<p>判定、通過しているか確認。</p>\n\n<h2>\n<span id="結果" class="fragment"></span><a href="#%E7%B5%90%E6%9E%9C"><i class="fa fa-link"></i></a>結果</h2>\n\n<p><a href="https://gyazo.com/12753c13ba022e6e4fe5504fc17ac2d2" rel="nofollow noopener" target="_blank"><img src="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F12753c13ba022e6e4fe5504fc17ac2d2.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;s=bc225c818261939167a5aa9cc611f885" alt="https://gyazo.com/12753c13ba022e6e4fe5504fc17ac2d2" data-canonical-src="https://i.gyazo.com/12753c13ba022e6e4fe5504fc17ac2d2.png" srcset="https://qiita-user-contents.imgix.net/https%3A%2F%2Fi.gyazo.com%2F12753c13ba022e6e4fe5504fc17ac2d2.png?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;gif-q=60&amp;w=1400&amp;fit=max&amp;s=ea404899e3300d5d841797286434d29d 1x" loading="lazy"></a><br>\n判定できた！ ちなみに今回は細かい <code>.eslintsrc</code> ほか、詳細なeslint設定などはしてないです。</p>\n\n<h1>\n<span id="備考" class="fragment"></span><a href="#%E5%82%99%E8%80%83"><i class="fa fa-link"></i></a>備考</h1>\n\n<p>試したプロジェクトはこちら ↓<br>\n<a href="https://codeclimate.com/github/yamanoku/vue_portfolio_templete" rel="nofollow noopener" target="_blank">https://codeclimate.com/github/yamanoku/vue_portfolio_templete</a></p>\n\n<p>作った経緯とか ↓<br>\n<a href="http://qiita.com/yamanoku/items/41df5c05c5c89714ea3c" class="autolink" id="reference-0ff96896144dfa64a2e6">http://qiita.com/yamanoku/items/41df5c05c5c89714ea3c</a></p>\n',body:'# 概要\n\nvue.jsで作ったプロジェクトを[CodeClimate](https://codeclimate.com/)で試そうと思ったのだけれど、\n通常時では `.vue` ファイルはCodeClimateの判定に入らない。\n\n[![https://gyazo.com/3b6d92ed3d572446412316149a671855](https://i.gyazo.com/3b6d92ed3d572446412316149a671855.png)](https://gyazo.com/3b6d92ed3d572446412316149a671855)\n\n# 解決\n## 公式ドキュメント\nhttps://docs.codeclimate.com/v1.0/docs/eslint#section-extensions\n> # Extensions\n> You can configure our ESLint Engine to analyze the file types you’d like by configuring the extensions in your `.codeclimate.yml` , as shown in the example below:\n\n```yaml:.codeclimate.yml\neslint:\n  enabled: true\n  config:\n    extensions:\n    - .es6\n    - .js\n    - .jsx\n\nratings:\n   paths:\n   - "**.es6"\n   - "**.js"\n   - "**.jsx"\n\n```\neslintエンジンに対応するように、こういう感じで追加していけとのこと。\n\n## `.codeclimate.yml`\n以下をプロジェクトルートに追加、pushする。\n\n```yaml:.codeclimate.yml\n---\nengines:\n  duplication:\n    enabled: true\n    config:\n      languages:\n      - javascript\n      extensions:\n      - .js\n      - .vue\nratings:\n  paths:\n  - "**.js"\n  - "**.vue"\n```\n## リポジトリを追加する\n[![https://gyazo.com/d7b3f4fefe8bd36f1728c77524f5ad18](https://i.gyazo.com/d7b3f4fefe8bd36f1728c77524f5ad18.png)](https://gyazo.com/d7b3f4fefe8bd36f1728c77524f5ad18)\n\n「Open sourse」 → 「Add a repository」 で移動して、対象のリポジトリを追加する。\n\n[![https://gyazo.com/723ddf55036630f0a108a0d11d155e5e](https://i.gyazo.com/723ddf55036630f0a108a0d11d155e5e.png)](https://gyazo.com/723ddf55036630f0a108a0d11d155e5e)\n\n判定、通過しているか確認。\n\n## 結果\n[![https://gyazo.com/12753c13ba022e6e4fe5504fc17ac2d2](https://i.gyazo.com/12753c13ba022e6e4fe5504fc17ac2d2.png)](https://gyazo.com/12753c13ba022e6e4fe5504fc17ac2d2)\n判定できた！ ちなみに今回は細かい `.eslintsrc` ほか、詳細なeslint設定などはしてないです。\n\n# 備考\n試したプロジェクトはこちら ↓\n[https://codeclimate.com/github/yamanoku/vue_portfolio_templete](https://codeclimate.com/github/yamanoku/vue_portfolio_templete)\n\n作った経緯とか ↓\nhttp://qiita.com/yamanoku/items/41df5c05c5c89714ea3c\n',coediting:a,comments_count:0,created_at:"2017-08-29T18:14:03+09:00",group:n,id:"e2c70d303acd74289cc5",likes_count:0,private:a,reactions_count:0,tags:[{name:fa,versions:[]},{name:"YAML",versions:[]},{name:G,versions:[]},{name:"CodeClimate",versions:[]}],title:"CodeClimateで.vueファイルも判定させる",updated_at:"2017-08-29T19:01:19+09:00",url:"https://qiita.com/yamanoku/items/e2c70d303acd74289cc5",user:{description:z,facebook_id:s,followees_count:5,followers_count:j,github_login_name:s,id:s,items_count:C,linkedin_id:s,location:x,name:k,organization:E,permanent_id:F,profile_image_url:A,team_only:a,twitter_screen_name:s,website_url:w},page_views_count:n},{rendered_body:'<p>もともとiOS8であったバグだが、8以降でもこのバグが発生することがあるので備忘録。</p>\n\n<h1>\n<span id="問題点原因" class="fragment"></span><a href="#%E5%95%8F%E9%A1%8C%E7%82%B9%E5%8E%9F%E5%9B%A0"><i class="fa fa-link"></i></a>問題点・原因</h1>\n\n<p>スマホ時のタップ判定は mouseover → click という順序を通過して行われる。<br>\nこの部分でとある不具合が生じるのが  <strong>hover時のスタイル設定</strong> </p>\n\n<div class="code-frame" data-lang="css"><div class="highlight"><pre><span class="nt">a</span><span class="nd">:hover</span> <span class="p">{</span>\n <span class="nl">opacity</span><span class="p">:</span> <span class="m">.5</span><span class="p">;</span> <span class="c">/* よくあるやつ */</span>\n<span class="p">}</span>\n</pre></div></div>\n\n<p>上記のようにhover時にopacityをかけた要素は最初のタップ（mouseover）でそのスタイルが適応された後、次のタップ（click）でリンク機能が使える。<br>\nいわゆる２回タップが生じる。</p>\n\n<p>※ backgroundやcolorなどではこのバグは発生しない。display判定だと起こる模様 <sup id="fnref1"><a href="#fn1" rel="footnote" title="http://qiita.com/hibikikudo/items/6703f11627ac0c55c796 ">1</a></sup></p>\n\n<h1>\n<span id="解決策" class="fragment"></span><a href="#%E8%A7%A3%E6%B1%BA%E7%AD%96"><i class="fa fa-link"></i></a>解決策</h1>\n\n<h2>\n<span id="01-media-querycss分け対策" class="fragment"></span><a href="#01-media-querycss%E5%88%86%E3%81%91%E5%AF%BE%E7%AD%96"><i class="fa fa-link"></i></a>01. media query、CSS分け対策</h2>\n\n<div class="code-frame" data-lang="css"><div class="highlight"><pre><span class="k">@media</span> <span class="n">screen</span> <span class="n">and</span> <span class="p">(</span><span class="n">min-width</span><span class="p">:</span> <span class="m">640px</span><span class="p">)</span> <span class="p">{</span>\n  <span class="py">a</span><span class="p">:</span><span class="n">hover</span> <span class="err">{</span>\n    <span class="n">opaciry</span><span class="p">:</span> <span class="m">.5</span><span class="p">;</span>\n  <span class="p">}</span>\n<span class="err">}</span>\n</pre></div></div>\n\n<p>もしくは</p>\n\n<div class="code-frame" data-lang="css">\n<div class="code-lang"><span class="bold">style_pc.css</span></div>\n<div class="highlight"><pre><span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">a</span> <span class="p">{</span>\n  <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">a</span><span class="nd">:hover</span> <span class="p">{</span>\n  <span class="py">opaciry</span><span class="p">:</span> <span class="m">.5</span><span class="p">;</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="css">\n<div class="code-lang"><span class="bold">style_sp.css</span></div>\n<div class="highlight"><pre><span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">a</span> <span class="p">{</span>\n  <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<p>つまりスマホレイアウト時ではこのスタイルを適応させない方法。</p>\n\n<h3>\n<span id="メリット" class="fragment"></span><a href="#%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88"><i class="fa fa-link"></i></a>メリット</h3>\n\n<p>PC・スマホのサイトがそれぞれ分離していれば問題なし。</p>\n\n<h3>\n<span id="デメリット" class="fragment"></span><a href="#%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88"><i class="fa fa-link"></i></a>デメリット</h3>\n\n<p>レスポンシブサイトと断定的に使う場合この策は悪手。スマホやタブレットの解像度が疎らでどれに基準を置くか、PC時にブラウザを縮めた際にこのスタイルは適応しないなどの説明が必要。</p>\n\n<h2>\n<span id="02-useragent対策" class="fragment"></span><a href="#02-useragent%E5%AF%BE%E7%AD%96"><i class="fa fa-link"></i></a>02. userAgent対策</h2>\n\n<div class="code-frame" data-lang="js">\n<div class="code-lang"><span class="bold">jQuery</span></div>\n<div class="highlight"><pre><span class="kd">var</span> <span class="nx">ua</span> <span class="o">=</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">;</span>\n<span class="k">if</span><span class="p">(</span><span class="sr">/iPhone|iPad|iPod/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">ua</span><span class="p">))</span> <span class="p">{</span>\n  <span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">body</span><span class="dl">"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="dl">"</span><span class="s2">ios</span><span class="dl">"</span><span class="p">);</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<div class="code-frame" data-lang="css">\n<div class="code-lang"><span class="bold">css</span></div>\n<div class="highlight"><pre><span class="nc">.a</span><span class="nd">:hover</span> <span class="p">{</span>\n  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.7</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nc">.ios</span> <span class="nc">.a</span><span class="nd">:hover</span> <span class="p">{</span>\n  <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<p>下記でも可</p>\n\n<div class="code-frame" data-lang="js">\n<div class="code-lang"><span class="bold">jQuery</span></div>\n<div class="highlight"><pre><span class="kd">var</span> <span class="nx">ua</span> <span class="o">=</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">;</span>\n<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="sr">/iPhone|iPad|iPod/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">ua</span><span class="p">))</span> <span class="p">{</span>\n<span class="err">　</span><span class="nx">$</span><span class="p">(</span><span class="dl">\'</span><span class="s1">a</span><span class="dl">\'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>\n<span class="err">　　</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hover</span><span class="p">(</span>\n<span class="err">　　　</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>\n<span class="err">　　　　</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="dl">\'</span><span class="s1">opacity</span><span class="dl">\'</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">);</span>\n<span class="err">　　　</span><span class="p">},</span>\n<span class="err">　　　</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>\n<span class="err">　　　　</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="dl">\'</span><span class="s1">opacity</span><span class="dl">\'</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span>\n<span class="err">　　　</span><span class="p">}</span>\n<span class="err">　　</span><span class="p">);</span>\n<span class="err">　</span><span class="p">});</span>\n<span class="p">}</span>\n</pre></div>\n</div>\n\n<p>iOSのときのみスタイルを適応させない方法</p>\n\n<h3>\n<span id="メリット-1" class="fragment"></span><a href="#%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88-1"><i class="fa fa-link"></i></a>メリット</h3>\n\n<p>iOSバグのみなので切り分けて考えられる。レスポンシブサイトでも問題なく使える。</p>\n\n<h3>\n<span id="デメリット-1" class="fragment"></span><a href="#%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88-1"><i class="fa fa-link"></i></a>デメリット</h3>\n\n<p>対応する箇所ごとにスタイルを追加しなければならないのでその分行数は増える。<br>\nまたコメントやドキュメントにこのバグ対策したことを記載する必要あり。</p>\n\n<h4>\n<span id="-ここから追記-" class="fragment"></span><a href="#-%E3%81%93%E3%81%93%E3%81%8B%E3%82%89%E8%BF%BD%E8%A8%98-"><i class="fa fa-link"></i></a>〜〜 ここから追記 〜〜</h4>\n\n<div class="code-frame" data-lang="js"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">ontouchstart</span> <span class="o">===</span> <span class="kc">null</span><span class="p">){</span>\n    <span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="dl">\'</span><span class="s1">touch</span><span class="dl">\'</span><span class="p">);</span>\n<span class="p">}</span>\n</pre></div></div>\n\n<p>上記のようなタッチイベントがあるかどうかを判定してクラスを付与して制御するやり方もあるようです。</p>\n\n<div class="code-frame" data-lang="css"><div class="highlight"><pre><span class="nt">a</span><span class="nd">:hover</span> <span class="p">{</span>\n    <span class="nl">opacity</span><span class="p">:</span> <span class="m">.75</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nt">a</span><span class="nc">.touch</span><span class="nd">:hover</span> <span class="p">{</span>\n    <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>\n<span class="p">}</span>\n</pre></div></div>\n\n<h4>\n<span id="-ここまで追記-" class="fragment"></span><a href="#-%E3%81%93%E3%81%93%E3%81%BE%E3%81%A7%E8%BF%BD%E8%A8%98-"><i class="fa fa-link"></i></a>〜〜 ここまで追記 〜〜</h4>\n\n<h2>\n<span id="03-jsによる挙動制御-タッチ挙動" class="fragment"></span><a href="#03-js%E3%81%AB%E3%82%88%E3%82%8B%E6%8C%99%E5%8B%95%E5%88%B6%E5%BE%A1-%E3%82%BF%E3%83%83%E3%83%81%E6%8C%99%E5%8B%95"><i class="fa fa-link"></i></a>03. jsによる挙動制御 (タッチ挙動)</h2>\n\n<p>通常の場合</p>\n\n<div class="code-frame" data-lang="js">\n<div class="code-lang"><span class="bold">jQuery</span></div>\n<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="dl">\'</span><span class="s1">touchstart</span><span class="dl">\'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>\n  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">);</span>\n  <span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="nx">url</span><span class="p">;</span>\n<span class="p">});</span>\n</pre></div>\n</div>\n\n<p>別窓の場合</p>\n\n<div class="code-frame" data-lang="js">\n<div class="code-lang"><span class="bold">jQuery</span></div>\n<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="dl">\'</span><span class="s1">touchstart</span><span class="dl">\'</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span>\n  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">);</span>\n  <span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="dl">\'</span><span class="s1">_blank</span><span class="dl">\'</span><span class="p">,</span> <span class="dl">\'</span><span class="s1">width=800,height=600</span><span class="dl">\'</span><span class="p">);</span>\n<span class="p">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id="メリット-2" class="fragment"></span><a href="#%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88-2"><i class="fa fa-link"></i></a>メリット</h3>\n\n<p>タッチデバイスのみに適応できる。CSS管理とは分離ができる。</p>\n\n<h3>\n<span id="デメリット-2" class="fragment"></span><a href="#%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88-2"><i class="fa fa-link"></i></a>デメリット</h3>\n\n<p>タッチ挙動に関しての別のバグが起きないか注意。こちらもコメントやドキュメントなどで追記の必要あり。</p>\n\n<h2>\n<span id="所感" class="fragment"></span><a href="#%E6%89%80%E6%84%9F"><i class="fa fa-link"></i></a>所感</h2>\n\n<p>明確な棲み分けとしては<strong>「02. userAgent対策」</strong>が妥当かと感じた。開発規模も大きくなく他jsとの棲み分けも問題ないのであれば<strong>「03. jsによる挙動制御 (タッチ挙動)」</strong>でも良さそうだが、確実な手として比較すると怪しいかもしれない。</p>\n\n<p>そもそもスマホ時にホバー（厳密にはタップ）時のアクションなどを予め除外しておくことのが重要そうだと思った。MaterialDesginのような優れたタップイベントが分かるUIならまだしも、<strong>opacityをかけるだけのスタイルでユーザビリティが壊滅的になるならば</strong>除外することが正解にも感じるなど。</p>\n\n<h2>\n<span id="参考記事" class="fragment"></span><a href="#%E5%8F%82%E8%80%83%E8%A8%98%E4%BA%8B"><i class="fa fa-link"></i></a>参考記事</h2>\n\n<ul>\n<li> <a href="https://www.turbine.co.jp/blog/20150911_ios" rel="nofollow noopener" target="_blank">【スマホ最新情報】iPhoneでバナーを押しても反応しなくなった理由とは？</a> </li>\n<li> <a href="https://iwb.jp/wordpress-ios-8-4-1-css-hover-tap-bug/" rel="nofollow noopener" target="_blank">WordPressでのiOS 8.4.1 CSS:hoverのタップバグ問題の解決方法</a> </li>\n<li> <a href="http://epixion.com/2017/04/11/ios-10-css-hover-2-taps-bug/" rel="nofollow noopener" target="_blank">iOS 10.3.1のSafariでCSSの:hoverを1クリックカウントしてしまい2タップしないとリンク遷移しないのをjQueryで修正</a>\n</li>\n<li> <a href="http://qiita.com/yukiyukki/items/907d3173001c52df50c0" id="reference-f978386c908cd4605354">javascriptで新規タブ/ウィンドウを作成する時の罠</a>\n</li>\n<li> <a href="http://muumv.com/click-tap/" rel="nofollow noopener" target="_blank">クリックとタップを同時に指定したい場合【Javascript】</a>\n</li>\n</ul>\n\n<div class="footnotes">\n<hr>\n<ol>\n\n<li id="fn1">\n<p><a href="http://qiita.com/hibikikudo/items/6703f11627ac0c55c796" id="reference-6f5ffe4540052b2d33e3">http://qiita.com/hibikikudo/items/6703f11627ac0c55c796</a>  <a href="#fnref1">↩</a></p>\n</li>\n\n</ol>\n</div>\n',body:"もともとiOS8であったバグだが、8以降でもこのバグが発生することがあるので備忘録。\n\n# 問題点・原因\n\nスマホ時のタップ判定は mouseover → click という順序を通過して行われる。\nこの部分でとある不具合が生じるのが  **hover時のスタイル設定** \n\n```css\na:hover {\n opacity: .5; /* よくあるやつ */\n}\n```\n\n上記のようにhover時にopacityをかけた要素は最初のタップ（mouseover）でそのスタイルが適応された後、次のタップ（click）でリンク機能が使える。\nいわゆる２回タップが生じる。\n\n※ backgroundやcolorなどではこのバグは発生しない。display判定だと起こる模様 [^1]\n\n# 解決策\n\n## 01. media query、CSS分け対策\n```css\n@media screen and (min-width: 640px) {\n  a:hover {\n    opaciry: .5;\n  }\n}\n```\n\nもしくは\n\n```css:style_pc.css\nli > a {\n  color: red;\n}\nli > a:hover {\n  opaciry: .5;\n}\n```\n\n```css:style_sp.css\nli > a {\n  color: red;\n}\n```\n\nつまりスマホレイアウト時ではこのスタイルを適応させない方法。\n\n### メリット\n\nPC・スマホのサイトがそれぞれ分離していれば問題なし。\n\n### デメリット\n\nレスポンシブサイトと断定的に使う場合この策は悪手。スマホやタブレットの解像度が疎らでどれに基準を置くか、PC時にブラウザを縮めた際にこのスタイルは適応しないなどの説明が必要。\n\n## 02. userAgent対策\n```js:jQuery\nvar ua = navigator.userAgent;\nif(/iPhone|iPad|iPod/.test(ua)) {\n  $(\"body\").addClass(\"ios\");\n}\n```\n\n```css:css\n.a:hover {\n  opacity: 0.7;\n}\n.ios .a:hover {\n  opacity: 1;\n}\n```\n\n下記でも可\n\n```js:jQuery\nvar ua = navigator.userAgent;\nif(!/iPhone|iPad|iPod/.test(ua)) {\n　$('a').each(function() {\n　　$(this).hover(\n　　　function() {\n　　　　$(this).css('opacity', 0.7);\n　　　},\n　　　function() {\n　　　　$(this).css('opacity', 1.0);\n　　　}\n　　);\n　});\n}\n```\n\niOSのときのみスタイルを適応させない方法\n\n### メリット\n\niOSバグのみなので切り分けて考えられる。レスポンシブサイトでも問題なく使える。\n\n### デメリット\n\n対応する箇所ごとにスタイルを追加しなければならないのでその分行数は増える。\nまたコメントやドキュメントにこのバグ対策したことを記載する必要あり。\n\n#### 〜〜 ここから追記 〜〜\n\n```js\nif (window.ontouchstart === null){\n\t$(\"a\").addClass('touch');\n}\n```\n\n上記のようなタッチイベントがあるかどうかを判定してクラスを付与して制御するやり方もあるようです。\n\n```css\na:hover {\n\topacity: .75;\n}\na.touch:hover {\n\topacity: 1;\n}\n```\n\n#### 〜〜 ここまで追記 〜〜\n\n\n## 03. jsによる挙動制御 (タッチ挙動)\n\n通常の場合\n\n```js:jQuery\n$(\"a\").on('touchstart',function(){\n  var url = $(this).attr(\"href\");\n  location.href = url;\n});\n```\n\n別窓の場合\n\n```js:jQuery\n$(\"a\").on('touchstart',function(){\n  var url = $(this).attr(\"href\");\n  window.open(url, '_blank', 'width=800,height=600');\n});\n```\n\n### メリット\n\nタッチデバイスのみに適応できる。CSS管理とは分離ができる。\n\n### デメリット\n\nタッチ挙動に関しての別のバグが起きないか注意。こちらもコメントやドキュメントなどで追記の必要あり。\n\n## 所感\n明確な棲み分けとしては**「02. userAgent対策」**が妥当かと感じた。開発規模も大きくなく他jsとの棲み分けも問題ないのであれば**「03. jsによる挙動制御 (タッチ挙動)」**でも良さそうだが、確実な手として比較すると怪しいかもしれない。\n\nそもそもスマホ時にホバー（厳密にはタップ）時のアクションなどを予め除外しておくことのが重要そうだと思った。MaterialDesginのような優れたタップイベントが分かるUIならまだしも、**opacityをかけるだけのスタイルでユーザビリティが壊滅的になるならば**除外することが正解にも感じるなど。\n\n## 参考記事\n\n*  [【スマホ最新情報】iPhoneでバナーを押しても反応しなくなった理由とは？](https://www.turbine.co.jp/blog/20150911_ios) \n*  [WordPressでのiOS 8.4.1 CSS:hoverのタップバグ問題の解決方法](https://iwb.jp/wordpress-ios-8-4-1-css-hover-tap-bug/) \n*  [iOS 10.3.1のSafariでCSSの:hoverを1クリックカウントしてしまい2タップしないとリンク遷移しないのをjQueryで修正](http://epixion.com/2017/04/11/ios-10-css-hover-2-taps-bug/)\n*  [javascriptで新規タブ/ウィンドウを作成する時の罠](http://qiita.com/yukiyukki/items/907d3173001c52df50c0)\n*  [クリックとタップを同時に指定したい場合【Javascript】](http://muumv.com/click-tap/)\n[^1]:  [http://qiita.com/hibikikudo/items/6703f11627ac0c55c796](http://qiita.com/hibikikudo/items/6703f11627ac0c55c796) \n",coediting:a,comments_count:0,created_at:"2017-07-26T15:14:39+09:00",group:n,id:"5b95907aa82ad5f16556",likes_count:15,private:a,reactions_count:0,tags:[{name:V,versions:[]},{name:fa,versions:[]},{name:"iOS",versions:[]}],title:"iOSでダブルタップしないとリンク反応しないバグ対応について",updated_at:"2017-07-27T15:58:22+09:00",url:"https://qiita.com/yamanoku/items/5b95907aa82ad5f16556",user:{description:z,facebook_id:s,followees_count:5,followers_count:j,github_login_name:s,id:s,items_count:C,linkedin_id:s,location:x,name:k,organization:E,permanent_id:F,profile_image_url:A,team_only:a,twitter_screen_name:s,website_url:w},page_views_count:n}],stage:[{title:"ぼくとScrapboxと2019",url:"https://scrapbox.io/yamanoku/%E3%81%BC%E3%81%8F%E3%81%A8Scrapbox%E3%81%A82019",datetime:"2019-12-11"},{title:"Design Tokensを考える前に俺たちは変数名について考え直すことがあるのではないか",url:"https://scrapbox.io/yamanoku/Design_Tokens%E3%82%92%E8%80%83%E3%81%88%E3%82%8B%E5%89%8D%E3%81%AB%E4%BF%BA%E3%81%9F%E3%81%A1%E3%81%AF%E5%A4%89%E6%95%B0%E5%90%8D%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%80%83%E3%81%88%E7%9B%B4%E3%81%99%E3%81%93%E3%81%A8%E3%81%8C%E3%81%82%E3%82%8B%E3%81%AE%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84%E3%81%8B",datetime:"2019-10-03"},{title:"stylelint-a11yについて調べてわかったこと",url:"https://scrapbox.io/yamanoku/stylelint-a11y%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%AA%BF%E3%81%B9%E3%81%A6%E3%82%8F%E3%81%8B%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8",datetime:"2019-08-05"},{title:"denoについて調べたことを共有する",url:"https://scrapbox.io/yamanoku/deno%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%AA%BF%E3%81%B9%E3%81%9F%E3%81%93%E3%81%A8%E3%82%92%E5%85%B1%E6%9C%89%E3%81%99%E3%82%8B",datetime:"2019-06-28"},{title:"インプットを限りなくやったら見える世界は変わってくる",url:"https://scrapbox.io/yamanoku/%E3%82%A4%E3%83%B3%E3%83%97%E3%83%83%E3%83%88%E3%82%92%E9%99%90%E3%82%8A%E3%81%AA%E3%81%8F%E3%82%84%E3%81%A3%E3%81%9F%E3%82%89%E8%A6%8B%E3%81%88%E3%82%8B%E4%B8%96%E7%95%8C%E3%81%AF%E5%A4%89%E3%82%8F%E3%81%A3%E3%81%A6%E3%81%8F%E3%82%8B",datetime:"2019-05-29"},{title:"scroll handlerを捨てよ、Intersection Observerへ出よう",url:"https://scrapbox.io/yamanoku/scroll_handler%E3%82%92%E6%8D%A8%E3%81%A6%E3%82%88%E3%80%81Intersection_Observer%E3%81%B8%E5%87%BA%E3%82%88%E3%81%86",datetime:"2018-11-22"},{title:"outline: none;",url:"https://scrapbox.io/yamanoku/outline:_none%3B",datetime:"2018-11-09"},{title:"家庭内にScrapboxを導入してみる提案",url:"https://scrapbox.io/yamanoku/%E5%AE%B6%E5%BA%AD%E5%86%85%E3%81%ABScrapbox%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B%E6%8F%90%E6%A1%88",datetime:"2018-10-15"}],study:[{title:ia,url:ra,datetime:"2018-01-29"},{title:"Material Designとは何かを知る会",url:"https://speakerdeck.com/yamanoku/material-designtohahe-kawozhi-ruhui",datetime:"2016-06-12"}],write:[{title:"みんなに知ってもらいたいデザインシステムのこと",url:"https://note.com/yamanoku/n/n8acc38df2902",datetime:"2019-12-15"},{title:"PlayBackTech2018",url:"https://scrapbox.io/yamanoku/PlayBackTech2018",datetime:"2018-12-01"},{title:"Nota社主催でScrapbox勉強会をやってもらった話",url:"https://blog.geek.co.jp/posts/2411/",datetime:"2018-07-13"},{title:"HTMLからウェブサイトのあり方を見直す",url:"https://scrapbox.io/yamanoku/HTML%E3%81%8B%E3%82%89%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E3%81%82%E3%82%8A%E6%96%B9%E3%82%92%E8%A6%8B%E7%9B%B4%E3%81%99",datetime:"2017-12-15"},{title:"PlayBackTech2017",url:"https://scrapbox.io/yamanoku/PlayBackTech2017",datetime:"2017-12-01"},{title:"敵を知り己を知ればXSS危うからず",url:"https://scrapbox.io/yamanoku/%E6%95%B5%E3%82%92%E7%9F%A5%E3%82%8A%E5%B7%B1%E3%82%92%E7%9F%A5%E3%82%8C%E3%81%B0XSS%E5%8D%B1%E3%81%86%E3%81%8B%E3%82%89%E3%81%9A",datetime:"2016-07-19"}],lt:[{title:"まもなく娘生誕２周年だよ全員集合",url:"/LT/lt05/",datetime:"2018-02-18"},{title:"情報収集ってどうしてる？",url:"/LT/lt04/",datetime:"2017-01-09"},{title:"ガァルマゲドンについて語る #嫁ラブ",url:"/LT/lt03/",datetime:"2016-12-11"},{title:"好きなことについて語るープロレスLT",url:"/LT/lt02/",datetime:"2016-07-18"},{title:"猫のすすめ",url:"/LT/lt01/",datetime:"2015-11-16"}]},i18n:{routeParams:{}}},serverRendered:B}}(!1,"yamanoku",null,"","https://api.github.com/users/yamanoku/orgs","https://api.github.com/users/yamanoku","https://github.com/yamanoku","https://api.github.com/users/yamanoku/followers","https://api.github.com/users/yamanoku/following{/other_user}","https://api.github.com/users/yamanoku/gists{/gist_id}","https://api.github.com/users/yamanoku/starred{/owner}{/repo}","https://api.github.com/users/yamanoku/subscriptions","MDQ6VXNlcjE5OTY2NDI=","https://api.github.com/users/yamanoku/repos","https://api.github.com/users/yamanoku/events{/privacy}","https://api.github.com/users/yamanoku/received_events","User",1996642,"https://avatars1.githubusercontent.com/u/1996642?v=4","open","OWNER","CrowdWorks Inc.","Okuto Oyama","Nagareyama, Chiba, Japan","https://yamanoku.net","https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/49004/profile-images/1571117414",49004,"アクセシビリティはねぇ大事なんですよ",24,16,!0,"enhancement","https://api.github.com/repos/yamanoku/reading","https://api.github.com/repos/yamanoku/vue_portfolio_template","New feature or request",911789615,"MDU6TGFiZWw5MTE3ODk2MTU=","https://api.github.com/repos/yamanoku/reading/labels/enhancement","Vue.js","84b6eb","https://api.github.com/repos/yamanoku/vue_portfolio_template/labels/enhancement","MDU6TGFiZWw0OTcwMDUyODc=",497005287,"a2eeef","nuxt.js","design","CSS","フィードバック用ラベル","2019-08-20T01:20:09Z","2019-08-20T01:19:03Z","2019-08-20T01:18:40Z","2019-08-20T01:17:44Z","2019-08-15T08:52:21Z","2019-08-19T08:59:00Z","2019-11-12T02:14:23Z","https://api.github.com/repos/yamanoku/accessibility_book-issues","https://api.github.com/repos/yamanoku/reading/labels/design","feedback","https://api.github.com/repos/yamanoku/accessibility_book-issues/labels/feedback","MDU6TGFiZWwxMTAxNDg3MTMz",1101487133,"MDU6TGFiZWwxNTAxODYwMzQ4","vue-cli","stylelint社内勉強会資料","https://qiita.com/yamanoku/items/73ffecc8955b1fcbdcc7","2018-01-21T17:10:13+09:00",1501860348,"2017-08-30T18:44:40+09:00","JavaScript")</script><script src="/_nuxt/9dbdaf4407eb16bf7d8b.js" defer></script><script src="/_nuxt/2ff0f76c47b9d694d699.js" defer></script><script src="/_nuxt/9e483913e16aa09abd89.js" defer></script><script src="/_nuxt/87fc5b7c29185149d06e.js" defer></script><script src="/_nuxt/de9c2398c7b166c86371.js" defer></script>
  </body>
</html>
